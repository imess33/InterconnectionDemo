<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25" zv="Cache for Windows (x86-64) 2017.2.1 (Build 801U)" ts="2018-12-06 14:10:23">
<Class name="CDR.Accommodation">
<Description>
住院admission记录</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64918,60642.399004</TimeChanged>
<TimeCreated>63426,55108.907998</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.AccommodationD</DataLocation>
<DefaultData>AccommodationDefaultData</DefaultData>
<IdLocation>^CDR.AccommodationD</IdLocation>
<IndexLocation>^CDR.AccommodationI</IndexLocation>
<StreamLocation>^CDR.AccommodationS</StreamLocation>
<Data name="AccommodationDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Version</Value>
</Value>
<Value name="3">
<Value>LastModified</Value>
</Value>
<Value name="4">
<Value>LastModifiedBy</Value>
</Value>
<Value name="5">
<Value>CreationTime</Value>
</Value>
<Value name="6">
<Value>Creator</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.ActionGroup">
<Description>
症状、问题，如怀孕、发烧
其术语使用SNOMED CT clinical findings</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64711,50259.909199</TimeChanged>
<TimeCreated>63419,47722.6747</TimeCreated>

<Property name="Encounter">
<Description>
就诊 Encounter during which the condition was first asserted.</Description>
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>ActionGroups</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="ActionGroupType">
<Type>%String</Type>
</Property>

<Property name="ActionGroupDescription">
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ActionGroupD</DataLocation>
<DefaultData>ActionGroupDefaultData</DefaultData>
<IdLocation>^CDR.ActionGroupD</IdLocation>
<IndexLocation>^CDR.ActionGroupI</IndexLocation>
<StreamLocation>^CDR.ActionGroupS</StreamLocation>
<Data name="ActionGroupDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Encounter</Value>
</Value>
<Value name="3">
<Value>ActionGroupType</Value>
</Value>
<Value name="4">
<Value>ActionGroupDescription</Value>
</Value>
<Value name="5">
<Value>Version</Value>
</Value>
<Value name="6">
<Value>LastModified</Value>
</Value>
<Value name="7">
<Value>LastModifiedBy</Value>
</Value>
<Value name="8">
<Value>CreationTime</Value>
</Value>
<Value name="9">
<Value>Creator</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Address">
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64919,52039.780959</TimeChanged>
<TimeCreated>64405,41616.08966</TimeCreated>

<Property name="Type">
<Description>
地址类型：H, O,...</Description>
<Type>%String</Type>
</Property>

<Property name="Province">
<Description>
省</Description>
<Type>%String</Type>
</Property>

<Property name="City">
<Description>
市</Description>
<Type>%String</Type>
</Property>

<Property name="County">
<Description>
县</Description>
<Type>%String</Type>
</Property>

<Property name="Township">
<Description>
乡镇</Description>
<Type>%String</Type>
</Property>

<Property name="Street">
<Description>
街道</Description>
<Type>%String</Type>
</Property>

<Property name="HouseNumber">
<Description>
门牌号码</Description>
<Type>%String</Type>
</Property>

<Property name="Postcode">
<Description>
邮政编码</Description>
<Type>%String</Type>
</Property>

<Property name="OnePiece">
<Description>
PrintOut</Description>
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.AddressD</DataLocation>
<DefaultData>AddressDefaultData</DefaultData>
<IdLocation>^CDR.AddressD</IdLocation>
<IndexLocation>^CDR.AddressI</IndexLocation>
<StreamLocation>^CDR.AddressS</StreamLocation>
<ExtentSize>2001</ExtentSize>
<Data name="AddressDefaultData">
<Subscript>"Address"</Subscript>
<Value name="1">
<Value>Province</Value>
</Value>
<Value name="2">
<Value>City</Value>
</Value>
<Value name="3">
<Value>County</Value>
</Value>
<Value name="4">
<Value>Township</Value>
</Value>
<Value name="5">
<Value>StreetName</Value>
</Value>
<Value name="6">
<Value>HouseNumber</Value>
</Value>
<Value name="7">
<Value>Postcode</Value>
</Value>
<Value name="8">
<Value>OnePiece</Value>
</Value>
<Value name="9">
<Value>Street</Value>
</Value>
<Value name="10">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="11">
<Value>Version</Value>
</Value>
<Value name="12">
<Value>LastModified</Value>
</Value>
<Value name="13">
<Value>LastModifiedBy</Value>
</Value>
<Value name="14">
<Value>CreationTime</Value>
</Value>
<Value name="15">
<Value>Creator</Value>
</Value>
<Value name="16">
<Value>Type</Value>
</Value>
</Data>
<Property name="%%CLASSNAME">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:"~CDR.Address~"</OutlierSelectivity>
<AverageFieldSize>13</AverageFieldSize>
</Property>
<Property name="%%ID">
<Selectivity>1</Selectivity>
<AverageFieldSize>3.47</AverageFieldSize>
</Property>
<Property name="City">
<Selectivity>6.6660%</Selectivity>
<AverageFieldSize>2.25</AverageFieldSize>
</Property>
<Property name="County">
<Selectivity>6.6660%</Selectivity>
<AverageFieldSize>3.13</AverageFieldSize>
</Property>
<Property name="CreationTime">
<Selectivity>0.5862%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="Creator">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="HouseNumber">
<Selectivity>0.0500%</Selectivity>
<AverageFieldSize>7.22</AverageFieldSize>
</Property>
<Property name="LastModified">
<Selectivity>0.5862%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="LastModifiedBy">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="OnePiece">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="Postcode">
<Selectivity>6.6660%</Selectivity>
<AverageFieldSize>6</AverageFieldSize>
</Property>
<Property name="Province">
<Selectivity>6.6660%</Selectivity>
<AverageFieldSize>2.04</AverageFieldSize>
</Property>
<Property name="Street">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="Township">
<Selectivity>1.0760%</Selectivity>
<OutlierSelectivity>.791045:</OutlierSelectivity>
<AverageFieldSize>.66</AverageFieldSize>
</Property>
<Property name="Version">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
</Storage>
</Class>


<Class name="CDR.AdverseReaction">
<Description>
不良反应记录
Records an unexpected reaction suspected to be related to the exposure of the reaction subject to a substance.</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.433308</TimeChanged>
<TimeCreated>63419,41339.247186</TimeCreated>

<Property name="Date">
<Description>
The date (and possibly time) when the reaction began.</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Recorder">
<Description>
Identifies the individual responsible for the information in the reaction record.</Description>
<Type>%String</Type>
</Property>

<Property name="Symptom">
<Description>
The signs and symptoms that were observed as part of the reaction.</Description>
<Type>%String</Type>
<Collection>list</Collection>
</Property>

<Property name="Exposure">
<Description>
An exposure to a substance that preceded a reaction occurrence.</Description>
<Type>%String</Type>
<Collection>list</Collection>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>AdverseReactions</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="Immunization">
<Type>CDR.Immunization</Type>
<Cardinality>one</Cardinality>
<Inverse>Reactions</Inverse>
<Relationship>1</Relationship>
</Property>

<Index name="ImmunizationIndex">
<Properties>Immunization</Properties>
</Index>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.AdverseReactionD</DataLocation>
<DefaultData>AdverseReactionDefaultData</DefaultData>
<IdLocation>^CDR.AdverseReactionD</IdLocation>
<IndexLocation>^CDR.AdverseReactionI</IndexLocation>
<StreamLocation>^CDR.AdverseReactionS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="AdverseReactionDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Date</Value>
</Value>
<Value name="3">
<Value>Recorder</Value>
</Value>
<Value name="4">
<Value>Symptom</Value>
</Value>
<Value name="5">
<Value>Exposure</Value>
</Value>
<Value name="6">
<Value>Encounter</Value>
</Value>
<Value name="7">
<Value>Immunization</Value>
</Value>
<Value name="8">
<Value>ID</Value>
</Value>
<Value name="9">
<Value>LastModified</Value>
</Value>
<Value name="10">
<Value>LastModifiedBy</Value>
</Value>
<Value name="11">
<Value>Version</Value>
</Value>
<Value name="12">
<Value>CreationTime</Value>
</Value>
<Value name="13">
<Value>Creator</Value>
</Value>
<Value name="14">
<Value>%Process</Value>
</Value>
<Value name="15">
<Value>%LastError</Value>
</Value>
<Value name="16">
<Value>%LastFault</Value>
</Value>
<Value name="17">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Allergy">
<Description>
Indicates the patient has a susceptibility to an adverse reaction upon exposure to a specified substance.</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64679,59089.025403</TimeChanged>
<TimeCreated>62745,40394.00128</TimeCreated>

<Index name="ukAllergyID">
<Properties>AllergyID</Properties>
<Unique>1</Unique>
</Index>

<Property name="AllergyID">
<Type>%String</Type>
</Property>

<Property name="Allergy">
<Description><![CDATA[
Allergy code 过敏代码<br>
SDATableName=Allergy, HSDBClass=User.HS.PACAllergy<br>
HL7:  AL1-3 : AllergenCodeMnemonicDescript<br>
HL7:  IAM-3 : AllergenCodeMnemonicDescript<br>
HSDB: User.HS.PAAllergy(ALGTypeDR)<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="AllergyCategory">
<Description><![CDATA[
过敏大类
SDATableName=AllergyCategory, HSDBClass=User.HS.MRCAllType<br>
HSDB: User.HS.PACAllergy(ALGTypeDR)<br>
HL7:  AL1-2 : AllergenTypeCode<br>
HL7:  IAM-2 : AllergenTypeCode<br>
Any category of allergy <br>
This defaults "Allergy" for HL7 or SDA<br>
Do not confuse with PACAllergyCategory which is used for 'Reaction']]></Description>
<Type>%String</Type>
</Property>

<Property name="Clinician">
<Description><![CDATA[
记录过敏的医生
Clinician who diagnosed/identified allergy<br>
SDATableName=CareProvider, HSDBClass=User.HS.CTCareProv<br>
HSDB: User.HS.PAAllergy(ALGCTPCPDR)<br>
.Name<br>
.Address<br>
.ContactInfo<br>
.CareProviderType<br>]]></Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="Reaction">
<Description><![CDATA[
不良反应
The reaction to the allergy<br>
SDATableName=Reaction, HSDBClass=User.HS.PACAllergyCategory<br>
HL7:  AL1-5 : AllergyReaction<br>
HL7:  IAM-5 : AllergyReaction<br>
HSDB: User.HS.PAAllergy(ALGCategoryDR)
Do not confuse with the AllergyCategory stored in HS.SDA3.CodeTableDetail.Allergy]]></Description>
<Type>%String</Type>
</Property>

<Property name="Severity">
<Description><![CDATA[
严重程度
The severity of the allergy (e.g. Mild, Severe, Life-threatening)<br>
SDATableName=Severity, HSDBClass=User.HS.PACAllergySeverity<br>
HL7:  AL1-4 : AllergySeverityCode<br>
HL7:  IAM-4 : AllergySeverityCode<br>
HSDB: User.HS.PAAllergy(ALGSeverityDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="Certainty">
<Description><![CDATA[
确定性
The certainty of the allergy (e.g. Suspected, Confirmed, Lab-tested)<br>
SDATableName=Certainty, HSDBClass=User.HS.PACAllergyCertainty<br>
HSDB: User.HS.PAAllergy(ALGCertaintyDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="DiscoveryTime">
<Description><![CDATA[
发现时间- 时间戳格式
When the allergy was discovered<br>
HSDB: User.HS.PAAllergy(ALGDate) + User.HS.PAAllergy(ALGTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ConfirmedTime">
<Description><![CDATA[
确认时间
When the allergy was confirmed<br>
HSDB: User.HS.PAAllergy(ALGConfirmedDate)<br>
ALGConfirmedDate is date only]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Comments">
<Description><![CDATA[
描述
Comments<br>
HSDB: User.HS.PAAllergy(ALGComments)<br>
CRLF-delimited string]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="InactiveTime">
<Description><![CDATA[
脱敏时间- 时间戳格式
When the allergy was no longer active<br>
HL7:  IAM-20 : StatusedatDateTime<br>
HSDB: User.HS.PAAllergy(ALGInActiveDate)<br>
ALGInActiveDate is date only]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="InactiveComments">
<Description><![CDATA[
脱敏描述
Why the allergy is considered inactive<br>
HL7:  IAM-8 : ActionReason<br>
HSDB: User.HS.PAAllergy(ALGInActiveFreeText)<br>
CRLF-delimited string]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="VerifiedTime">
<Description><![CDATA[
证实时间- - 时间戳格式
When the allergy was verified<br>
HSDB: User.HS.PAAllergy(ALGVerifiedDate)<br>
ALGVerifiedDate is date only]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ATCCode">
<Description><![CDATA[
ATC代码
Drug group to which patient is allergic<br>
SDATableName=ATCCode, HSDBClass=User.HS.PHCSubCat<br>
HSDB: User.HS.PAAllergy(ALGPHCSCDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="ReasonNotCoded">
<Description><![CDATA[
未编码原因
Why allergy can't be coded (e.g. too imprecise)<br>
HSDB: User.HS.PAAllergy(ALGReasonNotCoded)<br>
CRLF-delimited string]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="FreeTextAllergy">
<Description><![CDATA[
自由文本的过敏信息
Allergy description if it can't be typed/coded<br>
HSDB: User.HS.PAAllergy(ALGFreeTextAllergy)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="QualifyingDetails">
<Description><![CDATA[
验证详细信息
HSDB: User.HS.PAAllergy(ALGDesc)<br>
CRLF-delimited string]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="32000"/>
</Property>

<Property name="Status">
<Description><![CDATA[
状态:A=活动的, R=已解决的, I=不活动的, C=待确认的
HSDB: User.HS.PAAllergy(ALGStatus)<br>
HL7:  IAM-17.1 : AllergyClinicalStatusCode<br>
A=Active, R=resolved, I=Inactive, C=ToBeConfirmed]]></Description>
<Type>%String</Type>
</Property>

<Property name="Patient">
<Description>
患者</Description>
<Type>CDR.Patient</Type>
<Cardinality>one</Cardinality>
<Inverse>Allergies</Inverse>
<Relationship>1</Relationship>
</Property>

<Index name="PatientIndex">
<Properties>Patient</Properties>
</Index>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..Patient.Display_"有"_..Severity_..Allergy_"过敏 "
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Q ..Patient.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.AllergyD</DataLocation>
<DefaultData>AllergyDefaultData</DefaultData>
<IdLocation>^CDR.AllergyD</IdLocation>
<IndexLocation>^CDR.AllergyI</IndexLocation>
<StreamLocation>^CDR.AllergyS</StreamLocation>
<ExtentSize>604</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="AllergyDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Allergy</Value>
</Value>
<Value name="3">
<Value>AllergyCategory</Value>
</Value>
<Value name="4">
<Value>Clinician</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Certainty</Value>
</Value>
<Value name="8">
<Value>DiscoveryTime</Value>
</Value>
<Value name="9">
<Value>ConfirmedTime</Value>
</Value>
<Value name="10">
<Value>Comments</Value>
</Value>
<Value name="11">
<Value>InactiveTime</Value>
</Value>
<Value name="12">
<Value>InactiveComments</Value>
</Value>
<Value name="13">
<Value>VerifiedTime</Value>
</Value>
<Value name="14">
<Value>ATCCode</Value>
</Value>
<Value name="15">
<Value>ReasonNotCoded</Value>
</Value>
<Value name="16">
<Value>FreeTextAllergy</Value>
</Value>
<Value name="17">
<Value>QualifyingDetails</Value>
</Value>
<Value name="18">
<Value>Status</Value>
</Value>
<Value name="19">
<Value>Patient</Value>
</Value>
<Value name="20">
<Value>ID</Value>
</Value>
<Value name="21">
<Value>Reaction</Value>
</Value>
<Value name="22">
<Value>Severity</Value>
</Value>
<Value name="23">
<Value>Version</Value>
</Value>
<Value name="24">
<Value>CreationTime</Value>
</Value>
<Value name="25">
<Value>Creator</Value>
</Value>
<Value name="26">
<Value>AllergyID</Value>
</Value>
<Value name="27">
<Value>%Process</Value>
</Value>
<Value name="28">
<Value>%LastError</Value>
</Value>
<Value name="29">
<Value>%LastFault</Value>
</Value>
<Value name="30">
<Value>Author</Value>
</Value>
</Data>
<Property name="%%CLASSNAME">
<Selectivity>100.0000%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="%%ID">
<Selectivity>1</Selectivity>
<AverageFieldSize>2.82</AverageFieldSize>
</Property>
<Property name="ATCCode">
<Selectivity>0.8333%</Selectivity>
<AverageFieldSize>7.02</AverageFieldSize>
</Property>
<Property name="Allergy">
<Selectivity>2.7778%</Selectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="AllergyCategory">
<Selectivity>14.2857%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="AllergyID">
<Selectivity>1</Selectivity>
<AverageFieldSize>13</AverageFieldSize>
</Property>
<Property name="Certainty">
<Selectivity>33.3333%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="Clinician">
<Selectivity>0.1678%</Selectivity>
<AverageFieldSize>3.04</AverageFieldSize>
</Property>
<Property name="Comments">
<Selectivity>0.1789%</Selectivity>
<AverageFieldSize>14.41</AverageFieldSize>
</Property>
<Property name="ConfirmedTime">
<Selectivity>0.1718%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="CreationTime">
<Selectivity>1.2987%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="Creator">
<Selectivity>100.0000%</Selectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="DiscoveryTime">
<Selectivity>0.1718%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="FreeTextAllergy">
<Selectivity>1.2048%</Selectivity>
<AverageFieldSize>20.31</AverageFieldSize>
</Property>
<Property name="InactiveComments">
<Selectivity>0.1700%</Selectivity>
<OutlierSelectivity>.807947:</OutlierSelectivity>
<AverageFieldSize>3.06</AverageFieldSize>
</Property>
<Property name="InactiveTime">
<Selectivity>0.1700%</Selectivity>
<OutlierSelectivity>.807947:</OutlierSelectivity>
<AverageFieldSize>3.65</AverageFieldSize>
</Property>
<Property name="LastModified">
<Selectivity>1.2987%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="LastModifiedBy">
<Selectivity>100.0000%</Selectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="Patient">
<Selectivity>0.4831%</Selectivity>
<AverageFieldSize>2.85</AverageFieldSize>
</Property>
<Property name="QualifyingDetails">
<Selectivity>1.1628%</Selectivity>
<AverageFieldSize>20.31</AverageFieldSize>
</Property>
<Property name="Reaction">
<Selectivity>33.3333%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="ReasonNotCoded">
<Selectivity>100.0000%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="Severity">
<Selectivity>25.0000%</Selectivity>
<AverageFieldSize>1.5</AverageFieldSize>
</Property>
<Property name="Status">
<Selectivity>25.0000%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="VerifiedTime">
<Selectivity>0.1700%</Selectivity>
<OutlierSelectivity>.807947:</OutlierSelectivity>
<AverageFieldSize>3.65</AverageFieldSize>
</Property>
<Property name="Version">
<Selectivity>100.0000%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<SQLMap name="IDKEY">
<BlockCount>-136</BlockCount>
</SQLMap>
<SQLMap name="PatientIndex">
<BlockCount>-4</BlockCount>
</SQLMap>
<SQLMap name="ukAllergyID">
<BlockCount>-12</BlockCount>
</SQLMap>
</Storage>
</Class>


<Class name="CDR.Appointment">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.962288</TimeChanged>
<TimeCreated>64127,62789.001774</TimeCreated>

<Property name="Patient">
<Description>
患者</Description>
<Type>CDR.Patient</Type>
<Cardinality>parent</Cardinality>
<Inverse>Appointments</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Encounter">
<Description>
对应的就诊记录</Description>
<Type>CDR.Encounter</Type>
</Property>

<Property name="NoShow">
<Description><![CDATA[
HL7ToSDA3:<br>
Will be set to 1 if an SIU_S26 (Notification that patient did not show up<br>
for scheduled appointment) is received.<br><br>
Streamlet cache:<br>
The OnBeforeMatch method of the Streamlet class will default a null value<br>
to 0. Note that this means that if the value for an existing Appointment is<br>
1 and an update is applied that has no NoShow value, the saved value will<br>
become 0.<br><br>
Viewer cache:<br>
If NoShow is 1, the value stored in the Viewer Cache is the Description for the<br>
AppointmentStatus Standard Type Item with Code="N", "Not Attended" by default.<br>
See the HS documentation for guidance on configuring this.<br><br>
VIEWERLIB: User.HS.RBAppointment(APPTConfirmation)]]></Description>
<Type>%Boolean</Type>
</Property>

<Property name="Reason">
<Description><![CDATA[
预约原因
HL7ToSDA3:<br>
SCH-7 will only be parsed if subfield 1 or 2 is not null.<br><br>
HL7:  SCH-7 : AppointmentReason<br>
SDATableName=AppointmentType, ViewerClass=User.HS.RBCSessionType<br>
VIEWERLIB: User.HS.RBApptSchedule(ASSessionTypeDR)<br><br>
.Code<br>
HL7:  SCH-7.1 : AppointmentReason.Identifier<br>
VIEWERLIB: User.HS.RBCSessionType(SESSCode)<br>
.Description<br>
HL7:  SCH-7.2 : AppointmentReason.Text<br>
VIEWERLIB: User.HS.RBCSessionType(SESSDesc)<br>
.SDACodingStandard<br>
HL7:  SCH-7.3 : AppointmentReason.NameofCodingSystem<br>
VIEWERLIB: Not stored<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="PlacerApptId">
<Description><![CDATA[
请求预约的号码
HL7ToSDA3:<br>
If both Placer Appointment ID and Occurrence Number are given, PlacerApptId<br>
will be parsed as "[PlacerAppointmentID]:[OccurrenceNumber]".<br><br>
Streamlet cache:<br>
In the OnBeforeMatch method of the Streamlet class, if both PlacerApptId<br>
and FillerApptId are null, an error will be logged and the Streamlet will<br>
not be processed.<br><br>
HL7:  SCH-1.1 : PlacerAppointmentID.EntityIdentifier<br>
HL7:  SCH-3 : OccurrenceNumber<br>
VIEWERLIB: User.HS.RBAppointment(APPTUBRN)]]></Description>
<Type>%String</Type>
</Property>

<Property name="FillerApptId">
<Description><![CDATA[
确认预约的号码
HL7ToSDA3:<br>
If both Filler Appointment ID and Occurrence Number are given,<br>
FillerApptId will be parsed as "[FillerAppointmentID]:[OccurrenceNumber]".<br><br>
Streamlet cache:<br>
In the OnBeforeMatch method of the Streamlet class, if both PlacerApptId<br>
and FillerApptId are null, an error will be logged and the Streamlet will<br>
not be processed.<br><br>
HL7:  SCH-2.1 : FillerAppointmentID.EntityIdentifier<br>
HL7:  SCH-3 : OccurrenceNumber<br>
VIEWERLIB: User.HS.RBAppointment(APPTUSRN)]]></Description>
<Type>%String</Type>
</Property>

<Index name="ukAppointmentID">
<Properties>FillerApptId</Properties>
<Unique>1</Unique>
</Index>

<Property name="Status">
<Description><![CDATA[
预约状态
HL7ToSDA3:<br>
Status will be set depending on the type of event received. Possible values<br>
are "CANCELLED" (SIU_S15, Notification of appointment cancellation), "DC"<br>
for "Discontinued" (SIU_S16, Notification of appointment discontinuation)<br>
and null for any other event.<br><br>
Streamlet cache:<br>
The OnBeforeMatch method of the Streamlet class will default a null value<br>
to "BOOKED".<br><br>
Viewer cache:<br>
In the Viewer Cache, a Status of "CANCELLED" will be stored as "X", "DC" as<br>
"D", and all other values as "P". The value that appears in the Viewer does<br>
not come from the DISPLAYLIST of the APPTStatus property, but rather the<br>
Description for the corresponding RBApptStatus Standard Type Item.  See the<br>
HS documentation for guidance on configuring this.<br><br>
VIEWERLIB: User.HS.RBAppointment(APPTStatus)]]></Description>
<Type>%String</Type>
</Property>

<Property name="Type">
<Description>
预约类型</Description>
<Type>%String</Type>
</Property>

<Property name="Priority">
<Description>
优先级</Description>
<Type>%String</Type>
</Property>

<Property name="TimeStart">
<Description>
预约时间段-开始时间 (时间戳格式)</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="TimeEnd">
<Description>
预约时间段-结束时间 (时间戳格式)</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Duration">
<Description>
预约持续时间</Description>
<Type>%String</Type>
</Property>

<Property name="Comment">
<Description>
说明</Description>
<Type>%String</Type>
</Property>

<Property name="CareProvider">
<Description><![CDATA[
HL7ToSDA3:<br>
Though AIP-3 is a repeating field, HL7ToSDA3 will only parse the first<br>
non-null instance. AIP-4, if present, will be parsed as the<br>
CareProviderType of the AIP-3 CareProvider.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Appointment<br>
does not have a CareProvider or Location, an error will be logged and<br>
the streamlet will not be saved.<br><br>
HL7:  AIP-3 : PersonnelResourceID<br>
HL7:  AIP-4 : ResourceType<br>
SDATableName=CareProvider, ViewerClass=User.HS.CTCareProv<br>
VIEWERLIB: User.HS.RBAppointment(APPTRequestedCPDR)<br><br>
.Code<br>
HL7:  AIP-3.1 : IDNumber<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPCode)<br>
.Description<br>
HL7ToSDA3:<br>
The name is formatted as "[Family], [Given]" to make the Description.<br>
HL7:  AIP-3.2.1 : FamilyName.Surname<br>
HL7:  AIP-3.3 : GivenName<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPDesc)<br>
.SDACodingStandard<br>
HL7:  AIP-3.9 : AssigningAuthority<br>
VIEWERLIB: Not stored<br>
.Name.FamilyName<br>
HL7:  AIP-3.2.1 : FamilyName.Surname<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPSurname)<br>
.Name.GivenName<br>
HL7:  AIP-3.3 : GivenName<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPFirstName)<br>
.Name.MiddleName<br>
HL7:  AIP-3.4 : SecondandFurtherGivenName<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPOtherName)<br>
.Name.NamePrefix<br>
HL7:  AIP-3.6 : Prefix<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPTitle)<br>
.Name.NameSuffix<br>
HL7:  AIP-3.5 : Suffix<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPTextTwo)<br>
.Name.ProfessionalSuffix<br>
HL7:  AIP-3.21 : ProfessionalSuffix<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPTextThree)<br>
.CareProviderType<br>
HL7ToSDA3:<br>
AIP-4 will be parsed as the CareProviderType of the AIP-3 CareProvider, but<br>
only if subfield 1 or 2 is not null.<br>
HL7:  AIP-4 : ResourceType<br>
SDATableName=CareProviderType, ViewerClass=User.HS.CTCarPrvTp<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPCarPrvTpDR)<br>
.CareProviderType.Code<br>
HL7:  AIP-4.1 : ResourceType.Identifier<br>
VIEWERLIB: User.HS.CTPCPCarPrvTpDR(CTCPTCode)<br>
.CareProviderType.Description<br>
HL7:  AIP-4.2 : ResourceType.Text<br>
VIEWERLIB: User.HS.CTPCPCarPrvTpDR(CTCPTDesc)<br>
.CareProviderType.SDACodingStandard<br>
HL7:  AIP-4.3 : ResourceType.NameofCodingSystem<br>
VIEWERLIB: Not stored]]></Description>
<Type>%String</Type>
</Property>

<Property name="Location">
<Description><![CDATA[
HL7ToSDA3:<br>
AIL-3.9 is parsed to the Location Code. HL7ToSDA3 does not set the<br>
Description.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Appointment<br>
does not have a CareProvider or Location, an error will be logged and<br>
the streamlet will not be saved.<br><br>
HL7:  AIL-3.9 : LocationResourceID.LocationDescription<br>
SDATableName=HealthCareFacility, ViewerClass=User.HS.CTLoc<br>
VIEWERLIB: User.HS.RBResource(RESCTLOCDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="EnteredBy">
<Description><![CDATA[
HL7ToSDA3:<br>
Though SCH-20 is a repeating field, HL7ToSDA3 will only use the first<br>
non-null instance.<br><br>
HL7:  SCH-20 : EnteredByPerson<br>
SDATableName=User, ViewerClass=User.HS.SSUser<br>
VIEWERLIB: User.HS.RBAppointment(APPTLastStatusChangeUserDR)<br><br>
.Code<br>
HL7:  SCH-20.1 : EnteredByPerson.IDNumber<br>
VIEWERLIB: User.HS.SSUser(SSUSRInitials)<br>
.Description<br>
HL7ToSDA3:<br>
The name is formatted as "[Family], [Given]" to make the Description.<br>
HL7:  SCH-20.2.1 : EnteredByPerson.FamilyName.Surname<br>
HL7:  SCH-20.3 : EnteredByPerson.GivenName<br>
VIEWERLIB: User.HS.SSUser(SSUSRName)<br>
.SDACodingStandard<br>
HL7:  SCH-20.9 : EnteredByPerson.AssigningAuthority<br>
VIEWERLIB: Not stored<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="EnteredAt">
<Description><![CDATA[
HL7ToSDA3:<br>
SCH-22 is used if subfield 4.1 is not null, else MSH-4 is used.  In either<br>
case, the HL7 value is used as the EnteredAt Code. HL7ToSDA3 does not set<br>
the Description.<br><br>
HL7:  SCH-22.4.1 : EnteredAtLocation.Facility.NamespaceID<br>
HL7:  MSH-4.1 : SendingFacility.NamespaceID<br>
SDATableName=Organization, ViewerClass=User.HS.CTHospital<br>
VIEWERLIB: User.HS.RBAppointment(APPTLastStatusChangeHospitalDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="EnteredOn">
<Description><![CDATA[
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if EnteredOn is null, it<br>
is defaulted to the current date/time.<br><br>
VIEWERLIB: User.HS.RBAppointment(APPTLastStatusChangeDate) + User.HS.RBAppointment(APPTLastStatusChangeTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ActionCode">
<Description>
A	Add/Insert; D	Delete; U	Update</Description>
<Type>%String</Type>
<InitialExpression>"A"</InitialExpression>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.AppointmentD</DataLocation>
<DefaultData>AppointmentDefaultData</DefaultData>
<IdLocation>^CDR.AppointmentD</IdLocation>
<IndexLocation>^CDR.AppointmentI</IndexLocation>
<StreamLocation>^CDR.AppointmentS</StreamLocation>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="AppointmentDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>AppointmentID</Value>
</Value>
<Value name="3">
<Value>Status</Value>
</Value>
<Value name="4">
<Value>Type</Value>
</Value>
<Value name="5">
<Value>Reason</Value>
</Value>
<Value name="6">
<Value>Priority</Value>
</Value>
<Value name="7">
<Value>LastModified</Value>
</Value>
<Value name="8">
<Value>LastModifiedBy</Value>
</Value>
<Value name="9">
<Value>Duration</Value>
</Value>
<Value name="10">
<Value>Comment</Value>
</Value>
<Value name="11">
<Value>TimeEnd</Value>
</Value>
<Value name="12">
<Value>TimeStart</Value>
</Value>
<Value name="13">
<Value>Version</Value>
</Value>
<Value name="14">
<Value>CreationTime</Value>
</Value>
<Value name="15">
<Value>Creator</Value>
</Value>
<Value name="16">
<Value>CareProvider</Value>
</Value>
<Value name="17">
<Value>Location</Value>
</Value>
<Value name="18">
<Value>EnteredBy</Value>
</Value>
<Value name="19">
<Value>EnteredAt</Value>
</Value>
<Value name="20">
<Value>EnteredOn</Value>
</Value>
<Value name="21">
<Value>NoShow</Value>
</Value>
<Value name="22">
<Value>PlacerApptId</Value>
</Value>
<Value name="23">
<Value>FillerApptId</Value>
</Value>
<Value name="24">
<Value>Encounter</Value>
</Value>
<Value name="25">
<Value>ActionCode</Value>
</Value>
<Value name="26">
<Value>%Process</Value>
</Value>
<Value name="27">
<Value>%LastError</Value>
</Value>
<Value name="28">
<Value>%LastFault</Value>
</Value>
<Value name="29">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Attester">
<Description>
Using for document signature part, maybe more situation later</Description>
<Super>%SerialObject,%XML.Adaptor</Super>
<TimeChanged>64669,44292.713039</TimeChanged>
<TimeCreated>64669,43859.76123</TimeCreated>

<Property name="AttesterType">
<Description>
For CDA document, using two types in the following valuelist</Description>
<Type>%String</Type>
<Parameter name="VALUELIST" value=",authenticator,legalAuthenticator"/>
</Property>

<Property name="PatientAttester">
<Type>CDR.Patient</Type>
</Property>

<Property name="PractitionerAttester">
<Type>CDR.Practitioner</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>AttesterState</State>
<StreamLocation>^CDR.AttesterS</StreamLocation>
<Data name="AttesterState">
<Value name="1">
<Value>AttesterType</Value>
</Value>
<Value name="2">
<Value>Patient</Value>
</Value>
<Value name="3">
<Value>Practitioner</Value>
</Value>
<Value name="4">
<Value>PatientAttester</Value>
</Value>
<Value name="5">
<Value>PractitionerAttester</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Base">
<Description>
^CDR.InitialLoad, set this global when history data upload</Description>
<Abstract>1</Abstract>
<Super>%XML.Adaptor</Super>
<TimeChanged>64918,60641.872428</TimeChanged>
<TimeCreated>63417,31277.739726</TimeCreated>

<Parameter name="DSTIME">
<Default>AUTO</Default>
</Parameter>

<Parameter name="DSINTERVAL">
<Default>1</Default>
</Parameter>

<Parameter name="VERSIONPROPERTY">
<Type>STRING</Type>
<Default>Version</Default>
</Parameter>

<UDLText name="T">
<Content><![CDATA[
// Property ID As %String;

]]></Content>
</UDLText>

<Property name="Display">
<Description>
可读说明</Description>
<Type>%String</Type>
<Calculated>1</Calculated>
<Parameter name="XMLPROJECTION" value="None"/>
</Property>

<Property name="Version">
<Description>
对象版本号</Description>
<Type>%Integer</Type>
<Parameter name="XMLPROJECTION" value="None"/>
</Property>

<Property name="LastModified">
<Description>
最后更改时间  [ InitialExpression = {$ZDATETIME($ZTIMESTAMP,3,1,1)} ]</Description>
<Type>%TimeStamp</Type>
<InitialExpression>$Zd($h,3)_" "_$zt($P($h,",",2))</InitialExpression>
<Parameter name="XMLPROJECTION" value="None"/>
</Property>

<Property name="LastModifiedBy">
<Description>
最后更改人</Description>
<Type>%String</Type>
<InitialExpression>$UserName</InitialExpression>
<Parameter name="XMLPROJECTION" value="None"/>
</Property>

<Property name="CreationTime">
<Description>
创建时间</Description>
<Type>%TimeStamp</Type>
<InitialExpression>$Zdt($h,3)</InitialExpression>
<Parameter name="XMLPROJECTION" value="None"/>
</Property>

<Property name="Creator">
<Description>
创建人</Description>
<Type>%String</Type>
<InitialExpression>$UserName</InitialExpression>
<Parameter name="XMLPROJECTION" value="None"/>
</Property>

<Method name="%OnBeforeSave">
<FormalSpec>insert:%Boolean</FormalSpec>
<Private>1</Private>
<ReturnType>%Status</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[
	/*if $G(^CDR.InitialLoad)'=1
	{
		Set tInd = $I(^CDROBJLog)
		Set ^CDROBJLog(tInd)=..%Oid()
		Set ^CDROBJLog(tInd,$ZTIMESTAMP)=insert
	}*/
	
	Set tMonitorPropLst = $G(^CDRSetting("PropMonitorList",..%ClassName(1)))
	If tMonitorPropLst '=""
	{
		For i=1:1:$L(tMonitorPropLst,",")
		{
			Set tProp = $P(tMonitorPropLst,",",i)
			If $ZOBJMETHOD($this,tProp_"IsModified")
			{
				Set tInd = $I(^CDROBJLog)
				//OID^IsInsert^Version^TimeStamp
				Set ^CDROBJLog(tInd)=..%Oid()_"^"_insert_"^"_..Version_^$ZDATETIME($ZTIMESTAMP,3,1,1)
				// property value before save
				Set ^CDROBJLog(tInd,tProp,"B")=$ZOBJMETHOD($this,tProp_"GetStored")
				// property value after save
				Set ^CDROBJLog(tInd,tProp,"A")=$ZOBJPROPERTY($this,tProp)
			}
		}
	}
   Quit $$$OK
]]></Implementation>
</Method>

<Method name="GetMRN">
<Description><![CDATA[
This callback method is invoked by the <METHOD>%Save</METHOD> method to 
provide notification that the object is being saved. It is called after 
the object's data has been successfully written to disk.

<P><VAR>insert</VAR> will be set to 1 if this object is being saved for the first time.

<P>If this method returns an error then the call to <METHOD>%Save</METHOD> will fail.
得到病人病历号]]></Description>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ""
]]></Implementation>
</Method>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ""
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.BaseD</DataLocation>
<DefaultData>BaseDefaultData</DefaultData>
<IdLocation>^CDR.BaseD</IdLocation>
<IndexLocation>^CDR.BaseI</IndexLocation>
<StreamLocation>^CDR.BaseS</StreamLocation>
<ExtentSize>2008</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="BaseDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>%Process</Value>
</Value>
<Value name="3">
<Value>%LastError</Value>
</Value>
<Value name="4">
<Value>%LastFault</Value>
</Value>
<Value name="5">
<Value>Version</Value>
</Value>
<Value name="6">
<Value>LastModified</Value>
</Value>
<Value name="7">
<Value>LastModifiedBy</Value>
</Value>
<Value name="8">
<Value>CreationTime</Value>
</Value>
<Value name="9">
<Value>Creator</Value>
</Value>
<Value name="10">
<Value>Author</Value>
</Value>
</Data>
<Property name="%%CLASSNAME">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:"~CDR.Address~"</OutlierSelectivity>
<AverageFieldSize>13</AverageFieldSize>
</Property>
<Property name="%%ID">
<Selectivity>1</Selectivity>
<AverageFieldSize>3.48</AverageFieldSize>
</Property>
<Property name="CreationTime">
<Selectivity>0.7231%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="Creator">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="LastModified">
<Selectivity>0.7231%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="LastModifiedBy">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="Version">
<Selectivity>0.0522%</Selectivity>
<OutlierSelectivity>.994776:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<SQLMap name="IDKEY">
<BlockCount>-224</BlockCount>
</SQLMap>
</Storage>
</Class>


<Class name="CDR.Code.Abstract">
<Description>
Abstract class of all Codeable Concept</Description>
<Abstract>1</Abstract>
<Super>%XML.Adaptor</Super>
<TimeChanged>64918,61675.916665</TimeChanged>
<TimeCreated>64188,48062.519034</TimeCreated>

<Parameter name="CodingSystem">
<Description>
CodeSystem名称，如‘病情转归代码表’</Description>
<Type>%String</Type>
</Parameter>

<Parameter name="CodeType">
</Parameter>

<Property name="Code">
<Type>%String</Type>
</Property>

<Property name="Name">
<Type>%String</Type>
</Property>

<Property name="Description">
<Description>
暂时没用</Description>
<Type>%String</Type>
</Property>

<Method name="getRandomInstance">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	SET sqlStr = "select count(*) from " _ $replace(..%PackageName(),".","_")_"."_..%ClassName()
	SET tStatement = ##class(%SQL.Statement).%New()
	SET qStatus = tStatement.%Prepare(.sqlStr)
    IF qStatus'=1 {WRITE "%Prepare failed:" DO $System.Status.DisplayError(qStatus) QUIT}
    SET rset = tStatement.%Execute()
    if rset.%Next(){
	    set count = rset.%GetData(1)
	}
	if 1 > count {quit}
	set idx = $R(count)+1
	quit ..%OpenId(idx)
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Code.AdministrativeDivision">
<Description>
行政区划</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64309,31503.180396</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.038.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>GB/T 2260</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>AdministrativeDivision</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.Administrat76E7D</DataLocation>
<DefaultData>AdministrativeDivisionDefaultData</DefaultData>
<IdLocation>^CDR.Code.Administrat76E7D</IdLocation>
<IndexLocation>^CDR.Code.Administrat76E7I</IndexLocation>
<StreamLocation>^CDR.Code.Administrat76E7S</StreamLocation>
<Data name="AdministrativeDivisionDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.AdmissionType">
<Description>
住院原因</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64476,36708.657649</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>CV09.00.404</Default>
</Parameter>

<Parameter name="CodingSystem">
</Parameter>

<Parameter name="OID">
<Default>2.16.156.10011.2.3.1.271</Default>
</Parameter>

<Parameter name="CodeType">
<Default>患者类型代码表</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "1,2,3,9", tDescs = "病伤,体检,分娩,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.AdmissionTypeD</DataLocation>
<DefaultData>AdmissionTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.AdmissionTypeD</IdLocation>
<IndexLocation>^CDR.Code.AdmissionTypeI</IndexLocation>
<StreamLocation>^CDR.Code.AdmissionTypeS</StreamLocation>
<Data name="AdmissionTypeDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.AdmitReason">
<Description>
住院原因</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64475,46082.725075</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE06.00.173.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>CV06.00.212</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.AdmitReasonD</DataLocation>
<DefaultData>AdmitReasonDefaultData</DefaultData>
<IdLocation>^CDR.Code.AdmitReasonD</IdLocation>
<IndexLocation>^CDR.Code.AdmitReasonI</IndexLocation>
<StreamLocation>^CDR.Code.AdmitReasonS</StreamLocation>
<Data name="AdmitReasonDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Allergen">
<Description>
过敏源</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64321,9289.528667</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE05.01.022.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Description>
CV05.01.038</Description>
<Default>2.16.156.10011.2.2.1</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>Allergen</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "1,101,102,103,104,105,106,199,2,201,202,203,204,205,206,207,208,299,3,301,302,303,399,4,9", 
	tDescs = "药物,青霉素类抗生素,磺胺类抗生素,头孢类抗生素,含碘药品,酒精,镇静麻醉剂,其他药物过敏源,食物,猪肉,羊肉,牛肉,牛奶,蛋及蛋制品,鸡、鸭等禽类食品,鱼、虾等水产类食品,水果（包括带壳的果仁）,其他食物过敏源,环境,植物花粉,动物毛发,空气粉尘,其他环境过敏源,混合性过敏源,其他过敏源"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.AllergenD</DataLocation>
<DefaultData>AllergenDefaultData</DefaultData>
<IdLocation>^CDR.Code.AllergenD</IdLocation>
<IndexLocation>^CDR.Code.AllergenI</IndexLocation>
<StreamLocation>^CDR.Code.AllergenS</StreamLocation>
<Data name="AllergenDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.BloodRelation">
<Description>
血缘关系</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64309,9712.583062</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.043.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>CV02.01.201</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>BloodRelation</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "1,2,3,4,5,9", tDescs = "无血缘关系,直系血缘关系,三代以内的旁系血缘关系,三代以外的旁系血缘关系,不详,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.BloodRelationD</DataLocation>
<DefaultData>BloodRelationDefaultData</DefaultData>
<IdLocation>^CDR.Code.BloodRelationD</IdLocation>
<IndexLocation>^CDR.Code.BloodRelationI</IndexLocation>
<StreamLocation>^CDR.Code.BloodRelationS</StreamLocation>
<Data name="BloodRelationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.BloodType">
<Description>
血缘关系</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64665,38554.769194</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.BloodTypeD</DataLocation>
<DefaultData>BloodTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.BloodTypeD</IdLocation>
<IndexLocation>^CDR.Code.BloodTypeI</IndexLocation>
<StreamLocation>^CDR.Code.BloodTypeS</StreamLocation>
<Data name="BloodTypeDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.BodySite">
<Description>
身体部位</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64321,8379.727065</TimeChanged>
<TimeCreated>63417,50195.852997</TimeCreated>

<Parameter name="CV">
<Default>DE05.01.024.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>CV06.00.227</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>BodySite</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,99", 
	tDescs = "双侧鼻孔,臀部,左臂,左前胸,左肘前窝,左三角肌,左耳,左外颈,左足,左臀中肌,左手,左内颈,左下腹,左下臂,左中臂,左侧鼻孔,左后胸,左锁骨下,左大腿,左上臂,左上腹,左腹侧臀肌,左股外肌,右眼,左眼,双眼,肛门,会阴,右臂,右前胸,右肘前窝,右侧三角肌,右耳,右外颈,右足,右臀中肌,右手,右内颈,右下腹,右下臂,右中臂,右后胸,右锁骨下,右大腿,右上臂,右上腹,右腹侧臀肌,右股外侧肌,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.BodySiteD</DataLocation>
<DefaultData>BodySiteDefaultData</DefaultData>
<IdLocation>^CDR.Code.BodySiteD</IdLocation>
<IndexLocation>^CDR.Code.BodySiteI</IndexLocation>
<StreamLocation>^CDR.Code.BodySiteS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="BodySiteDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>Code</Value>
</Value>
<Value name="7">
<Value>Name</Value>
</Value>
<Value name="8">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.CensusRegistryType">
<Description>
户籍类型	</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64310,510.787703</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.058.00</Default>
</Parameter>

<Parameter name="CodingSystem">
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>CensusRegistryType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "1,2,3", tDescs = "本地户口,非本地户口,非本地户口居住一年以上"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.CensusRegistryTypeD</DataLocation>
<DefaultData>CensusRegistryTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.CensusRegistryTypeD</IdLocation>
<IndexLocation>^CDR.Code.CensusRegistryTypeI</IndexLocation>
<StreamLocation>^CDR.Code.CensusRegistryTypeS</StreamLocation>
<Data name="CensusRegistryTypeDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.DeathLocation">
<Description>
死亡地点类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64474,80928.655084</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.034.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>CV02.01.103</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>DeceasePlace</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "01,02,03,04,05,06,07,99", tDescs = "医院病房,急诊室,家中,外地,家庭病床,敬老院,来院已死,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DeathLocationD</DataLocation>
<DefaultData>DeathLocationDefaultData</DefaultData>
<IdLocation>^CDR.Code.DeathLocationD</IdLocation>
<IndexLocation>^CDR.Code.DeathLocationI</IndexLocation>
<StreamLocation>^CDR.Code.DeathLocationS</StreamLocation>
<Data name="DeathLocationDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.DeathReason">
<Description>
死亡地点类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64481,41377.575947</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE05.01.021.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>卫生信息数据元目录</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Property name="Name">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1000"/>
</Property>

<Property name="EName">
<Description>
english name</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="1000"/>
</Property>

<Property name="EDesc">
<Description>
english description</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="1000"/>
</Property>

<Parameter name="CodeType">
<Default>根本死因代码</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "01,02,03,04,05,06,07,99", tDescs = "医院病房,急诊室,家中,外地,家庭病床,敬老院,来院已死,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DeathReasonD</DataLocation>
<DefaultData>DeathReasonDefaultData</DefaultData>
<IdLocation>^CDR.Code.DeathReasonD</IdLocation>
<IndexLocation>^CDR.Code.DeathReasonI</IndexLocation>
<StreamLocation>^CDR.Code.DeathReasonS</StreamLocation>
<Data name="DeathReasonDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
<Value name="5">
<Value>EName</Value>
</Value>
<Value name="6">
<Value>EDesc</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.DeceasePlace">
<Description>
死亡地点类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64309,31260.922428</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.034.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>CV02.01.103</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>DeceasePlace</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "01,02,03,04,05,06,07,99", tDescs = "医院病房,急诊室,家中,外地,家庭病床,敬老院,来院已死,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DeceasePlaceD</DataLocation>
<DefaultData>DeceasePlaceDefaultData</DefaultData>
<IdLocation>^CDR.Code.DeceasePlaceD</IdLocation>
<IndexLocation>^CDR.Code.DeceasePlaceI</IndexLocation>
<StreamLocation>^CDR.Code.DeceasePlaceS</StreamLocation>
<Data name="DeceasePlaceDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Diagnosis">
<Description>
疾病诊断</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64476,40617.486218</TimeChanged>
<TimeCreated>63417,50727.706066</TimeCreated>

<Parameter name="CV">
<Default>DE05.01.024.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>ICD-10</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>Diagnosis</Default>
</Parameter>

<Property name="Name">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1000"/>
</Property>

<Property name="EName">
<Description>
english name</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="1000"/>
</Property>

<Property name="EDesc">
<Description>
english description</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="1000"/>
</Property>

<Parameter name="XMLTYPE">
<Default>DiagnosisCode</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DiagnosisD</DataLocation>
<DefaultData>DiagnosisDefaultData</DefaultData>
<IdLocation>^CDR.Code.DiagnosisD</IdLocation>
<IndexLocation>^CDR.Code.DiagnosisI</IndexLocation>
<StreamLocation>^CDR.Code.DiagnosisS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="DiagnosisDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>Code</Value>
</Value>
<Value name="7">
<Value>CName</Value>
</Value>
<Value name="8">
<Value>EName</Value>
</Value>
<Value name="9">
<Value>CDesc</Value>
</Value>
<Value name="10">
<Value>EDesc</Value>
</Value>
<Value name="11">
<Value>CodeSystem</Value>
</Value>
<Value name="12">
<Value>Name</Value>
</Value>
<Value name="13">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.DiagnosisStatusCode">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64476,36706.74609</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="DEID">
<Default>DE05.10.113.00</Default>
</Parameter>

<Parameter name="DEIDdisplayName">
<Default>治疗结果代码</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>病情转归代码表</Default>
</Parameter>

<Parameter name="OID">
<Default>2.16.156.10011.2.3.1.148</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DiagnosisStatusCodeD</DataLocation>
<DefaultData>DiagnosisStatusCodeDefaultData</DefaultData>
<IdLocation>^CDR.Code.DiagnosisStatusCodeD</IdLocation>
<IndexLocation>^CDR.Code.DiagnosisStatusCodeI</IndexLocation>
<StreamLocation>^CDR.Code.DiagnosisStatusCodeS</StreamLocation>
<Data name="DiagnosisStatusCodeDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Document">
<Description>
for example: name=“病历概要”；Code="C0001", Description="2.16.156.10011.2.1.1.21"</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64624,59633.158197</TimeChanged>
<TimeCreated>63417,50727.706066</TimeCreated>

<Parameter name="CodingSystem">
<Default>卫生信息共享文档规范编码体系</Default>
</Parameter>

<Parameter name="OID">
<Default>2.16.156.10011.2.4</Default>
</Parameter>

<Property name="TemplatedID">
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DocumentD</DataLocation>
<DefaultData>DocumentDefaultData</DefaultData>
<IdLocation>^CDR.Code.DocumentD</IdLocation>
<IndexLocation>^CDR.Code.DocumentI</IndexLocation>
<StreamLocation>^CDR.Code.DocumentS</StreamLocation>
<Data name="DocumentDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>templatedId</Value>
</Value>
<Value name="3">
<Value>Code</Value>
</Value>
<Value name="4">
<Value>Name</Value>
</Value>
<Value name="5">
<Value>Description</Value>
</Value>
<Value name="6">
<Value>TemplatedID</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.DocumentSection">
<Description>
example: code=DE02.10.031.00; name=护理观察项目名称</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64720,61368.425477</TimeChanged>
<TimeCreated>63417,50727.706066</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
// Parameter CodingSystem = "卫生信息数据元目录";

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Parameter OID = "2.16.156.10011.2.2.1";

]]></Content>
</UDLText>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DocumentSectionD</DataLocation>
<DefaultData>DocumentSectionDefaultData</DefaultData>
<IdLocation>^CDR.Code.DocumentSectionD</IdLocation>
<IndexLocation>^CDR.Code.DocumentSectionI</IndexLocation>
<StreamLocation>^CDR.Code.DocumentSectionS</StreamLocation>
<Data name="DocumentSectionDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.DosageForm">
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64476,40273.964643</TimeChanged>
<TimeCreated>63417,58601.907741</TimeCreated>

<Parameter name="CodingSystem">
<Default>药物剂型代码表</Default>
</Parameter>

<Parameter name="OID">
<Default>2.16.156.10011.2.3.1.211</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.DosageFormD</DataLocation>
<DefaultData>DosageFormDefaultData</DefaultData>
<IdLocation>^CDR.Code.DosageFormD</IdLocation>
<IndexLocation>^CDR.Code.DosageFormI</IndexLocation>
<StreamLocation>^CDR.Code.DosageFormS</StreamLocation>
<Data name="DosageFormDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Version</Value>
</Value>
<Value name="3">
<Value>LastModified</Value>
</Value>
<Value name="4">
<Value>LastModifiedBy</Value>
</Value>
<Value name="5">
<Value>CreationTime</Value>
</Value>
<Value name="6">
<Value>Creator</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Education">
<Description>
学历</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64919,40985.360358</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.041.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>GB/T 4658</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>Education</Default>
</Parameter>

<Index name="ukCode">
<Properties>Code</Properties>
<Unique>1</Unique>
</Index>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "10,11,12,13,14,15,16,17,18,19,20,21,22,23,28,30,31,32,33,40,41,42,43,44,45,46,47,48,49,60,61,62,63,70,71,73,80,81,83,90", 
	tDescs = "研究生教育,博士研究生毕业,博士研究生结业,博士研究生肄业,硕士研究生毕业,硕士研究生结业,硕士研究生肄业,研究生班毕业,研究生班结业,研究生班肄业,大学本科,大学本科毕业,大学本科结业,大学本科肄业,大学普通班毕业,专科教育,大学专科毕业,大学专科结业,大学专科肄业,中等职业教育,中等专科毕业,中等专科结业,中等专科肄业,职业高中毕业,职业高中结业,职业高中肄业,技工学校毕业,技工学校结业,技工学校肄业,普通高级中学教育,普通高中毕业,普通高中结业,普通高中肄业,初级中学教育,初中毕业,初中肄业,小学教育,小学毕业,小学肄业,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.EducationD</DataLocation>
<DefaultData>EducationDefaultData</DefaultData>
<IdLocation>^CDR.Code.EducationD</IdLocation>
<IndexLocation>^CDR.Code.EducationI</IndexLocation>
<StreamLocation>^CDR.Code.EducationS</StreamLocation>
<Data name="EducationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.EthnicGroup">
<Description>
民族</Description>
<Super>%SerialObject,CDR.Code.Abstract</Super>
<TimeChanged>64919,49301.301563</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>EthnicGroupState</State>
<StreamLocation>^CDR.Code.EthnicGroupS</StreamLocation>
<Data name="EthnicGroupState">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>Code</Value>
</Value>
<Value name="2">
<Value>Name</Value>
</Value>
<Value name="3">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Gender">
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64476,35829.827378</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="DEID">
<Default>DE02.01.040.00</Default>
</Parameter>

<Parameter name="CV">
<Default>CV02.01.204</Default>
</Parameter>

<Parameter name="CodingSystem">
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>Gender</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
	
	Set tCodes = "0,1,2,9", tDescs = "未知,男性,女性,未说明"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.GenderD</DataLocation>
<DefaultData>GenderDefaultData</DefaultData>
<IdLocation>^CDR.Code.GenderD</IdLocation>
<IndexLocation>^CDR.Code.GenderI</IndexLocation>
<StreamLocation>^CDR.Code.GenderS</StreamLocation>
<Data name="GenderDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.IOTDocumentType">
<Description>
住院原因</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64911,37848.494366</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>CV09.00.404</Default>
</Parameter>

<Parameter name="CodingSystem">
</Parameter>

<Parameter name="OID">
<Default>2.16.156.10011.2.3.1.271</Default>
</Parameter>

<Parameter name="CodeType">
<Default>患者类型代码表</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "1,2,3,9", tDescs = "病伤,体检,分娩,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.IOTDocumentTypeD</DataLocation>
<DefaultData>IOTDocumentTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.IOTDocumentTypeD</IdLocation>
<IndexLocation>^CDR.Code.IOTDocumentTypeI</IndexLocation>
<StreamLocation>^CDR.Code.IOTDocumentTypeS</StreamLocation>
<Data name="IOTDocumentTypeDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.InsuranceType">
<Description>
职业类别</Description>
<Super>%SerialObject,CDR.Code.Abstract</Super>
<TimeChanged>64919,50323.614348</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>InsuranceTypeState</State>
<StreamLocation>^CDR.Code.InsuranceTypeS</StreamLocation>
<Data name="InsuranceTypeState">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>Code</Value>
</Value>
<Value name="2">
<Value>Name</Value>
</Value>
<Value name="3">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.MaritalStatus">
<Description>
婚姻状况</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64321,74029.025967</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.018.00</Default>
</Parameter>

<UDLText name="T">
<Content><![CDATA[
// GB/T 2261.2

]]></Content>
</UDLText>

<Parameter name="CodingSystem">
<Default>2.16.156.10011.2.3.3.5</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>MaritalStatus</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "10,20,21,22,23,30,40,90", tDescs = "未婚,已婚,初婚,再婚,复婚,丧偶,离婚,未说明"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.MaritalStatusD</DataLocation>
<DefaultData>MaritalStatusDefaultData</DefaultData>
<IdLocation>^CDR.Code.MaritalStatusD</IdLocation>
<IndexLocation>^CDR.Code.MaritalStatusI</IndexLocation>
<StreamLocation>^CDR.Code.MaritalStatusS</StreamLocation>
<Data name="MaritalStatusDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.MedicalAssessmentItem">
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.426902</TimeChanged>
<TimeCreated>63417,31419.270661</TimeCreated>

<Property name="Category">
<Type>%String</Type>
</Property>

<Property name="Name">
<Type>%String</Type>
</Property>

<Property name="Descr">
<Type>%String</Type>
</Property>

<Property name="ValueList">
<Description>
选项列表项</Description>
<Type>%String</Type>
<Collection>array</Collection>
</Property>

<Property name="ScoreList">
<Description>
选项列表值</Description>
<Type>%String</Type>
<Collection>array</Collection>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.MedicalAsse3C0CD</DataLocation>
<DefaultData>MedicalAssessmentItemDefaultData</DefaultData>
<IdLocation>^CDR.Code.MedicalAsse3C0CD</IdLocation>
<IndexLocation>^CDR.Code.MedicalAsse3C0CI</IndexLocation>
<StreamLocation>^CDR.Code.MedicalAsse3C0CS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="MedicalAssessmentItemDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Category</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Descr</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>ID</Value>
</Value>
<Value name="8">
<Value>Version</Value>
</Value>
<Value name="9">
<Value>CreationTime</Value>
</Value>
<Value name="10">
<Value>Creator</Value>
</Value>
<Value name="11">
<Value>%Process</Value>
</Value>
<Value name="12">
<Value>%LastError</Value>
</Value>
<Value name="13">
<Value>%LastFault</Value>
</Value>
<Value name="14">
<Value>Author</Value>
</Value>
</Data>
<Data name="ScoreList">
<Attribute>ScoreList</Attribute>
<Structure>subnode</Structure>
<Subscript>"ScoreList"</Subscript>
</Data>
<Data name="ValueList">
<Attribute>ValueList</Attribute>
<Structure>subnode</Structure>
<Subscript>"ValueList"</Subscript>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.MedicalInsuranceType">
<Description>
医疗保险类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64309,9674.192745</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.044.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>CV02.01.201</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>MedicalInsuranceType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
	
	Set tCodes = "01,02,03,04,05,06,07,99", tDescs = "城镇职工基本医疗保险,城镇居民基本医疗保险,新型农村合作医疗,公务员医疗补助,企业补充医疗保险,大额补充医疗保险,商业医疗保险,其他"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.MedicalInsuranceTypeD</DataLocation>
<DefaultData>MedicalInsuranceTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.MedicalInsuranceTypeD</IdLocation>
<IndexLocation>^CDR.Code.MedicalInsuranceTypeI</IndexLocation>
<StreamLocation>^CDR.Code.MedicalInsuranceTypeS</StreamLocation>
<Data name="MedicalInsuranceTypeDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Medication">
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64476,40885.842677</TimeChanged>
<TimeCreated>63417,58601.907741</TimeCreated>

<Parameter name="CodeType">
<Default>Medication</Default>
</Parameter>

<Parameter name="XMLTYPE">
<Default>MedicationCode</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.MedicationD</DataLocation>
<DefaultData>MedicationDefaultData</DefaultData>
<IdLocation>^CDR.Code.MedicationD</IdLocation>
<IndexLocation>^CDR.Code.MedicationI</IndexLocation>
<StreamLocation>^CDR.Code.MedicationS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="MedicationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>Name</Value>
</Value>
<Value name="7">
<Value>Code</Value>
</Value>
<Value name="8">
<Value>Descr</Value>
</Value>
<Value name="9">
<Value>CreationTime</Value>
</Value>
<Value name="10">
<Value>Creator</Value>
</Value>
<Value name="11">
<Value>%Process</Value>
</Value>
<Value name="12">
<Value>%LastError</Value>
</Value>
<Value name="13">
<Value>%LastFault</Value>
</Value>
<Value name="14">
<Value>Author</Value>
</Value>
<Value name="15">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Nationality">
<Description>
国籍</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64309,23008.550951</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.015.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>GB/T 2659</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>Nationality</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.NationalityD</DataLocation>
<DefaultData>NationalityDefaultData</DefaultData>
<IdLocation>^CDR.Code.NationalityD</IdLocation>
<IndexLocation>^CDR.Code.NationalityI</IndexLocation>
<StreamLocation>^CDR.Code.NationalityS</StreamLocation>
<Data name="NationalityDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Occupation">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64414,84614.659341</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.052.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>GB/T 6565</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>OccupationType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.OccupationD</DataLocation>
<DefaultData>OccupationDefaultData</DefaultData>
<IdLocation>^CDR.Code.OccupationD</IdLocation>
<IndexLocation>^CDR.Code.OccupationI</IndexLocation>
<StreamLocation>^CDR.Code.OccupationS</StreamLocation>
<Data name="OccupationDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.OccupationType">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64310,343.834891</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.052.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>GB/T 6565</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>OccupationType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.OccupationTypeD</DataLocation>
<DefaultData>OccupationTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.OccupationTypeD</IdLocation>
<IndexLocation>^CDR.Code.OccupationTypeI</IndexLocation>
<StreamLocation>^CDR.Code.OccupationTypeS</StreamLocation>
<Data name="OccupationTypeDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.OrderCategory">
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64188,48706.051978</TimeChanged>
<TimeCreated>64188,48705.862228</TimeCreated>

<Parameter name="CodeType">
<Default>OrderCategory</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.OrderCategoryD</DataLocation>
<DefaultData>OrderCategoryDefaultData</DefaultData>
<IdLocation>^CDR.Code.OrderCategoryD</IdLocation>
<IndexLocation>^CDR.Code.OrderCategoryI</IndexLocation>
<StreamLocation>^CDR.Code.OrderCategoryS</StreamLocation>
<Data name="OrderCategoryDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.PaymentType">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64475,31.154908</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.052.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>卫生信息数据元目录</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>OccupationType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.PaymentTypeD</DataLocation>
<DefaultData>PaymentTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.PaymentTypeD</IdLocation>
<IndexLocation>^CDR.Code.PaymentTypeI</IndexLocation>
<StreamLocation>^CDR.Code.PaymentTypeS</StreamLocation>
<Data name="PaymentTypeDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.PersonalIdentificationType">
<Description>
身份证件类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64309,22989.622</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE02.01.031.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>	CV02.01.101</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>PersonalIdentificationType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "01,02,03,04,05,06,07,99", 
	tDescs = "居民身份证,居民户口簿,护照,军官证,驾驶证,港澳居民来往内地通行证,台湾居民来往内地通行证,其他法定有效证件"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.PersonalIde48C7D</DataLocation>
<DefaultData>PersonalIdentificationTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.PersonalIde48C7D</IdLocation>
<IndexLocation>^CDR.Code.PersonalIde48C7I</IndexLocation>
<StreamLocation>^CDR.Code.PersonalIde48C7S</StreamLocation>
<Data name="PersonalIdentificationTypeDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.PhysicalExamItem">
<Description>
体检项目(来自于卫计委:体格检查数据元)</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64321,5537.144819</TimeChanged>
<TimeCreated>63417,50195.852997</TimeCreated>

<Parameter name="CV">
</Parameter>

<Parameter name="CodingSystem">
<Default>CHN</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>PhysicalExamItem</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "DE04.10.001.00,DE04.10.002.00,DE04.10.003.00,DE04.10.004.00,DE04.10.005.00,DE04.10.006.00,DE04.10.007.00,DE04.10.008.00,DE04.10.009.00,DE04.10.010.00,DE04.10.011.00,DE04.10.012.00,DE04.10.013.00,DE04.10.014.00,DE04.10.015.00,DE04.10.016.00,DE04.10.017.00,DE04.10.018.00,DE04.10.019.00,DE04.10.020.00,DE04.10.021.00,DE04.10.022.00,DE04.10.023.00,DE04.10.024.00,DE04.10.025.00,DE04.10.026.00,DE04.10.027.00,DE04.10.028.00,DE04.10.029.00,DE04.10.030.00,DE04.10.031.00,DE04.10.032.00,DE04.10.033.00,DE04.10.034.00,DE04.10.035.00,DE04.10.036.00,DE04.10.037.00,DE04.10.038.00,DE04.10.039.00,DE04.10.040.00,DE04.10.041.00,DE04.10.042.00,DE04.10.043.00,DE04.10.044.00,DE04.10.045.00,DE04.10.046.00,DE04.10.047.00,DE04.10.048.00,DE04.10.049.00,DE04.10.050.00,DE04.10.051.00,DE04.10.052.00,DE04.10.053.00,DE04.10.054.00,DE04.10.055.00,DE04.10.056.00,DE04.10.057.00,DE04.10.058.00,DE04.10.059.00,DE04.10.060.00,DE04.10.061.00,DE04.10.062.00,DE04.10.063.00,DE04.10.064.00,DE04.10.065.00,DE04.10.066.00,DE04.10.067.00,DE04.10.068.00,DE04.10.069.00,DE04.10.070.00,DE04.10.071.00,DE04.10.072.00,DE04.10.073.00,DE04.10.074.00,DE04.10.075.00,DE04.10.076.00,DE04.10.077.00,DE04.10.078.00,DE04.10.079.00,DE04.10.080.00,DE04.10.081.00,DE04.10.082.00,DE04.10.083.00,DE04.10.084.00,DE04.10.085.00,DE04.10.086.00,DE04.10.087.00,DE04.10.088.00,DE04.10.089.00,DE04.10.090.00,DE04.10.091.00,DE04.10.092.00,DE04.10.093.00,DE04.10.094.00,DE04.10.095.00,DE04.10.096.00,DE04.10.097.00,DE04.10.098.00,DE04.10.099.00,DE04.10.100.00,DE04.10.101.00,DE04.10.102.00,DE04.10.103.00,DE04.10.104.00,DE04.10.105.00,DE04.10.106.00,DE04.10.107.00,DE04.10.108.00,DE04.10.109.00,DE04.10.110.00,DE04.10.111.00,DE04.10.112.00,DE04.10.113.00,DE04.10.114.00,DE04.10.115.00,DE04.10.116.00,DE04.10.118.00,DE04.10.119.00,DE04.10.120.00,DE04.10.121.00,DE04.10.122.00,DE04.10.123.00,DE04.10.124.00,DE04.10.125.00,DE04.10.126.00,DE04.10.127.00,DE04.10.128.00,DE04.10.129.00,DE04.10.130.00,DE04.10.131.00,DE04.10.132.00,DE04.10.133.00,DE04.10.134.00,DE04.10.135.00,DE04.10.136.00,DE04.10.137.00,DE04.10.138.00,DE04.10.139.00,DE04.10.140.00,DE04.10.141.00,DE04.10.142.00,DE04.10.143.00,DE04.10.144.00,DE04.10.145.00,DE04.10.146.00,DE04.10.147.00,DE04.10.148.00,DE04.10.149.00,DE04.10.150.00,DE04.10.151.00,DE04.10.152.00,DE04.10.153.00,DE04.10.154.00,DE04.10.155.00,DE04.10.156.00,DE04.10.157.00,DE04.10.158.00,DE04.10.159.00,DE04.10.160.00,DE04.10.161.00,DE04.10.162.00,DE04.10.163.00,DE04.10.164.00,DE04.10.165.00,DE04.10.166.00,DE04.10.167.00,DE04.10.168.00,DE04.10.169.00,DE04.10.170.00,DE04.10.171.00,DE04.10.172.00,DE04.10.173.00,DE04.10.174.00,DE04.10.175.00,DE04.10.176.00,DE04.10.177.00,DE04.10.178.00,DE04.10.179.00,DE04.10.180.00,DE04.10.181.00,DE04.10.182.00,DE04.10.183.00,DE04.10.184.00,DE04.10.185.00,DE04.10.186.00,DE04.10.187.00,DE04.10.188.00,DE04.10.189.00,DE04.10.190.00,DE04.10.191.00,DE04.10.192.00,DE04.10.193.00,DE04.10.194.00,DE04.10.195.00,DE04.10.196.00,DE04.10.197.00,DE04.10.198.00,DE04.10.199.00,DE04.10.200.00,DE04.10.201.00,DE04.10.202.00,DE04.10.203.00,DE04.10.204.00,DE04.10.205.00,DE04.10.206.00,DE04.10.207.00,DE04.10.208.00,DE04.10.209.00,DE04.10.210.00,DE04.10.211.00,DE04.10.212.00,DE04.10.213.00,DE04.10.214.00,DE04.10.215.00,DE04.10.216.00,DE04.10.217.00,DE04.10.218.00,DE04.10.219.00,DE04.10.220.00,DE04.10.221.00,DE04.10.222.00,DE04.10.223.00,DE04.10.224.00,DE04.10.225.00,DE04.10.226.00,DE04.10.227.00,DE04.10.228.00,DE04.10.229.00,DE04.10.230.00,DE04.10.231.00,DE04.10.232.00,DE04.10.233.00,DE04.10.234.00,DE04.10.235.00,DE04.10.236.00,DE04.10.237.00,DE04.10.238.00,DE04.10.239.00,DE04.10.240.00,DE04.10.241.00,DE04.10.242.00,DE04.10.243.00,DE04.10.244.00,DE04.10.245.00,DE04.10.246.00,DE04.10.247.00,DE04.10.248.00,DE04.10.249.00,DE04.10.250.00,DE04.10.251.00,DE04.10.252.00,DE04.10.253.00,DE04.10.254.00,DE04.10.255.00,DE04.10.256.00,DE04.10.257.00,DE04.10.258.00,DE04.10.259.00,DE04.10.260.00,DE04.10.261.00,DE04.10.262.00,DE04.10.263.00,DE04.10.264.00", tDescs = "凹陷性水肿标志,包皮检查结果代码,鼻部检查结果,鼻部检查异常标志,鼻堵标志,鼻干标志,鼻血标志,扁桃体检查结果,病理反射检查结果,玻璃体检查结果,步态异常标志,产后2小时出血量(mL),产前检查标志,产前检查次数,产时出血量(mL),齿列类别代码,齿列描述,出生身长(cm),出生体重(g),出生头围(cm),出牙数(颗),触诊脾脏肋下测量值(cm),低热标志,动作不灵活标志,恶露状况,儿童面色代码,儿童体检年龄(月),耳检查结果描述,耳外观检查异常标志,发热标志,肺部听诊结果,肺部听诊异常结果描述,可疑佝偻病症状代码,肺部听诊异常标志,肺部异常呼吸音标志,肺部异常呼吸音描述,浮肿标志,浮肿程度代码,妇科检查方式代码,附件检查结果,附件异常标志,附件异常描述,腹壁静脉显露标志,腹部包块标志,腹部包块描述,腹部检查结果,腹部检查异常标志,腹部压痛标志,腹部压痛描述,腹部移动性浊音标志,腹部移动性浊音描述,腹围(cm),干燥部位,肝大标志,肝大描述,肝区叩痛标志,肝脏触诊结果,肝脏剑突下测量值(cm),肝脏肋下测量值(cm),肝脏前后径测量值(cm),肝脏斜径测量值(cm),肝掌标志,肛门检查异常标志,肛门指诊检查结果类别代码,肛门指诊检查结果描述,跟腱反射检查结果,宫底高度(cm),宫颈检查结果,宫颈扩张标志,宫颈异常标志,宫颈异常描述,宫体异常标志,宫体异常描述,巩膜黄染标志,巩膜检查结果代码,共济运动检查结果,骨盆测量日期时间,骨盆测量孕周(d),过度角化部位,喉结检查结果,呼吸次数(次/min),呼吸频率(次/min),患肢锻炼标志,患肢抬高标志,黄疸标志,黄疸部位代码,黄疸状况代码,肌力检查结果,肌张力检查结果,基础收缩压(mmHg),基础舒张压(mmHg）,基础体重(kg）,脊柱检查结果,脊柱检查异常标志,甲状腺检查结果,建档孕周(d),矫正近视力值,矫正远视力值,精索检查结果,精索静脉曲张标志,精索静脉曲张部位,精索静脉曲张程度代码,颈部包块检查结果描述,颈部包块标志,可疑佝偻病体征代码,口唇外观检查结果代码,口腔检查结果,口腔检查异常标志,口腔溃疡标志,口腔异味标志,溃疡标志,溃疡部位,淋巴结检查结果代码,淋巴结检查结果描述,裸眼近视力值,裸眼远视力值,脉率(次/min),慢性丝虫病症状/体征部位代码,面色描述,爬行月龄(月),胚囊可见标志,胚囊排出日期时间,胚囊平均直径(cm),皮肤粗糙标志,皮肤和黏膜检查结果,皮肤划纹症检查结果,皮肤黄染标志,皮肤检查结果代码,皮肤苔藓样变标志,皮肤萎缩部位,皮下出血标志,皮下脂肪(cm),皮下脂肪异常代码,皮下脂肪异常详述,皮疹标志,皮疹部位,脾大标志,脾大描述,脾脏触诊结果,扑翼样震颤标志,其他查体结果,其他阳性体征,脐部检查结果,脐带检查异常标志,脐带脱落标志,脐带脱落时间(d),脐疝标志,髂棘间径(cm),髂嵴间径(cm),前囟闭合标志,前囟横径(cm),前囟纵径(cm),前囟张力代码,浅表淋巴结检查结果,鞘膜积液压痛试验标志,龋齿数(颗),乳头检查结果,乳腺检查结果代码,三颤检查结果,色觉检查结果,色素沉着部位,色素减退部位,沙眼标志,伤害部位代码,身长(cm),身高(cm),肾区叩痛标志,肾脏检查结果,视力检查结果,视力下降标志,视物模糊标志,视野检查结果,收缩压(mmHg）,受检者骶耻外径(cm),舒张压(mmHg),睡眠时长(min),睡眠时间描述,四肢检查结果,四肢异常标志,胎儿胎头和母亲骨盆衔接标志,胎龄(d),胎心率(次/min),特殊面容检查结果,特殊体态检查结果,体温(℃),体征描述,体重(kg）,听力检测结果,听力检测结果代码,桶状胸标志,头围(cm),透光试验结果代码,臀红标志,外生殖器检查结果,外生殖器异常标志,外阴检查结果描述,外阴异常标志,五官检查结果,膝反射检查结果,下肢水肿检查结果代码,斜颈代码,心肺检查异常标志,心律,心律类别代码,心率(次/min),心脏听诊结果,心脏听诊异常标志,心脏杂音标志,心脏杂音描述,胸围(cm),嗅觉检查结果,牙齿松动标志,咽部检查结果代码,眼底检查结果异常描述,眼外观检查结果描述,眼外观检查异常标志,腰围(cm),一般状况检查结果,移动性浊音标志,阴道检查结果,阴道镜检查结果,阴道异常标志,阴道异常描述,阴茎检查结果,阴毛检查结果,阴囊检查结果,疣状物部位,预约体检日期时间,蜘蛛痣标志,指甲检查结果,子宫大小代码,子宫检查结果,子宫位置代码,紫癜部位,总产程时长(min),足背动脉搏动标志,足背动脉搏动代码,坐骨结节间径(cm),肛门检查结果,脐带检查结果代码,孕周(d),皮肤检查异常标志,恶露异常标志,宫缩情况,产后检查时间,出口横径,宫颈厚度,宫颈裂伤标志,宫缩开始日时间,产后观察日期时间,会阴切开位置,会阴血肿标志,会阴血肿大小,体格检查--颈部检查结果,破膜方式代码,膀胱充盈标志,体格检查,体位护理,麻醉体位,体格检查--头部及其器官检查结果,先露位置,体格检查--胸部检查结果,牙齿检查结果"
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.PhysicalExamItemD</DataLocation>
<DefaultData>PhysicalExamItemDefaultData</DefaultData>
<IdLocation>^CDR.Code.PhysicalExamItemD</IdLocation>
<IndexLocation>^CDR.Code.PhysicalExamItemI</IndexLocation>
<StreamLocation>^CDR.Code.PhysicalExamItemS</StreamLocation>
<Data name="PhysicalExamItemDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Procedure">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64911,38690.727443</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CV">
<Default>DE06.00.093.00</Default>
</Parameter>

<Parameter name="CodingSystem">
<Default>手术操作代码表</Default>
</Parameter>

<Parameter name="OID">
</Parameter>

<Parameter name="CodeType">
<Default>OccupationType</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.ProcedureD</DataLocation>
<DefaultData>ProcedureDefaultData</DefaultData>
<IdLocation>^CDR.Code.ProcedureD</IdLocation>
<IndexLocation>^CDR.Code.ProcedureI</IndexLocation>
<StreamLocation>^CDR.Code.ProcedureS</StreamLocation>
<Data name="ProcedureDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.ResultType">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64672,45752.624914</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CodingSystem">
<Default>检验结果类型代码表</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.ResultTypeD</DataLocation>
<DefaultData>ResultTypeDefaultData</DefaultData>
<IdLocation>^CDR.Code.ResultTypeD</IdLocation>
<IndexLocation>^CDR.Code.ResultTypeI</IndexLocation>
<StreamLocation>^CDR.Code.ResultTypeS</StreamLocation>
<Data name="ResultTypeDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Code.Route">
<Description>
职业类别</Description>
<Super>%Persistent,CDR.Code.Abstract</Super>
<TimeChanged>64476,40437.40869</TimeChanged>
<TimeCreated>64188,48232.704581</TimeCreated>

<Parameter name="CodingSystem">
<Default>用药途径代码表</Default>
</Parameter>

<Parameter name="OID">
<Default>2.16.156.10011.2.3.1.158</Default>
</Parameter>

<Method name="Init">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	d ..%KillExtent()
		
	Set tCodes = "", tDescs = ""
	For i=1:1:$L(tCodes,",")
	{
		Set t = ..%New()
		Set t.Code = $P(tCodes,",",i)
		Set t.Name = $P(tDescs,",",i)
		Set t.Description = t.Name
		Do t.%Save()
	}
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Code.RouteD</DataLocation>
<DefaultData>RouteDefaultData</DefaultData>
<IdLocation>^CDR.Code.RouteD</IdLocation>
<IndexLocation>^CDR.Code.RouteI</IndexLocation>
<StreamLocation>^CDR.Code.RouteS</StreamLocation>
<Data name="RouteDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Code</Value>
</Value>
<Value name="3">
<Value>Name</Value>
</Value>
<Value name="4">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.CodeTableDetails">
<Description>
字典表</Description>
<Super>%SerialObject,%XML.Adaptor</Super>
<TimeChanged>64476,60579.336905</TimeChanged>
<TimeCreated>64412,47017.448839</TimeCreated>

<Property name="Code">
<Type>%String</Type>
</Property>

<Property name="Description">
<Type>%String</Type>
</Property>

<Property name="LookupTableName">
<Type>%String</Type>
</Property>

<Property name="RecordDatetime">
<Type>%TimeStamp</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>CodeTableDetailsState</State>
<StreamLocation>^CDR.CodeTableDetailsS</StreamLocation>
<Data name="CodeTableDetailsState">
<Value name="1">
<Value>Code</Value>
</Value>
<Value name="2">
<Value>Description</Value>
</Value>
<Value name="3">
<Value>LookupTableName</Value>
</Value>
<Value name="4">
<Value>RecordDatetime</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Condition">
<Description>
症状、问题，如怀孕、发烧
其术语使用SNOMED CT clinical findings</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64918,61248.492334</TimeChanged>
<TimeCreated>63419,47722.6747</TimeCreated>

<Property name="Encounter">
<Description>
就诊 Encounter during which the condition was first asserted.</Description>
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>Conditions</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="Asserter">
<Description>
确认者 Person who takes responsibility for asserting the existence of the condition as part of the electronic record.</Description>
<Type>CDR.Attester</Type>
</Property>

<Property name="DateAsserted">
<Description>
确认日期 Estimated or actual date the condition/problem/diagnosis was first detected/suspected.</Description>
<Type>%Date</Type>
</Property>

<Property name="Code">
<Description>
症状代码
Identification of the condition, problem or diagnosis.其术语使用SNOMED CT clinical findings</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="Category">
<Description>
分类: 主诉 | 症状 | 发现 | 诊断
 A category assigned to the condition. E.g. complaint | symptom | finding | diagnosis.
Complaint:	The patient considers the condition an issue to be addressed
Symptom: A symptom of a condition (as might be mentioned in a review of systems)
Finding: An observation made by a healthcare provider
Diagnosis:	This is a judgment made by a healthcare provider that the patient has a particular disease or condition</Description>
<Type>%String</Type>
</Property>

<Property name="Status">
<Description>
状态
The clinical status of the condition.
provisional		This is a tentative diagnosis - still a candidate that is under consideration.
working		The patient is being treated on the basis that this is the condition, but it is still not confirmed.
confirmed		There is sufficient diagnostic and/or clinical evidence to treat this as a confirmed condition.
refuted		This condition has been ruled out by diagnostic and clinical evidence.</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="Certainty">
<Description>
确定性
The degree of confidence that this condition is correct.
SNOMED CT codes relating to the qualifier "Known" </Description>
<Type>%String</Type>
</Property>

<Property name="Severity">
<Description>
严重程度
A subjective assessment of the severity of the condition as evaluated by the clinician.
SNOMED CT "Severity":
399166001: Fatal
24484000: Severe
6736007: Moderate
255604002: Mild</Description>
<Type>%String</Type>
</Property>

<Property name="OnsetDate">
<Description>
记录日期</Description>
<Type>%Date</Type>
</Property>

<Property name="AbatementDate">
<Description>
缓解日期</Description>
<Type>%Date</Type>
</Property>

<Property name="AbatementBoolean">
<Description>
是否缓解</Description>
<Type>%Boolean</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Property Stage As FHIR.Condition.Stage(XMLNAME = "stage");

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Relationship Evidence As FHIR.Condition.Evidence(XMLNAME = "evidence", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = Condition1 ];

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Relationship Location As FHIR.Condition.Location(XMLNAME = "location", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = Condition2 ];

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Relationship RelatedItem As FHIR.Condition.RelatedItem(XMLNAME = "relatedItem", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = Condition3 ];

]]></Content>
</UDLText>

<Property name="Notes">
<Description>
说明
Clinical stage or grade of a condition. May include formal severity assessments.
Supporting Evidence / manifestations that are the basis on which this condition is suspected or confirmed.
The anatomical location where this condition manifests itself.
Further conditions, problems, diagnoses, procedures or events that are related in some way to this condition, or the substance that caused/triggered this Condition.
Additional information about the Condition. This is a general notes/comments entry  for description of the Condition, its diagnosis and prognosis.</Description>
<Type>%String</Type>
</Property>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ConditionD</DataLocation>
<DefaultData>ConditionDefaultData</DefaultData>
<IdLocation>^CDR.ConditionD</IdLocation>
<IndexLocation>^CDR.ConditionI</IndexLocation>
<StreamLocation>^CDR.ConditionS</StreamLocation>
<Data name="ConditionDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Encounter</Value>
</Value>
<Value name="3">
<Value>Asserter</Value>
</Value>
<Value name="4">
<Value>DateAsserted</Value>
</Value>
<Value name="5">
<Value>Code</Value>
</Value>
<Value name="6">
<Value>Category</Value>
</Value>
<Value name="7">
<Value>LastModified</Value>
</Value>
<Value name="8">
<Value>Certainty</Value>
</Value>
<Value name="9">
<Value>CreationTime</Value>
</Value>
<Value name="10">
<Value>Creator</Value>
</Value>
<Value name="11">
<Value>AbatementDate</Value>
</Value>
<Value name="12">
<Value>AbatementBoolean</Value>
</Value>
<Value name="13">
<Value>Notes</Value>
</Value>
<Value name="14">
<Value>LastModifiedBy</Value>
</Value>
<Value name="15">
<Value>OnsetDate</Value>
</Value>
<Value name="16">
<Value>Severity</Value>
</Value>
<Value name="17">
<Value>Status</Value>
</Value>
<Value name="18">
<Value>Version</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Department">
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64918,83958.196108</TimeChanged>
<TimeCreated>64460,36915.493512</TimeCreated>

<Property name="Identifier">
<Description>
科室OID</Description>
<Type>%String</Type>
</Property>

<Index name="ukDepartmentId">
<Properties>Identifier</Properties>
<Unique>1</Unique>
</Index>

<UDLText name="T">
<Content><![CDATA[
// Property Type As CDR.Code.AdministrativeDivision;

]]></Content>
</UDLText>

<Property name="TypeCode">
<Description>
科室类别， 应该用医疗卫生机构业务科室分类与代码表
码表不全， 先暂时用%String存</Description>
</Property>

<Property name="TypeName">
</Property>

<Property name="Name">
<Description>
科室名称</Description>
<Type>%String</Type>
</Property>

<Property name="address">
<Type>CDR.Address</Type>
</Property>

<Property name="Telecom">
<Type>%String</Type>
</Property>

<Property name="Status">
<Description>
角色状态</Description>
<Type>%String</Type>
<InitialExpression>"active"</InitialExpression>
</Property>

<Property name="EffectiveTimeBegin">
<Description>
角色有效时间开始</Description>
<Type>%Date</Type>
</Property>

<Property name="EffectiveTimeEnd">
<Description>
角色有效时间结束</Description>
<Type>%Date</Type>
</Property>

<Property name="AffiliatedPrincipalOrganizationId">
<Description>
上级医疗机构科室标识</Description>
<Type>%String</Type>
</Property>

<Property name="AffiliatedPrincipalOrganizationName">
<Description>
上级医疗机构科室名称</Description>
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.DepartmentD</DataLocation>
<DefaultData>DepartmentDefaultData</DefaultData>
<IdLocation>^CDR.DepartmentD</IdLocation>
<IndexLocation>^CDR.DepartmentI</IndexLocation>
<StreamLocation>^CDR.DepartmentS</StreamLocation>
<Data name="DepartmentDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Identifier</Value>
</Value>
<Value name="3">
<Value>TypeCode</Value>
</Value>
<Value name="4">
<Value>TypeName</Value>
</Value>
<Value name="5">
<Value>Name</Value>
</Value>
<Value name="6">
<Value>LastModified</Value>
</Value>
<Value name="7">
<Value>LastModifiedBy</Value>
</Value>
<Value name="8">
<Value>CreationTime</Value>
</Value>
<Value name="9">
<Value>Creator</Value>
</Value>
<Value name="10">
<Value>EffectiveTimeEnd</Value>
</Value>
<Value name="11">
<Value>AffiliatedPrincipalOrganizationId</Value>
</Value>
<Value name="12">
<Value>AffiliatedPrincipalOrganizationName</Value>
</Value>
<Value name="13">
<Value>EffectiveTimeBegin</Value>
</Value>
<Value name="14">
<Value>Status</Value>
</Value>
<Value name="15">
<Value>Telecom</Value>
</Value>
<Value name="16">
<Value>Version</Value>
</Value>
<Value name="17">
<Value>address</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Diagnosis">
<Description>
诊断对象</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64911,37824.136448</TimeChanged>
<TimeCreated>63417,49853.224988</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
/*
Added by Louis@2014.09.09-End
*/
]]></Content>
</UDLText>

<Property name="Outcome">
<Description>
应该是Outcome</Description>
<Type>CDR.Code.DiagnosisStatusCode</Type>
</Property>

<Index name="ukDiagnosisNo">
<Properties>DiagnosisId</Properties>
<Unique>1</Unique>
</Index>

<Property name="DiagnosisId">
<Description>
病情转归码
诊断序号</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterId">
<Description>
就诊ID</Description>
<Type>%String</Type>
</Property>

<Property name="DiagnosingClinician">
<Description>
诊断医生</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="DiagnosisCode">
<Description><![CDATA[
诊断编码
The diagnosis code or description<br>
SDATableName=Diagnosis, HSDBClass=User.HS.MRCICDDx<br>
HL7:  DG1-3 : DiagnosisCodeDG1<br>
HL7:  DG1-4 : DiagnosisDescription<br>
HSDB: User.HS.MRDiagnos(MRDIAICDCodeDR)]]></Description>
<Type>CDR.Code.Diagnosis</Type>
</Property>

<Property name="DiagnosisDesc">
<Description>
诊断说明</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
</Property>

<Property name="DiagnosisType">
<Description><![CDATA[
诊断类型: 入院诊断、初步诊断、最终诊断、出院诊断
The type of diagnosis (e.g. admitting, working, final, discharge)<br>
SDATableName=DiagnosisType, HSDBClass=User.HS.MRCDiagnosType<br>
HL7:  DG1-6 : DiagnosisType<br>
HSDB: User.HS.MRDiagType(TYPMRCDiagTyp)]]></Description>
<Type>%String</Type>
</Property>

<Property name="IdentificationTime">
<Description><![CDATA[
诊断时间 - 时间戳类型
When the diagnosis was made<br>
HSDB: User.HS.MRDiagnos(MRDIADateDiagnosisIdentif) + User.HS.MRDiagnos(MRDIATimeDiagnosisIdentif)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Status">
<Description><![CDATA[
状态: 活动、失效
SDATableName=DiagnosisStatus, HSDBClass=User.HS.MRCDiagnosStatus<br>
HSDB: User.HS.MRDiagnos(MRDIADiagStatDR)<br>
Initial values: see file HS-Default-DiagnosisStatus.txt (A=Active, I=Inactive)
HL7 sets to A]]></Description>
<Type>%String</Type>
</Property>

<Property name="OnsetTime">
<Description><![CDATA[
记录时间
When the diagnosed condition began<br>
HSDB: User.HS.MRDiagnos(MRDIAOnsetDate) + User.HS.MRDiagnos(MRDIAOnsetTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="IsPrimary">
<Description>
是否主要诊断</Description>
<Type>%Boolean</Type>
<InitialExpression>1</InitialExpression>
</Property>

<Property name="Encounter">
<Description>
就诊</Description>
<Type>CDR.Encounter</Type>
<Cardinality>parent</Cardinality>
<Inverse>Diagnoses</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..DiagnosisType_"诊断为 "_..DiagnosisDesc_"("_..DiagnosisCode_")"
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("Diagnoses")</DataLocation>
<DefaultData>DiagnosisDefaultData</DefaultData>
<IdLocation>^CDR.EncounterC("Diagnoses")</IdLocation>
<IndexLocation>^CDR.DiagnosisI</IndexLocation>
<StreamLocation>^CDR.DiagnosisS</StreamLocation>
<Data name="DiagnosisDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Outcome</Value>
</Value>
<Value name="3">
<Value>DiagnosisId</Value>
</Value>
<Value name="4">
<Value>EncounterId</Value>
</Value>
<Value name="5">
<Value>DiagnosingClinician</Value>
</Value>
<Value name="6">
<Value>DiagnosisCode</Value>
</Value>
<Value name="7">
<Value>DiagnosisDesc</Value>
</Value>
<Value name="8">
<Value>CreationTime</Value>
</Value>
<Value name="9">
<Value>Creator</Value>
</Value>
<Value name="10">
<Value>Status</Value>
</Value>
<Value name="11">
<Value>OnsetTime</Value>
</Value>
<Value name="12">
<Value>IsPrimary</Value>
</Value>
<Value name="13">
<Value>DiagnosisType</Value>
</Value>
<Value name="14">
<Value>IdentificationTime</Value>
</Value>
<Value name="15">
<Value>LastModified</Value>
</Value>
<Value name="16">
<Value>LastModifiedBy</Value>
</Value>
<Value name="17">
<Value>Version</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Diagnosis1">
<Description>
诊断对象</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64911,38143.424324</TimeChanged>
<TimeCreated>63417,49853.224988</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Diagnosis1D</DataLocation>
<DefaultData>Diagnosis1DefaultData</DefaultData>
<IdLocation>^CDR.Diagnosis1D</IdLocation>
<IndexLocation>^CDR.Diagnosis1I</IndexLocation>
<StreamLocation>^CDR.Diagnosis1S</StreamLocation>
<Data name="Diagnosis1DefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Version</Value>
</Value>
<Value name="3">
<Value>LastModified</Value>
</Value>
<Value name="4">
<Value>LastModifiedBy</Value>
</Value>
<Value name="5">
<Value>CreationTime</Value>
</Value>
<Value name="6">
<Value>Creator</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.DiagnosticReport">
<Description>
诊断报告对象。该对象关联诊断与诊断依据，如检验样本和结果</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.469705</TimeChanged>
<TimeCreated>63418,60458.291637</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
// ++

]]></Content>
</UDLText>

<Property name="ReportID">
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// ++

]]></Content>
</UDLText>

<Index name="ukReportID">
<Properties>ReportID</Properties>
<Unique>1</Unique>
</Index>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.DiagnosticReportD</DataLocation>
<DefaultData>DiagnosticReportDefaultData</DefaultData>
<IdLocation>^CDR.DiagnosticReportD</IdLocation>
<IndexLocation>^CDR.DiagnosticReportI</IndexLocation>
<StreamLocation>^CDR.DiagnosticReportS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="DiagnosticReportDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>CreationTime</Value>
</Value>
<Value name="7">
<Value>Creator</Value>
</Value>
<Value name="8">
<Value>ReportID</Value>
</Value>
<Value name="9">
<Value>%Process</Value>
</Value>
<Value name="10">
<Value>%LastError</Value>
</Value>
<Value name="11">
<Value>%LastFault</Value>
</Value>
<Value name="12">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Document">
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64944,37352.538463</TimeChanged>
<TimeCreated>64265,35228.326831</TimeCreated>

<Property name="DocumentUniqueId">
<Type>%String</Type>
<Required>1</Required>
</Property>

<Index name="ukDocumentUniqueId">
<Properties>DocumentUniqueId</Properties>
<Unique>1</Unique>
</Index>

<Property name="RepositoryUniqueId">
<Type>%String</Type>
</Property>

<Property name="DocumentCreateTime">
<Type>%String</Type>
</Property>

<Property name="DocumentTitle">
<Type>%String</Type>
</Property>

<Property name="AuthorName">
<Type>%String</Type>
</Property>

<Property name="PatientID">
<Type>%String</Type>
</Property>

<Property name="PatientName">
<Type>%String</Type>
</Property>

<Property name="ServerOrganization">
<Type>%String</Type>
</Property>

<Property name="EncounterNumber">
<Type>%String</Type>
</Property>

<Property name="InTime">
<Type>%String</Type>
</Property>

<Property name="OutTime">
<Type>%String</Type>
</Property>

<Property name="AdmissionDepart">
<Type>%String</Type>
</Property>

<Property name="AdmissionType">
<Type>%String</Type>
</Property>

<Property name="DiagnosisResult">
<Type>%String</Type>
</Property>

<Property name="DocumentUrl">
<Type>%String</Type>
</Property>

<Property name="NoteText">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Content">
<Type>%Stream.GlobalCharacter</Type>
</Property>

<Property name="Stream">
<Type>%Stream.GlobalCharacter</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.DocumentD</DataLocation>
<DefaultData>DocumentDefaultData</DefaultData>
<IdLocation>^CDR.DocumentD</IdLocation>
<IndexLocation>^CDR.DocumentI</IndexLocation>
<StreamLocation>^CDR.DocumentS</StreamLocation>
<Data name="DocumentDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>DocumentUniqueId</Value>
</Value>
<Value name="3">
<Value>RepositoryUniqueId</Value>
</Value>
<Value name="4">
<Value>DocumentCreateTime</Value>
</Value>
<Value name="5">
<Value>DocumentTitle</Value>
</Value>
<Value name="6">
<Value>AuthorName</Value>
</Value>
<Value name="7">
<Value>PatientID</Value>
</Value>
<Value name="8">
<Value>LastModified</Value>
</Value>
<Value name="9">
<Value>LastModifiedBy</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>OutTime</Value>
</Value>
<Value name="13">
<Value>AdmissionDepart</Value>
</Value>
<Value name="14">
<Value>AdmissionType</Value>
</Value>
<Value name="15">
<Value>DiagnosisResult</Value>
</Value>
<Value name="16">
<Value>DocumentUrl</Value>
</Value>
<Value name="17">
<Value>NoteText</Value>
</Value>
<Value name="18">
<Value>Content</Value>
</Value>
<Value name="19">
<Value>EncounterNumber</Value>
</Value>
<Value name="20">
<Value>InTime</Value>
</Value>
<Value name="21">
<Value>PatientName</Value>
</Value>
<Value name="22">
<Value>ServerOrganization</Value>
</Value>
<Value name="23">
<Value>Version</Value>
</Value>
<Value name="24">
<Value>Stream</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.DocumentOriginal">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64944,39965.531241</TimeChanged>
<TimeCreated>64265,35228.326831</TimeCreated>

<Property name="DocumentTime">
<Description><![CDATA[
This contains the date of the activity that the document is reporting.<br>
For example, with a Discharge Summary this should be the date/time of the<br>
discharge, while TranscriptionTime would be the date/time the summary was<br>
put together, and AuthorizationTime the date/time when the doctor signed<br>
the summary.<br><br>
Streamlet cache:<br>
If null, this will be defaulted to TranscriptionTime, then<br>
AuthorizationTime, then EnteredOn, and finally to the current time if all<br>
of those are null.<br><br>
HL7:  TXA-4.1 : ActivityDateTime.Time<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTActivityDate) + User.HS.MRNursingNotes(NOTActivityTime)<br>]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="NoteText">
<Description><![CDATA[
This property is used when the Note is either plain or marked up text e.g<br>
TX, FT, HTML.  CRLF-delimited.<br>
Length subject to the total streamlet size limit - 3,000,000<br><br>
HL7ToSDA3:<br>
See class annotation.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document does not<br>
have a DocumentURL, NoteText, or Stream and FileType, then an error will be<br>
logged and the Streamlet will not be saved.<br><br>
HL7:  OBX-5 : ObservationValue<br>
HL7:  NTE-3 : Comment<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTNotes)<br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="DocumentType">
<Description><![CDATA[
HL7ToSDA3:<br>
TXA-2 is parsed to DocumentType.Code. If TXA-2 is "DS", Description is<br>
parsed as "DischargeSummary" so that the Document will appear on the<br>
Discharge Summaries chart in the default Clinical Viewer layout. Otherwise<br>
HL7ToSDA3 does not set the Description.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document has a DocumentType, and <br>
DocumentType.Code is not an OID, set InfoSubType to DocumentType.Code, converted to <br>
uppercase.  If DocumentType.Code is an OID and DocumentType.Description is present, <br>
set InfoSubType to DocumentType.Description, converted to uppercase.<br><br>
HL7:  TXA-2 : DocumentType<br>
SDATableName=DocumentType, ViewerClass=User.HS.MRCClinNotesType<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTClinNotesTypeDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="Clinician">
<Description><![CDATA[
The name of the clinician who performed the activity and originated the<br>
Note. This may not be the same as the EnteredBy if the Note was<br>
transcribed.<br><br>
HL7ToSDA3:<br>
Though TXA-5 is a repeating field, HL7ToSDA3 will only parse the first instance.<br><br>
HL7:  TXA-5 : PrimaryActivityProviderCodeName<br>
SDATableName=CareProvider, ViewerClass=User.HS.CTCareProv<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTNurseIdDR)<br><br>
.Code<br>
HL7:  TXA-5.1 : IDNumber<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPCode)<br>
.Description<br>
The name is formatted as "[Family], [Given]" to make the Description.<br>
HL7:  TXA-5.2.1 : PrimaryActivityProviderCodeName.FamilyName.Surname<br>
HL7:  TXA-5.3 : PrimaryActivityProviderCodeName.GivenName<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPDesc)<br>
.SDACodingStandard<br>
HL7:  TXA-5.9 : PrimaryActivityProviderCodeName.AssigningAuthority<br>
VIEWERLIB: Not stored<br>
.Name.FamilyName<br>
HL7:  TXA-5.2.1 : PrimaryActivityProviderCodeName.FamilyName.Surname<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPSurname)<br>
.Name.GivenName<br>
HL7:  TXA-5.3 : PrimaryActivityProviderCodeName.GivenName<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPFirstName)<br>
.Name.MiddleName<br>
HL7:  TXA-5.4 : PrimaryActivityProviderCodeName.SecondandFurtherGivenName<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPOtherName)<br>
.Name.NamePrefix<br>
HL7:  TXA-5.6 : PrimaryActivityProviderCodeName.Prefix<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPTitle)<br>
.Name.NameSuffix<br>
HL7:  TXA-5.5 : PrimaryActivityProviderCodeName.Suffix<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPTextTwo)<br>
.Name.ProfessionalSuffix<br>
HL7:  TXA-5.21 : PrimaryActivityProviderCodeName.ProfessionalSuffix<br>
VIEWERLIB: User.HS.CTCareProv(CTPCPTextThree)<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="TranscriptionTime">
<Description><![CDATA[
The time that the document was transcribed<br><br>
HL7:  TXA-7.1 : TranscriptionDateTime.Time<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTCreateDate) + User.HS.MRNursingNotes(NOTCreateTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="AuthorizationTime">
<Description><![CDATA[
The time that the document was authorised.<br><br>
HL7:  TXA-22.15 : AuthenticationPersonTimeStamp.DateTimeActionPerformed<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTDateAuth) + User.HS.MRNursingNotes(NOTTimeAuth)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="DocumentName">
<Description><![CDATA[
The name of the document.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if DocumentName is null,<br>
it will be defaulted to DocumentURL, then to FileType.<br><br>
Viewer cache:<br>
If not null, the DocumentName is what will appear in the Clinical Viewer<br>
in the Document column, that the user may click to see the document.<br>
Otherwise, the first few characters of the NoteText will appear in this<br>
column.<br><br>
HL7:  TXA-16 : UniqueDocumentFileName<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTDocumentName)<br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="FileType">
<Description><![CDATA[
The type of data e.g PDF, DOC, RTF, TXT<br><br>
HL7ToSDA3:<br>
See class annotation.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document does not<br>
have a DocumentURL, NoteText, or Stream and FileType, then an error will be<br>
logged and the streamlet will not be saved. Also, if the DocumentName is<br>
null, it will be defaulted to the DocumentURL, then to the FileType.<br><br>
Viewer cache:<br>
The list of FileTypes that the Clinical Viewer supports for Documents is<br>
contained in the ValidTypes parameter of the websys.Document class.<br><br>
HL7:  OBX-5.3 : ObservationValue.EDDataSubType<br>
VIEWERLIB:  User.HS.MRNursingNotes(NOTDocumentDR)->websys.Document(docType)<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="Stream">
<Description><![CDATA[
This property is used when the Note is binary data, e.g DOC, PDF, JPG<br><br>
Length subject to the total streamlet size limit - 3,000,000<br><br>
HL7ToSDA3:<br>
See class annotation.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document does not<br>
have a DocumentURL, NoteText, or Stream and FileType, then an error will be<br>
logged and the Streamlet will not be saved.<br><br>
Viewer cache:<br>
The list of FileTypes that the Clinical Viewer supports for Documents is<br>
contained in the ValidTypes parameter of the websys.Document class.<br>
Note that Stream must be Base64-encoded to be viewed as a document in the<br>
Viewer. Also note that the DataId property of websys.Document is not a<br>
designative reference (so the COS syntax document.DataId.docData will not<br>
work) but rather a string field containing the ID of the linked<br>
websys.Documentxxx (where "xxx" is the FileType).<br><br>
HL7:  OBX-5.5 : ObservationValue.EDData<br>
HL7:  NTE-3 : Comments<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTDocumentDR)->websys.Document(DataId)->websys.Documentxxx(docData)<br>]]></Description>
<Type>%GlobalBinaryStream</Type>
</Property>

<Property name="DocumentURL">
<Description><![CDATA[
The full URL where the document can be accessed<br><br>
HL7ToSDA3:<br>
See class annotation.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document does not<br>
have a DocumentURL, NoteText, or Stream and FileType, then an error will be<br>
logged and the streamlet will not be saved. Also, if the DocumentName is<br>
null, it will be defaulted to the DocumentURL, then to the FileType.<br><br>
HL7:  OBX-5.1 : ObservationValue.Pointer<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTDocumentURL)<br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="DocumentNumber">
<Description><![CDATA[
Used as an external reference ID.<br><br>
Streamlet cache:<br>
In the OnBeforeMatch method of the Streamlet class, if DocumentNumber is<br>
null, it will be defaulted to the ExternalId.<br><br>
HL7:  TXA-12.1 : UniqueDocumentNumber.EntityIdentifier<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTExternalRef)<br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Index name="ukDocumentNo">
<Properties>DocumentNumber</Properties>
<Unique>1</Unique>
</Index>

<Property name="Facilitie">
<Description><![CDATA[
List of facilities that have contributed to this document<br><br>
SDATableName=Organization, ViewerClass=User.HS.CTHospital<br>
VIEWERLIB: User.HS.MRNursingNotes(ChildMRNursingNotesHosp)->User.HS.MRNursingNotesHosp(NOTHospitalDR)]]></Description>
<Type>CDR.Organization</Type>
</Property>

<Property name="Status">
<Description><![CDATA[
HL7ToSDA3:<br>
TXA-19 is parsed as the Status Code. HL7ToSDA3 does not set the<br>
Description.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document has no<br>
Status, one will be defaulted with Code="AV" and Description="Available for<br>
patient care".<br><br>
HL7:  TXA-19 : DocumentAvailabilityStatus<br>
SDATableName=DocumentStatus, ViewerClass=User.HS.MRCNursingNotesStatus<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTStatusDR)<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="DocumentCompletionStatus">
<Description><![CDATA[
This is the status of the creation of the Note, such as Incomplete, In Progress,<br>
or Authenticated.
HL7ToSDA3:<br>
TXA-17 is parsed as the Document Completion Status.  HL7ToSDA3 does not set the<br>
Description.<br><br>
HL7:  TXA-17 : DocumentCompletionStatus<br>
SDATableName=DocumentCompletionStatus<br>
VIEWERLIB: Not Stored]]></Description>
<Type>%String</Type>
</Property>

<Property name="ActionTime">
<Description><![CDATA[
The time that any action or treatment was instigated.<br><br>
VIEWERLIB: User.HS.MRNursingNotes(NOTActionTakenDate) + User.HS.MRNursingNotes(NOTActionTakenTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ActionCode">
<Description><![CDATA[
D = Delete<br>
I = Inactivate All (set Status.Code="UN", Description="Unavailable for patient care")<br>
C = Clear All<br>
Any other value = Add or Update<br>
See the annotation on the superclass property for more information on how<br>
ActionCode is used.<br><br>
HL7ToSDA3:<br>
Two double quotes ("") in TXA-1 is parsed as ActionCode="I", and four<br>
double quotes ("""") as ActionCode="C". In either case no further parsing<br>
is done on the TXA segment. If the HL7 message is an MDM_T11 (Document<br>
cancel notification), ActionCode will be parsed as "D".<br><br>
HL7:  TXA-1 : SetIDTXA<br>
VIEWERLIB: Not stored]]></Description>
<Type>%String</Type>
</Property>

<Property name="EnteredBy">
<Description><![CDATA[
This is the person who entered the Note, perhaps from a dictation.<br><br>
HL7ToSDA3:<br>
Though TXA-9 is a repeating field, HL7ToSDA3 will only use the first<br>
instance.<br><br>
HL7:  TXA-9 : OriginatorCodeName<br>
SDATableName=User, ViewerClass=User.HS.SSUser<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTUserDR)<br><br>
.Code<br>
HL7:  TXA-9.1 : OriginatorCodeName.IDNumber<br>
VIEWERLIB: User.HS.SSUser(SSUSRInitials)<br>
.Description<br>
HL7ToSDA3:<br>
The name is formatted as "[Family], [Given]" to make the Description.<br>
HL7:  TXA-9.2.1 : OriginatorCodeName.FamilyName.Surname<br>
HL7:  TXA-9.3 : GivenName<br>
VIEWERLIB: User.HS.SSUser(SSUSRName)<br>
.SDACodingStandard<br>
HL7:  TXA-9.9 : OriginatorCodeName.AssigningAuthority<br>
VIEWERLIB: Not stored<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="EnteredAt">
<Description><![CDATA[
HL7ToSDA3:<br>
MSH-4.1 is parsed as the EnteredAt Code. HL7ToSDA3 does not set the<br>
Description.<br><br>
HL7:  MSH-4.1 : SendingFacility.NamespaceID<br>
SDATableName=Organization, ViewerClass=User.HS.CTHospital<br>
VIEWERLIB: User.HS.MRNursingNotes(NOTHospitalDR)<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="EnteredOn">
<Description><![CDATA[
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if EnteredOn is null, it<br>
will be defaulted to the current date/time.<br><br>
VIEWERLIB: User.HS.MRNursingNotes(NOTDate) + User.HS.MRNursingNotes(NOTTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ExternalId">
<Description><![CDATA[
Streamlet cache:<br>
In the OnBeforeMatch method of the Streamlet class, if DocumentNumber is<br>
null, it will be defaulted to ExternalId.<br><br>
VIEWERLIB: User.HS.MRNursingNotes(NOTExternalId)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>Documents</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.DocumentOriginalD</DataLocation>
<DefaultData>DocumentOriginalDefaultData</DefaultData>
<IdLocation>^CDR.DocumentOriginalD</IdLocation>
<IndexLocation>^CDR.DocumentOriginalI</IndexLocation>
<StreamLocation>^CDR.DocumentOriginalS</StreamLocation>
<Data name="DocumentOriginalDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>DocumentTime</Value>
</Value>
<Value name="3">
<Value>NoteText</Value>
</Value>
<Value name="4">
<Value>DocumentType</Value>
</Value>
<Value name="5">
<Value>Clinician</Value>
</Value>
<Value name="6">
<Value>TranscriptionTime</Value>
</Value>
<Value name="7">
<Value>AuthorizationTime</Value>
</Value>
<Value name="8">
<Value>DocumentName</Value>
</Value>
<Value name="9">
<Value>FileType</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>DocumentNumber</Value>
</Value>
<Value name="13">
<Value>Facilitie</Value>
</Value>
<Value name="14">
<Value>Status</Value>
</Value>
<Value name="15">
<Value>DocumentCompletionStatus</Value>
</Value>
<Value name="16">
<Value>ActionTime</Value>
</Value>
<Value name="17">
<Value>ActionCode</Value>
</Value>
<Value name="18">
<Value>EnteredBy</Value>
</Value>
<Value name="19">
<Value>EnteredAt</Value>
</Value>
<Value name="20">
<Value>EnteredOn</Value>
</Value>
<Value name="21">
<Value>ExternalId</Value>
</Value>
<Value name="22">
<Value>Encounter</Value>
</Value>
<Value name="23">
<Value>DocumentURL</Value>
</Value>
<Value name="24">
<Value>LastModified</Value>
</Value>
<Value name="25">
<Value>LastModifiedBy</Value>
</Value>
<Value name="26">
<Value>Stream</Value>
</Value>
<Value name="27">
<Value>Version</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.DocumentSection">
<Super>%SerialObject,%XML.Adaptor</Super>
<TimeChanged>64827,55692.667462</TimeChanged>
<TimeCreated>64622,46846.777448</TimeCreated>

<Property name="SectionCode">
<Type>CDR.Code.DocumentSection</Type>
</Property>

<Property name="OrderedBy">
<Type>%String</Type>
</Property>

<Property name="textContent">
<Type>%String</Type>
</Property>

<Property name="streamContent">
<Type>%Stream</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>DocumentSectionState</State>
<StreamLocation>^CDR.DocumentSectionS</StreamLocation>
<Data name="DocumentSectionState">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>SectionCode</Value>
</Value>
<Value name="2">
<Value>OrderedBy</Value>
</Value>
<Value name="3">
<Value>textContent</Value>
</Value>
<Value name="4">
<Value>streamContent</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Encounter">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64919,62398.614381</TimeChanged>
<TimeCreated>63417,42320.790042</TimeCreated>

<Index name="ukEncounterNo">
<Properties>EncounterNumber</Properties>
<Unique>1</Unique>
</Index>

<Property name="AdmissionLocation">
<Description>
入院科室</Description>
<Type>%String</Type>
</Property>

<Property name="AdmissionLocationNo">
<Type>%String</Type>
</Property>

<Property name="AdmissionType">
<Description>
就诊类型</Description>
<Type>CDR.Code.AdmissionType</Type>
</Property>

<Property name="Class">
<Description>
就诊分类: 门诊、急诊、住院、救护车、家庭上门诊疗
Encounter class, like inpatient | outpatient | ambulatory | emergency | homevisit +.</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="SubAdmissionType">
<Description>
就诊入院类型:  例如：康复、护理(换药)、手术、慢病管理、婚前检查,孕前检查,产后42天检查等
Specific type of encounter (e.g. e-mail consultation, surgical day-care, skilled nursing, rehabilitation,婚前检查,孕前检查,产后42天检查等 ).</Description>
<Type>%String</Type>
</Property>

<Property name="Status">
<Description>
就诊状态: 计划、进行中、已离开、完成、已取消
planned | in progress | onleave | finished | cancelled.</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="PatientId">
<Description>
患者ID</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="PatientNo">
<Description>
本次就诊患者号(门诊或住院号)</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterNumber">
<Description>
就诊号</Description>
<Type>%String</Type>
<Required>1</Required>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="AdmittingClinician">
<Description>
接诊医生</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="AttendingClinicians">
<Description>
参与医生</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="ConsultingClinicians">
<Description>
会诊医生</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="ReferringClinician">
<Description>
转诊医生</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="AccountNumber">
<Description>
帐号</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="PreAdmissionNumber">
<Description>
预住院号</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="AdmissionSource">
<Description>
入院来源: 转诊、自行来、救护车、新生儿</Description>
<Type>%String</Type>
</Property>

<Property name="AdmitReason">
<Description>
入院原因 
DE06.00.173.00</Description>
<Type>%String</Type>
</Property>

<Property name="HealthCareFacility">
<Description>
医疗机构</Description>
<Type>CDR.Organization</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// 海医附院二

]]></Content>
</UDLText>

<Property name="DischargeLocation">
<Description>
出院科室</Description>
<Type>CDR.Location</Type>
</Property>

<Property name="VisitDescription">
<Description>
就诊描述(主诉)</Description>
<Type>%String</Type>
</Property>

<Property name="TreatmentPlan">
<Description>
治疗计划</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterMRN">
<Description>
病历号</Description>
<Type>%String</Type>
</Property>

<Property name="SickTime">
<Description>
发病时间</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="AdmissionTime">
<Description>
入院时间 - 时间戳格式</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="DischargeTime">
<Description>
出院时间  - 时间戳格式</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="DischargeDisposition">
<Description>
出院状态 : 治愈、死亡等</Description>
<Type>%String</Type>
</Property>

<Property name="DeathTime">
<Description>
死亡时间 - 时间戳格式</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="DeathReason">
<Description>
死亡原因</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterBill">
<Description>
就诊付费</Description>
<Type>CDR.Payment</Type>
</Property>

<Property name="IsReadmission">
<Description>
是否再入院.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="Patient">
<Type>CDR.Patient</Type>
<Cardinality>parent</Cardinality>
<Inverse>Encounters</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLPROJECTION" value="element"/>
</Property>

<Property name="Orders">
<Type>CDR.Order</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Relationship Documents As CDR.Document [ Cardinality = many, Inverse = Encounter ];

]]></Content>
</UDLText>

<Property name="Diagnoses">
<Type>CDR.Diagnosis</Type>
<Cardinality>children</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Observations">
<Type>CDR.Observation</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="AdverseReactions">
<Type>CDR.AdverseReaction</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Conditions">
<Type>CDR.Condition</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="ActionGroups">
<Type>CDR.ActionGroup</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="RiskAssessments">
<Type>CDR.RiskAssessment</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Immunizations">
<Type>CDR.Immunization</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Hospitalizations">
<Type>CDR.Hospitalization</Type>
<Cardinality>children</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Specimens">
<Type>CDR.Specimen</Type>
<Cardinality>many</Cardinality>
<Inverse>Encounter</Inverse>
<Relationship>1</Relationship>
</Property>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit "就诊于 "_..AdmissionTime
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Patient.MPIID
]]></Implementation>
</Method>

<UDLText name="T">
<Content><![CDATA[
// Relationship Procedures As CDR.Procedure [ Cardinality = many, Inverse = Encounter ];

]]></Content>
</UDLText>

<Property name="LOS">
<Type>%Integer</Type>
<Calculated>1</Calculated>
<SqlComputeCode> Set {LOS}=$SYSTEM.SQL.DATEDIFF("dd",{AdmissionTime},$S({DischargeTime}="":$H,1:{DischargeTime}))+1
 </SqlComputeCode>
<SqlComputed>1</SqlComputed>
<SqlComputeOnChange>DischargeTime</SqlComputeOnChange>
</Property>

<Method name="LOSGet">
<ReturnType>%Integer</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit $SYSTEM.SQL.DATEDIFF("dd",..AdmissionTime,$S(..DischargeTime="":$H,1:..DischargeTime))+1
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("Encounters")</DataLocation>
<DefaultData>EncounterDefaultData</DefaultData>
<IdLocation>^CDR.PatientC("Encounters")</IdLocation>
<IndexLocation>^CDR.EncounterI</IndexLocation>
<StreamLocation>^CDR.EncounterS</StreamLocation>
<ExtentSize>3001</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="EncounterDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Class</Value>
</Value>
<Value name="3">
<Value>Type</Value>
</Value>
<Value name="4">
<Value>Status</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>EncounterNumber</Value>
</Value>
<Value name="7">
<Value>AdmissionType</Value>
</Value>
<Value name="8">
<Value>AdmittingClinician</Value>
</Value>
<Value name="9">
<Value>AttendingClinicians</Value>
</Value>
<Value name="10">
<Value>ConsultingClinicians</Value>
</Value>
<Value name="11">
<Value>ReferringClinician</Value>
</Value>
<Value name="12">
<Value>AccountNumber</Value>
</Value>
<Value name="13">
<Value>PreAdmissionNumber</Value>
</Value>
<Value name="14">
<Value>AdmissionSource</Value>
</Value>
<Value name="15">
<Value>AdmitReason</Value>
</Value>
<Value name="16">
<Value>HealthCareFacility</Value>
</Value>
<Value name="17">
<Value>DischargeLocation</Value>
</Value>
<Value name="18">
<Value>VisitDescription</Value>
</Value>
<Value name="19">
<Value>VisitStatus</Value>
</Value>
<Value name="20">
<Value>EncounterMRN</Value>
</Value>
<Value name="21">
<Value>AdmissionTime</Value>
</Value>
<Value name="22">
<Value>DischargeTime</Value>
</Value>
<Value name="23">
<Value>DeathTime</Value>
</Value>
<Value name="24">
<Value>reAdmission</Value>
</Value>
<Value name="25">
<Value>ID</Value>
</Value>
<Value name="26">
<Value>LastModifiedBy</Value>
</Value>
<Value name="27">
<Value>PatientId</Value>
</Value>
<Value name="28">
<Value>Version</Value>
</Value>
<Value name="29">
<Value>IsReadmission</Value>
</Value>
<Value name="30">
<Value>AdmissionLocation</Value>
</Value>
<Value name="31">
<Value>DischargeDisposition</Value>
</Value>
<Value name="32">
<Value>PatientNo</Value>
</Value>
<Value name="33">
<Value>AdmissionLocationNo</Value>
</Value>
<Value name="34">
<Value>AdmittingClinicianNo</Value>
</Value>
<Value name="35">
<Value>CreationTime</Value>
</Value>
<Value name="36">
<Value>Creator</Value>
</Value>
<Value name="37">
<Value>DischargeLocationNo</Value>
</Value>
<Value name="38">
<Value>AttendingCliniciansNo</Value>
</Value>
<Value name="39">
<Value>%Process</Value>
</Value>
<Value name="40">
<Value>%LastError</Value>
</Value>
<Value name="41">
<Value>%LastFault</Value>
</Value>
<Value name="42">
<Value>Author</Value>
</Value>
<Value name="43">
<Value>SickTime</Value>
</Value>
<Value name="44">
<Value>DeathReason</Value>
</Value>
<Value name="45">
<Value>SubAdmissionType</Value>
</Value>
<Value name="46">
<Value>EncounterBill</Value>
</Value>
<Value name="47">
<Value>TreatmentPlan</Value>
</Value>
</Data>
<Property name="%%CLASSNAME">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="%%ID">
<Selectivity>1</Selectivity>
<AverageFieldSize>8.52</AverageFieldSize>
</Property>
<Property name="AccountNumber">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>11.84</AverageFieldSize>
</Property>
<Property name="AdmissionLocation">
<Selectivity>6.6666%</Selectivity>
<AverageFieldSize>3.34</AverageFieldSize>
</Property>
<Property name="AdmissionLocationNo">
<Selectivity>1.6736%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="AdmissionSource">
<Selectivity>2.4292%</Selectivity>
<OutlierSelectivity>.95122:"自行来"</OutlierSelectivity>
<AverageFieldSize>2.98</AverageFieldSize>
</Property>
<Property name="AdmissionTime">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="AdmissionType">
<Selectivity>24.9999%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="AdmitReason">
<Selectivity>33.3332%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="AdmittingClinician">
<Selectivity>0.0414%</Selectivity>
<AverageFieldSize>3.07</AverageFieldSize>
</Property>
<Property name="AdmittingClinicianNo">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>5</AverageFieldSize>
</Property>
<Property name="AttendingClinicians">
<Selectivity>0.0333%</Selectivity>
<OutlierSelectivity>.463415:</OutlierSelectivity>
<AverageFieldSize>1.63</AverageFieldSize>
</Property>
<Property name="AttendingCliniciansNo">
<Selectivity>0.0333%</Selectivity>
<OutlierSelectivity>.463415:</OutlierSelectivity>
<AverageFieldSize>2.68</AverageFieldSize>
</Property>
<Property name="Class">
<Selectivity>9.1463%</Selectivity>
<OutlierSelectivity>.908537:"门诊"</OutlierSelectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="ConsultingClinicians">
<Selectivity>0.0334%</Selectivity>
<OutlierSelectivity>.95122:</OutlierSelectivity>
<AverageFieldSize>.27</AverageFieldSize>
</Property>
<Property name="CreationTime">
<Selectivity>1.2457%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="Creator">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="DeathReason">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="DeathTime">
<Selectivity>0.0339%</Selectivity>
<OutlierSelectivity>.987805:</OutlierSelectivity>
<AverageFieldSize>.23</AverageFieldSize>
</Property>
<Property name="DischargeDisposition">
<Selectivity>33.3332%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="DischargeLocation">
<Selectivity>6.6666%</Selectivity>
<AverageFieldSize>3.34</AverageFieldSize>
</Property>
<Property name="DischargeLocationNo">
<Selectivity>1.6736%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="DischargeTime">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="EncounterMRN">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>12.87</AverageFieldSize>
</Property>
<Property name="EncounterNumber">
<Selectivity>1</Selectivity>
<AverageFieldSize>13.87</AverageFieldSize>
</Property>
<Property name="HealthCareFacility">
<Selectivity>0.1077%</Selectivity>
<AverageFieldSize>8.21</AverageFieldSize>
</Property>
<Property name="IsReadmission">
<Selectivity>49.9998%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="LOS">
<Selectivity>0.9027%</Selectivity>
<OutlierSelectivity>.908537:1</OutlierSelectivity>
<AverageFieldSize>1.04</AverageFieldSize>
</Property>
<Property name="LastModified">
<Selectivity>1.2457%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="LastModifiedBy">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="Patient">
<Selectivity>0.0863%</Selectivity>
<AverageFieldSize>2.89</AverageFieldSize>
</Property>
<Property name="PatientId">
<Selectivity>0.0863%</Selectivity>
<AverageFieldSize>11.91</AverageFieldSize>
</Property>
<Property name="PatientNo">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>9.9</AverageFieldSize>
</Property>
<Property name="PreAdmissionNumber">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>11.73</AverageFieldSize>
</Property>
<Property name="ReferringClinician">
<Selectivity>0.0335%</Selectivity>
<OutlierSelectivity>.969512:</OutlierSelectivity>
<AverageFieldSize>.09</AverageFieldSize>
</Property>
<Property name="SickTime">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="Status">
<Selectivity>3.0488%</Selectivity>
<OutlierSelectivity>.969512:"完成"</OutlierSelectivity>
<AverageFieldSize>2.03</AverageFieldSize>
</Property>
<Property name="SubAdmissionType">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="Version">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="VisitDescription">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>16.41</AverageFieldSize>
</Property>
<Property name="VisitStatus">
<Selectivity>0.0427%</Selectivity>
<OutlierSelectivity>.995732:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="childsub">
<Selectivity>0.0333%</Selectivity>
<AverageFieldSize>3.63</AverageFieldSize>
</Property>
<SQLMap name="IDKEY">
<BlockCount>-2088</BlockCount>
</SQLMap>
<SQLMap name="ukEncounterNo">
<BlockCount>-44</BlockCount>
</SQLMap>
</Storage>
</Class>


<Class name="CDR.FamilyHistory">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.491328</TimeChanged>
<TimeCreated>63427,36983.923327</TimeCreated>

<Property name="FromTime">
<Description><![CDATA[
启始时间
Beginning of period covered<br>
HSDB: User.HS.PAFamily(FAMOnsetDate)<br>
FAMOnsetDate is date only]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ToTime">
<Description><![CDATA[
结束时间
End of period covered<br>
HSDB: User.HS.PAFamily(FAMDate) + User.HS.PAFamily(FAMTime)<br>]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="FamilyMember">
<Description><![CDATA[
家庭成员
Family member covered<br>
SDATableName=FamilyMember, HSDBClass=User.HS.CTRelation<br>
HSDB: User.HS.PAFamily(FAMRelationDR)
Required]]></Description>
<Type>%String</Type>
</Property>

<Property name="Diagnosis">
<Description><![CDATA[
诊断
Diagnosis on family member<br>
SDATableName=Diagnosis, HSDBClass=User.HS.MRCICDDx<br>
HSDB: User.HS.PAFamily(FAMMRCICDDR)]]></Description>
<Type>CDR.Diagnosis</Type>
</Property>

<Property name="NoteText">
<Description><![CDATA[
说明
HSDB: User.HS.PAFamily(FAMDesc)<br>
Notes can be up to about 3.6Mb (long-string limit)<br>
No delimiters]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Status">
<Description><![CDATA[
状态：生效、失效
HSDB: User.HS.PAFamily(FAMInActive)<br>
I=Inactive, any other value=Active]]></Description>
<Type>%String</Type>
</Property>

<Property name="Patient">
<Type>CDR.Patient</Type>
<Cardinality>one</Cardinality>
<Inverse>FamilyHistories</Inverse>
<Relationship>1</Relationship>
</Property>

<Index name="PatientIndex">
<Properties>Patient</Properties>
</Index>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Patient.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.FamilyHistoryD</DataLocation>
<DefaultData>FamilyHistoryDefaultData</DefaultData>
<IdLocation>^CDR.FamilyHistoryD</IdLocation>
<IndexLocation>^CDR.FamilyHistoryI</IndexLocation>
<StreamLocation>^CDR.FamilyHistoryS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="FamilyHistoryDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>FromTime</Value>
</Value>
<Value name="3">
<Value>ToTime</Value>
</Value>
<Value name="4">
<Value>FamilyMember</Value>
</Value>
<Value name="5">
<Value>Diagnosis</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Status</Value>
</Value>
<Value name="8">
<Value>Patient</Value>
</Value>
<Value name="9">
<Value>ID</Value>
</Value>
<Value name="10">
<Value>LastModified</Value>
</Value>
<Value name="11">
<Value>NoteText</Value>
</Value>
<Value name="12">
<Value>Version</Value>
</Value>
<Value name="13">
<Value>CreationTime</Value>
</Value>
<Value name="14">
<Value>Creator</Value>
</Value>
<Value name="15">
<Value>%Process</Value>
</Value>
<Value name="16">
<Value>%LastError</Value>
</Value>
<Value name="17">
<Value>%LastFault</Value>
</Value>
<Value name="18">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Hospitalization">
<Description>
住院admission记录</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64670,48308.774526</TimeChanged>
<TimeCreated>63426,55108.907998</TimeCreated>

<Property name="Origin">
<Description>
The location from which the patient came before admission.</Description>
<Type>CDR.Location</Type>
</Property>

<Property name="Destination">
<Description>
Location to which the patient is discharged</Description>
<Type>CDR.Location</Type>
</Property>

<Property name="FromTime">
<Description>
Period during which the patient was admitted.</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ToTime">
<Type>%TimeStamp</Type>
</Property>

<Property name="SpecialCourtesy">
<Description>
Special courtesies (VIP, board member).</Description>
<Type>%String</Type>
</Property>

<Property name="Location">
<Description>
Location of this stay 本次所在病区,例如手术室、ICU、心内一病区.</Description>
<Type>CDR.Location</Type>
</Property>

<Property name="ServiceProvider">
<Description>
The custodian organization of this Encounter record</Description>
<Type>CDR.Organization</Type>
</Property>

<Property name="reAdmission">
<Description>
再入院标志</Description>
<Type>%String</Type>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>parent</Cardinality>
<Inverse>Hospitalizations</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Relationship specialArrangement As FHIR.CodeableConcept(XMLNAME = "specialArrangement", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = Hospitalization2 ];

]]></Content>
</UDLText>

<Property name="speicalArrangement">
<Description>
Wheelchair, translator, stretcher, etc.</Description>
<Type>%String</Type>
</Property>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..Encounter.Patient.Display_"在"_..FromTime_"到"_..ToTime_" 住在"_..Location
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("Hospitalizations")</DataLocation>
<DefaultData>HospitalizationDefaultData</DefaultData>
<IdLocation>^CDR.EncounterC("Hospitalizations")</IdLocation>
<IndexLocation>^CDR.HospitalizationI</IndexLocation>
<StreamLocation>^CDR.HospitalizationS</StreamLocation>
<Data name="HospitalizationDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Origin</Value>
</Value>
<Value name="3">
<Value>Destination</Value>
</Value>
<Value name="4">
<Value>FromTime</Value>
</Value>
<Value name="5">
<Value>ToTime</Value>
</Value>
<Value name="6">
<Value>SpecialCourtesy</Value>
</Value>
<Value name="7">
<Value>Location</Value>
</Value>
<Value name="8">
<Value>LastModified</Value>
</Value>
<Value name="9">
<Value>LastModifiedBy</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>speicalArrangement</Value>
</Value>
<Value name="13">
<Value>ServiceProvider</Value>
</Value>
<Value name="14">
<Value>Version</Value>
</Value>
<Value name="15">
<Value>reAdmission</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.IOTDocument">
<Description>
This copys from FHIR composition. FHIR document contains composition which referrence to all individual section entries.</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Base</Super>
<TimeChanged>64827,55733.567464</TimeChanged>
<TimeCreated>64265,35228.326831</TimeCreated>

<Property name="IOTDocNumber">
<Description>
文档编号</Description>
<Type>%String</Type>
<InitialExpression>$ZCVT($SYSTEM.Util.CreateGUID(),"L")</InitialExpression>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Index name="ukIOTDocNo">
<Properties>IOTDocNumber</Properties>
<Unique>1</Unique>
</Index>

<Property name="DocumentType">
<Description>
文档类型,CDA类型, 互联互通从C0001- C00053</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="Title">
<Description>
文档标题,for example "病例概要", "门急诊病例",</Description>
<Type>%String</Type>
</Property>

<Property name="Author">
<Description>
文档作者</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="Custodian">
<Description>
文档保管机构</Description>
<Type>CDR.Organization</Type>
</Property>

<Property name="Confidentiality">
<Description>
文档保密级别</Description>
<Type>%String</Type>
</Property>

<Property name="Attesters">
<Description>
签名，核实的人员列表，可以是病人，医务人员，测试设备等</Description>
<Type>CDR.Attester</Type>
<Collection>list</Collection>
</Property>

<Property name="Sections">
<Description>
文档中的叙述类内容</Description>
<Type>CDR.DocumentSection</Type>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
</Property>

<Property name="Orders">
<Type>CDR.Order</Type>
<Collection>list</Collection>
</Property>

<Property name="Diagnoses">
<Type>CDR.Diagnosis</Type>
<Collection>list</Collection>
</Property>

<Property name="Observations">
<Type>CDR.Observation</Type>
<Collection>list</Collection>
</Property>

<Property name="Conditions">
<Type>CDR.Condition</Type>
<Collection>list</Collection>
</Property>

<Property name="AuthorizationTime">
<Description><![CDATA[
The time that the document was authorised.<br><br>]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="FileType">
<Description><![CDATA[
The type of data e.g PDF, DOC, RTF, TXT<br><br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="Stream">
<Description><![CDATA[
This property is used when the Note is binary data, e.g DOC, PDF, JPG<br><br>]]></Description>
<Type>%GlobalBinaryStream</Type>
</Property>

<Property name="DocumentURL">
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="Status">
<Description><![CDATA[
HL7ToSDA3:<br>
TXA-19 is parsed as the Status Code. HL7ToSDA3 does not set the<br>
Description.<br><br>
Streamlet cache:<br>
In the OnValidate method of the Streamlet class, if the Document has no<br>
Status, one will be defaulted with Code="AV" and Description="Available for<br>
patient care".<br><br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="DocumentCompletionStatus">
<Description><![CDATA[
This is the status of the creation of the Note, such as Incomplete, In Progress,<br>
or Authenticated.]]></Description>
<Type>%String</Type>
</Property>

<Property name="ExternalId">
<Description><![CDATA[
Streamlet cache:<br>
In the OnBeforeMatch method of the Streamlet class, if DocumentNumber is<br>
null, it will be defaulted to ExternalId.<br><br>
VIEWERLIB: User.HS.MRNursingNotes(NOTExternalId)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DefaultData>IOTDocumentDefaultData</DefaultData>
<Data name="IOTDocumentDefaultData">
<Subscript>"IOTDocument"</Subscript>
<Value name="1">
<Value>IOTDocNumber</Value>
</Value>
<Value name="2">
<Value>IOTDocType</Value>
</Value>
<Value name="3">
<Value>Custodian</Value>
</Value>
<Value name="4">
<Value>Confidentiality</Value>
</Value>
<Value name="5">
<Value>Attesters</Value>
</Value>
<Value name="6">
<Value>Title</Value>
</Value>
<Value name="7">
<Value>Sections</Value>
</Value>
<Value name="8">
<Value>Encounter</Value>
</Value>
<Value name="9">
<Value>Orders</Value>
</Value>
<Value name="10">
<Value>Diagnoses</Value>
</Value>
<Value name="11">
<Value>Observations</Value>
</Value>
<Value name="12">
<Value>Conditions</Value>
</Value>
<Value name="13">
<Value>DocumentTime</Value>
</Value>
<Value name="14">
<Value>TranscriptionTime</Value>
</Value>
<Value name="15">
<Value>AuthorizationTime</Value>
</Value>
<Value name="16">
<Value>FileType</Value>
</Value>
<Value name="17">
<Value>Stream</Value>
</Value>
<Value name="18">
<Value>DocumentURL</Value>
</Value>
<Value name="19">
<Value>Status</Value>
</Value>
<Value name="20">
<Value>DocumentCompletionStatus</Value>
</Value>
<Value name="21">
<Value>ExternalId</Value>
</Value>
<Value name="22">
<Value>DocumentType</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.IllnessHistory">
<Super>CDR.Base,%SerialObject</Super>
<TimeChanged>64918,61026.264788</TimeChanged>
<TimeCreated>64460,58325.967891</TimeCreated>

<Property name="NoteText">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="AssociatedEncounter">
<Type>%String</Type>
</Property>

<Property name="EnteredOn">
<Type>%TimeStamp</Type>
</Property>

<Property name="Clinician">
<Type>CDR.Practitioner</Type>
</Property>

<Property name="EncounterNumber">
<Type>%String</Type>
</Property>

<Property name="Type">
<Description>
Property Type As %String(VALUELIST = ",疾病史, 传染病史, 手术史, 婚育史, 月经史,预防接种史"); 定义左边valuelist的时候xml导入会有问题，是中文的原因吗？</Description>
<Type>%String</Type>
</Property>

<Method name="StartXMLList">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[	Quit "<IllnessHistories>"
]]></Implementation>
</Method>

<Method name="EndXMLList">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[	Quit "</IllnessHistories>"
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Immunization">
<Description>
预防免疫</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.581177</TimeChanged>
<TimeCreated>63421,34826.228299</TimeCreated>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>Immunizations</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="Date">
<Description>
免疫日期
Date vaccine administered or was to be administered.</Description>
<Type>%Date</Type>
<Required>1</Required>
</Property>

<Property name="VaccineType">
<Description>
免疫类型
Vaccine that was administered or was to be administered.</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="RefusedIndicator">
<Description>
是否拒绝
Indicates if the vaccination was refused.</Description>
<Type>%Boolean</Type>
<Required>1</Required>
</Property>

<Property name="Reported">
<Description>
是否是患者自己告知的
True if this administration was reported rather than directly administered.</Description>
<Type>%Boolean</Type>
<Required>1</Required>
<Parameter name="XMLNAME" value="reported"/>
</Property>

<Property name="Performer">
<Description>
执行医生
Clinician who administered the vaccine.</Description>
<Type>%String</Type>
</Property>

<Property name="Requester">
<Description>
申请医生
Clinician who ordered the vaccination.</Description>
<Type>%String</Type>
</Property>

<Property name="Manufacturer">
<Description>
疫苗厂商
Name of vaccine manufacturer.</Description>
<Type>%String</Type>
</Property>

<Property name="Location">
<Description>
免疫地点
The service delivery location where the vaccine administration occurred.</Description>
<Type>%String</Type>
</Property>

<Property name="LotNumber">
<Description>
疫苗编号
Lot number of the  vaccine product.</Description>
<Type>%String</Type>
</Property>

<Property name="ExpirationDate">
<Description>
疫苗失效期
Date vaccine batch expires.</Description>
<Type>%Date</Type>
</Property>

<Property name="BodySite">
<Description>
免疫身体部位
Body site where vaccine was administered.</Description>
<Type>CDR.Code.BodySite</Type>
</Property>

<Property name="Route">
<Description>
免疫途径：吃药、打针...
The path by which the vaccine product is taken into the body.</Description>
<Type>%String</Type>
</Property>

<Property name="DoseQuantity">
<Description>
剂量
The quantity of vaccine product that was administered.</Description>
<Type>%Numeric</Type>
</Property>

<Property name="Explanation">
<Description>
原因解释
Reasons why a vaccine was administered or refused.</Description>
<Type>%String</Type>
</Property>

<Property name="Reactions">
<Description>
不良反应
Categorical data indicating that an adverse event is associated in time to an immunization.</Description>
<Type>CDR.AdverseReaction</Type>
<Cardinality>many</Cardinality>
<Inverse>Immunization</Inverse>
<Relationship>1</Relationship>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Relationship VaccinationProtocol As FHIR.Immunization.VaccinationProtocol(XMLNAME = "vaccinationProtocol", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = Immunization2 ];

]]></Content>
</UDLText>

<Method name="DisplayGet">
<Description>
Contains information about the protocol(s) under which the vaccine was administered.
免疫计划</Description>
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[
	Set tAccept = "接受了:"
	Set:(..RefusedIndicator) tAccept = "拒绝了:"
	Quit ..Encounter.Patient.Display_"在"_..Date_tAccept_..VaccineType
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ImmunizationD</DataLocation>
<DefaultData>ImmunizationDefaultData</DefaultData>
<IdLocation>^CDR.ImmunizationD</IdLocation>
<IndexLocation>^CDR.ImmunizationI</IndexLocation>
<StreamLocation>^CDR.ImmunizationS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="ImmunizationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Encounter</Value>
</Value>
<Value name="3">
<Value>Date</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>Reported</Value>
</Value>
<Value name="7">
<Value>Performer</Value>
</Value>
<Value name="8">
<Value>Requester</Value>
</Value>
<Value name="9">
<Value>Manufacturer</Value>
</Value>
<Value name="10">
<Value>Location</Value>
</Value>
<Value name="11">
<Value>LotNumber</Value>
</Value>
<Value name="12">
<Value>ExpirationDate</Value>
</Value>
<Value name="13">
<Value>BodySite</Value>
</Value>
<Value name="14">
<Value>Route</Value>
</Value>
<Value name="15">
<Value>DoseQuantity</Value>
</Value>
<Value name="16">
<Value>Explanation</Value>
</Value>
<Value name="17">
<Value>ID</Value>
</Value>
<Value name="18">
<Value>RefusedIndicator</Value>
</Value>
<Value name="19">
<Value>VaccineType</Value>
</Value>
<Value name="20">
<Value>Version</Value>
</Value>
<Value name="21">
<Value>CreationTime</Value>
</Value>
<Value name="22">
<Value>Creator</Value>
</Value>
<Value name="23">
<Value>%Process</Value>
</Value>
<Value name="24">
<Value>%LastError</Value>
</Value>
<Value name="25">
<Value>%LastFault</Value>
</Value>
<Value name="26">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.LabOrder">
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Order</Super>
<TimeChanged>64672,44961.85797</TimeChanged>
<TimeCreated>63418,52167.389606</TimeCreated>

<Parameter name="ORDERITEMTYPE">
<Default>LAB</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<ExtentSize>100000</ExtentSize>
</Storage>
</Class>


<Class name="CDR.Location">
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Base,%SerialObject</Super>
<TimeChanged>64918,60961.146078</TimeChanged>
<TimeCreated>63426,55124.859075</TimeCreated>

<Property name="Bed">
<Description>
病床号</Description>
<Type>%String</Type>
</Property>

<Property name="Ward">
<Description>
病区号</Description>
<Type>%String</Type>
</Property>

<Property name="ManagingOrganization">
<Description>
病区所属科室</Description>
<Type>CDR.Organization</Type>
</Property>
</Class>


<Class name="CDR.MedicalAssessment">
<Description>
临床评估</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.937487</TimeChanged>
<TimeCreated>63417,31537.29575</TimeCreated>

<Property name="Value">
<Description>
评估结果</Description>
<Type>%String</Type>
</Property>

<Property name="Score">
<Description>
评估得分</Description>
<Type>%Float</Type>
</Property>

<Property name="Items">
<Description>
评估项目</Description>
<Type>CDR.Code.MedicalAssessmentItem</Type>
</Property>

<Property name="Form">
<Type>CDR.MedicalAssessmentForm</Type>
<Cardinality>parent</Cardinality>
<Inverse>AssessmentItems</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("AssessmentItems")</DataLocation>
<DefaultData>MedicalAssessmentDefaultData</DefaultData>
<IdLocation>^CDR.MedicalAssessmentFormC("AssessmentItems")</IdLocation>
<IndexLocation>^CDR.MedicalAssessmentI</IndexLocation>
<StreamLocation>^CDR.MedicalAssessmentS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="MedicalAssessmentDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Score</Value>
</Value>
<Value name="4">
<Value>Items</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Value</Value>
</Value>
<Value name="8">
<Value>Version</Value>
</Value>
<Value name="9">
<Value>CreationTime</Value>
</Value>
<Value name="10">
<Value>Creator</Value>
</Value>
<Value name="11">
<Value>%Process</Value>
</Value>
<Value name="12">
<Value>%LastError</Value>
</Value>
<Value name="13">
<Value>%LastFault</Value>
</Value>
<Value name="14">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.MedicalAssessmentForm">
<Description>
临床评估表单</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.552721</TimeChanged>
<TimeCreated>63417,36560.996854</TimeCreated>

<Property name="Name">
<Description>
评估名称</Description>
<Type>%String</Type>
</Property>

<Property name="AssessmentDate">
<Description>
评估时间</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Evaluator">
<Description>
评估人</Description>
<Type>%String</Type>
</Property>

<Property name="AssessmentItems">
<Description>
评估项目</Description>
<Type>CDR.MedicalAssessment</Type>
<Cardinality>children</Cardinality>
<Inverse>Form</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.MedicalAssessmentFormD</DataLocation>
<DefaultData>MedicalAssessmentFormDefaultData</DefaultData>
<IdLocation>^CDR.MedicalAssessmentFormD</IdLocation>
<IndexLocation>^CDR.MedicalAssessmentFormI</IndexLocation>
<StreamLocation>^CDR.MedicalAssessmentFormS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="MedicalAssessmentFormDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>AssessmentDate</Value>
</Value>
<Value name="4">
<Value>Evaluator</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Name</Value>
</Value>
<Value name="8">
<Value>Version</Value>
</Value>
<Value name="9">
<Value>CreationTime</Value>
</Value>
<Value name="10">
<Value>Creator</Value>
</Value>
<Value name="11">
<Value>%Process</Value>
</Value>
<Value name="12">
<Value>%LastError</Value>
</Value>
<Value name="13">
<Value>%LastFault</Value>
</Value>
<Value name="14">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Medication.Administration">
<Description>
给药对象,一个长期药嘱可能会有多个给药对象</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64670,46677.116273</TimeChanged>
<TimeCreated>63418,35452.504865</TimeCreated>

<Property name="Status">
<Description>
Will generally be set to show that the administration has been completed.  For some long running administrations such as infusions it is possible for an administration to be started but not completed or it may be paused while some other process is under way.</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="Practitioner">
<Description>
发药药剂师</Description>
<Type>CDR.Practitioner</Type>
<Required>1</Required>
</Property>

<Property name="Auditor">
<Description>
处方审核药师</Description>
<Type>CDR.Practitioner</Type>
<Required>1</Required>
</Property>

<Property name="Reviewer">
<Description>
处方核对药师</Description>
<Type>CDR.Practitioner</Type>
<Required>1</Required>
</Property>

<Property name="WasNotGiven">
<Description>
Set this to true if the record is saying that the medication was NOT administered.</Description>
<Type>%Boolean</Type>
</Property>

<Property name="ReasonNotGiven">
<Description>
A code indicating why the administration was not performed.</Description>
<Type>%String</Type>
</Property>

<Property name="WhenGivenBegin">
<Description>
An interval of time during which the administration took place.  For many administrations, such as swallowing a tablet the lower and upper values of the interval will be the same.</Description>
<Type>%TimeStamp</Type>
<Required>1</Required>
</Property>

<Property name="WhenGivenEnd">
<Type>%TimeStamp</Type>
<Required>1</Required>
</Property>

<Property name="device">
<Description>
The device used in administering the medication to the patient.  E.g. a particular infusion pump.</Description>
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Relationship dosage As FHIR.MedicationAdministration.Dosage(XMLNAME = "dosage", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = MedicationAdministration3 ];

]]></Content>
</UDLText>

<Property name="Medication">
<Description>
Provides details of how much of the medication was administered.</Description>
<Type>CDR.Medication</Type>
<Cardinality>parent</Cardinality>
<Inverse>Administrations</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("CDR.Medication.Administrations")</DataLocation>
<DefaultData>AdministrationDefaultData</DefaultData>
<IdLocation>^CDR.MedicationC("Administrations")</IdLocation>
<IndexLocation>^CDR.Medication.AdministrationI</IndexLocation>
<StreamLocation>^CDR.Medication.AdministrationS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="AdministrationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Practitioner</Value>
</Value>
<Value name="4">
<Value>Version</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>WhenGivenEnd</Value>
</Value>
<Value name="8">
<Value>device</Value>
</Value>
<Value name="9">
<Value>ReasonNotGiven</Value>
</Value>
<Value name="10">
<Value>Status</Value>
</Value>
<Value name="11">
<Value>WasNotGiven</Value>
</Value>
<Value name="12">
<Value>WhenGivenBegin</Value>
</Value>
<Value name="13">
<Value>CreationTime</Value>
</Value>
<Value name="14">
<Value>Creator</Value>
</Value>
<Value name="15">
<Value>%Process</Value>
</Value>
<Value name="16">
<Value>%LastError</Value>
</Value>
<Value name="17">
<Value>%LastFault</Value>
</Value>
<Value name="18">
<Value>Author</Value>
</Value>
<Value name="19">
<Value>Auditer</Value>
</Value>
<Value name="20">
<Value>Reviewer</Value>
</Value>
<Value name="21">
<Value>Auditor</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Medication.Dispense">
<Description>
发药对象
一个药嘱可能有多个发药对象，例如长期药嘱，药房可能每天都要对住院病人发药
FHIR中的</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64708,48904.522505</TimeChanged>
<TimeCreated>63418,33956.989655</TimeCreated>

<Property name="PrepareBy">
<Description>
处方调配药师，The individual responsible for dispensing the medication.</Description>
<Type>CDR.Practitioner</Type>
<Required>1</Required>
</Property>

<Property name="Auditor">
<Description>
处方审核药师</Description>
<Type>CDR.Practitioner</Type>
<Required>1</Required>
</Property>

<Property name="Reviewer">
<Description>
处方核对药师</Description>
<Type>CDR.Practitioner</Type>
<Required>1</Required>
</Property>

<Property name="Dispenser">
<Description>
发药药剂师</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="Status">
<Description>
A code specifying the state of the dispense event.</Description>
<Type>%String</Type>
</Property>

<Property name="Type">
<Description>
Indicates the type of dispensing event that is performed. Examples include: Trial Fill, Completion of Trial, Partial Fill, Emergency Fill, Samples, etc.</Description>
<Type>%String</Type>
</Property>

<Property name="Quantity">
<Description>
The amount of medication that has been dispensed. Includes unit of measure.</Description>
<Type>%Numeric</Type>
</Property>

<Property name="DrugBagNumber">
<Description>
The number of drug bag which holding this drug or even other drugs.</Description>
<Type>%String</Type>
</Property>

<Property name="WhenPrepared">
<Description>
备药时间 The time when the dispensed product was packaged and reviewed.</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="WhenHandedOver">
<Description>
发药时间 The time the dispensed product was provided to the patient or their representative.</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Destination">
<Description>
Identification of the facility/location where the medication was shipped to, as part of the dispense event.</Description>
<Type>%String</Type>
</Property>

<Property name="Receiver">
<Description>
Identifies the person who picked up the medication.  This will usually be a patient or their career, but some cases exist where it can be a healthcare professional.</Description>
<Type>%String</Type>
</Property>

<Property name="Medication">
<Type>CDR.Medication</Type>
<Cardinality>parent</Cardinality>
<Inverse>Dispenses</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("CDR.Medication.Dispenses")</DataLocation>
<DefaultData>DispenseDefaultData</DefaultData>
<IdLocation>^CDR.MedicationC("Dispenses")</IdLocation>
<IndexLocation>^CDR.Medication.DispenseI</IndexLocation>
<StreamLocation>^CDR.Medication.DispenseS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="DispenseDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Type</Value>
</Value>
<Value name="4">
<Value>Quantity</Value>
</Value>
<Value name="5">
<Value>DrugBagNumber</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>WhenHandedOver</Value>
</Value>
<Value name="8">
<Value>Destination</Value>
</Value>
<Value name="9">
<Value>Receiver</Value>
</Value>
<Value name="10">
<Value>Dispenser</Value>
</Value>
<Value name="11">
<Value>LastModified</Value>
</Value>
<Value name="12">
<Value>Status</Value>
</Value>
<Value name="13">
<Value>Version</Value>
</Value>
<Value name="14">
<Value>WhenPrepared</Value>
</Value>
<Value name="15">
<Value>CreationTime</Value>
</Value>
<Value name="16">
<Value>Creator</Value>
</Value>
<Value name="17">
<Value>%Process</Value>
</Value>
<Value name="18">
<Value>%LastError</Value>
</Value>
<Value name="19">
<Value>%LastFault</Value>
</Value>
<Value name="20">
<Value>Author</Value>
</Value>
<Value name="21">
<Value>Auditer</Value>
</Value>
<Value name="22">
<Value>Reviewer</Value>
</Value>
<Value name="23">
<Value>PreparedBy</Value>
</Value>
<Value name="24">
<Value>Performer</Value>
</Value>
<Value name="25">
<Value>PrepareBy</Value>
</Value>
<Value name="26">
<Value>Auditor</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Medication">
<Description>
对应于fhir的medicationrequest, 里面包含的fhir medication也包含在里面了
fhir的medicationrequest是一个医嘱，而medication只是药物的成分和包装等等。</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Order</Super>
<TimeChanged>64708,47311.387584</TimeChanged>
<TimeCreated>63417,58639.847513</TimeCreated>

<Parameter name="ORDERITEMTYPE">
<Default>MED</Default>
</Parameter>

<Property name="Status">
<Description>
不需要新id, 使用order里的id
状态
Will generally be set to show that the administration has been completed.  
For some long running administrations such as infusions it is possible for an administration to be started but not completed or it may be paused while some other process is under way.
active|on-hold|cancelled|completed...</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="prescription">
<Description>
处方
The visit or admission the or other contact between patient and health care provider the medication administration was performed as part of.
The original request, instruction or authority to perform the administration.</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="NotGiven">
<Description>
是否已执行
Set this to true if the record is saying that the medication was NOT administered.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="ReasonNotGiven">
<Description>
未执行原因
A code indicating why the administration was not performed.</Description>
<Type>%String</Type>
<Collection>list</Collection>
</Property>

<Property name="DrugChemical">
<Description>
药品
Identifies the medication that was administered. This is either a link to a resource representing the details of the medication or a simple attribute carrying a code that identifies the medication from a known list of medications.</Description>
<Type>CDR.Code.Medication</Type>
</Property>

<Property name="Device">
<Description>
给药设备
The device used in administering the medication to the patient.  E.g. a particular infusion pump.</Description>
<Type>%String</Type>
</Property>

<Property name="DrugProduct">
<Description><![CDATA[
药品
What was dispensed - commercial product name<br>
SDATableName=DrugProduct, HSDBClass=User.HS.ARCItmMast<br>
HL7:  RXO-1 : RequestedGiveCode<br>
HL7:  RXO-6 : ProvidersPharmacyTreatmentIn<br>
HL7:  RXA-5 : AdministeredCode<br>
HL7:  RXE-2 : GiveCode<br>
HSDB: User.HS.OEOrdItem(OEORIItmMastDR)<br>
HSDB: User.HS.PHCDrgMast(PHCDCode)<br>
A Medication can have just a DrugProduct, a DrugProduct and an OrderItem or
 just an OrderItem.<br>
RXO-6 overrides RXO-1<br>]]></Description>
<Type>CDR.Code.Medication</Type>
</Property>

<Property name="StrengthVolume">
<Description><![CDATA[

Strength volume (e.g. the "10" in 2mg/10ml)<br>
HL7:  RXO-25 : RequestedDrugStrengthVolume<br>
HL7:  RXA-23 : AdministeredDrugStrengthVolu<br>
HL7:  RXE-33 : GiveDrugStrengthVolume<br>
HSDB: Not stored]]></Description>
<Type>%Numeric</Type>
</Property>

<Property name="StrengthVolumeUnits">
<Description><![CDATA[
含量单位
Units for StrengthVolume (e.g. ml)<br>
HL7:  RXO-26 : RequestedDrugStrengthVolumeU<br>
HL7:  RXA-24 : AdministeredDrugStrengthUnit<br>
HL7:  RXE-34 : GiveDrugStrengthVolumeU<br>
HSDB: Not stored]]></Description>
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// edit by Louise, using code table instead of amount

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Property RateAmount As %Numeric;

]]></Content>
</UDLText>

<Property name="RateAmount">
<Description><![CDATA[
频率
Rate (e.g. the 100 in 100 ml/hour)<br>
HL7:  RXO-21 : RequestedGiveRateAmount<br>
HL7:  RXE-23 : GiveRateAmount<br>
HSDB: User.HS.OEOrdItem(OEORISpeedFlowRate)]]></Description>
<Type>%String</Type>
</Property>

<Property name="RateUnits">
<Description><![CDATA[
频率单位
Units for Rate (e.g. the ml in 100 ml/hour)<br>
SDATableName=RateUnits, HSDBClass=User.HS.OECSpeedFlowRate<br>
HL7:  RXO-22 : RequestedGiveRateUnits<br>
HL7:  RXA-14 : AdministeredStrengthUnits<br>
HL7:  RXE-24 : GiveRateUnits<br>
HSDB: User.HS.OEOrdItem(OEORIFlowRateUnitDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="RateTimeUnit">
<Description><![CDATA[
频率执行单位
Time units (e.g. per hour, as in 100 ml per hour)<br>
HL7:  RXO-17 : RequestedGivePerTimeUnit<br>
HL7:  RXA-12 : AdministeredPerTimeUnit<br>
HL7:  RXE-22 : GivePerTimeUnit<br>
HSDB: User.HS.OEOrdItem(OEORIUnitHrs)]]></Description>
<Type>%String</Type>
</Property>

<Property name="DoseQuantity">
<Description><![CDATA[
剂量
Size of dose (e.g. the 20 in 20mg).<br>
HL7:  RXO-2  : RequestedGiveAmountMinimum<br>
HL7:  RXO-18 : RequestedGiveStrength<br>
HL7:  RXA-13 : AdministeredStrength<br>
HL7:  RXE-3  : GiveAmountMinimum<br>
HL7:  RXE-25 : GiveStrength<br>
HSDB: User.HS.OEOrdItem(OEORIDoseQty)<br>
See also HS.SDA3.DosageStep.DoseQuantity<br>
RXO-18 overrides RXO-2.<br>
RXE-25 overrides RXE-3.]]></Description>
<Type>%Numeric</Type>
</Property>

<Property name="MaxDoseQuantity">
<Description><![CDATA[
最大剂量
Maximum dose quantity<br>
HL7:  RXO-3 : RequestedGiveAmountMaximum<br>
HL7:  RXE-4  : GiveAmountMaximum<br>
HSDB: User.HS.OEOrdItem(OEORIPRNTotNumberDosesAll)]]></Description>
<Type>%Numeric</Type>
</Property>

<Property name="NumberOfRefills">
<Description><![CDATA[
加药数量
Number of refills<br>
HL7:  RXO-13 : NumberOfRefills<br>
HL7:  RXE-12 : NumberOfRefills<br>
HSDB: User.HS.OEOrdItem(OEORIMaxNumberOfRepeats)]]></Description>
<Type>%String</Type>
</Property>

<Property name="DoseUoM">
<Description><![CDATA[
剂量单位
Units for DoseQuantity (e.g. the mg in 20mg)<br>
SDATableName=DoseUoM, HSDBClass=User.HS.CTUOM<br>
HL7:  RXO-4  : RequestedGiveUnits<br>
HL7:  RXO-19 : RequestedGiveStrengthUnits<br>
HL7:  RXE-5  : GiveUnits<br>
HL7:  RXE-26 : GiveStrengthUnits<br>
HSDB: User.HS.OEOrdItem(OEORIUnitDR)<br>
See also HS.SDA3.DosageStep.DoseUoM<br>
RXO-19 overrides RXO-4.<br>
RXE-26 overrides RXO-5.]]></Description>
<Type>%String</Type>
</Property>

<Property name="DosageForm">
<Description><![CDATA[
剂型
Dosage Form (e.g. Tablet, Capsule etc)<br>
SDATableName=DosageForm, HSDBClass=User.HS.PHCDosage<br>
HL7:  RXO-5 : RequestedDosageForm<br>
HL7:  RXA-8 : AdministeredDosageForm<br>
HL7:  RXE-6 : GiveDosageForm<br>
HSDB: User.HS.OEOrdItem(OEORIDosageDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="Route">
<Description><![CDATA[
给药途径
Instructions for administering drug (e.g. Oral)<br>
SDATableName=Route, HSDBClass=User.HS.OECRoute<br>
HL7:  RXO-7 : ProvidersAdministrationInstr<br>
HL7:  RXE-7 : ProvidersAdministrationInstr<br>
HL7:  RXR-1 : Route<br>
HSDB: User.HS.OEOrdItem(OEORIRouteDR)<br>
RXR-1 overrides RXE-7.]]></Description>
<Type>CDR.Code.Route</Type>
</Property>

<Property name="Indication">
<Description><![CDATA[
用药指导
The condition or problem for which the drug/treatment was prescribed<br>
HL7:  RXO-20 : Indication<br>
HL7:  RXA-19 : Indication<br>
HL7:  RXE-27 : Indication<br>
HSDB: User.HS.OEOrdItem(OEORIPRNIndication)<br>
We only use the first item in the list
No delimiter]]></Description>
<Type>%String</Type>
</Property>

<Property name="PharmacyStatus">
<Description><![CDATA[
药品状态: 计划用药、处方药、药嘱再配
The status of this prescription<br>
HSDB: User.HS.OEOrdItem(OEORIPharmacyStatus)<br>
This a free text status field.<br>
For example, in Sweden, a prescription may go through up to 3 statuses,
  "O" for "Planned", "F" for "Prescribed" and "U" for "Refilled"]]></Description>
<Type>%String</Type>
</Property>

<Property name="PrescriptionNumber">
<Description><![CDATA[
处方号码
The number (or Id) assigned to the Prescription or Order<br>
HSDB: User.HS.OEOrdItem(OEORIPrescNo)
HL7:  RXE-15 : PrescriptionNumber<br>
Case sensitive.<br>
This field is used to match against existing Medications as follows:<br>
Try to match first on the FillerId, then on the PlacerId (LabEpNo), finally Prescription Number<br>
The rules for matching PrescriptionNumbers are:<br>
1. If the PrescriptionNumber is blank in the SDA then just match with the Filler/PlacerID <br>
2. If there is a PrescriptionNumber in the SDA and the Filler/PlacerId exists and its PrescriptionNumber is blank then match.<br>
3. If there is a PrescriptionNumber in the SDA and the Filler/PlacerId exists and its PrescriptionNumber is different then do not match, but create a new row.<br>
4. If there is a PrescriptionNumber in the SDA and no Filler/PlacerId in the SDA but an existing record with the PrescriptionNumber then match.<br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="RefillNumber">
<Description><![CDATA[
药嘱再配数量
The current refill repeat number<br>
HSDB: User.HS.OEOrdItem(OEORICurrRepeatNumber)<br>
This could be a sequence number or a full ID for the last refill (if any)]]></Description>
<Type>%Numeric</Type>
</Property>

<Property name="RefillDescription">
<Description><![CDATA[
药嘱再配描述
A description of when the order will be refilled<br>
HSDB: User.HS.OEOrdItem(OEORIRepeatDesc)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="Dispenses">
<Description>
发药对象</Description>
<Type>CDR.Medication.Dispense</Type>
<Cardinality>children</Cardinality>
<Inverse>Medication</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Administrations">
<Description>
给药对象</Description>
<Type>CDR.Medication.Administration</Type>
<Cardinality>children</Cardinality>
<Inverse>Medication</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="SumDoseQuantity">
<Description>
药物使用总剂量</Description>
<Type>%Numeric</Type>
</Property>

<Property name="DrugGroupNumber">
<Description>
处方药品组号
由系统从1开始根据自然递增的原则赋予每条新增医嘱的顺序号
用于标示大输液配液分组</Description>
<Type>%Integer</Type>
</Property>

<Property name="PrescriptionValidDays">
<Description>
处方有效天数</Description>
<Type>%Integer</Type>
</Property>

<Property name="PrescriptionMemo">
<Description>
处方备注信息</Description>
<Type>%String</Type>
</Property>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit "有药嘱 "_..DrugChemical.Name
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DefaultData>MedicationDefaultData</DefaultData>
<Data name="MedicationDefaultData">
<Subscript>"Medication"</Subscript>
<Value name="1">
<Value>prescription</Value>
</Value>
<Value name="2">
<Value>NotGiven</Value>
</Value>
<Value name="3">
<Value>ReasonNotGiven</Value>
</Value>
<Value name="4">
<Value>DrugChemical</Value>
</Value>
<Value name="5">
<Value>Device</Value>
</Value>
<Value name="6">
<Value>DrugProduct</Value>
</Value>
<Value name="7">
<Value>StrengthVolume</Value>
</Value>
<Value name="8">
<Value>StrengthVolumeUnits</Value>
</Value>
<Value name="9">
<Value>RateAmount</Value>
</Value>
<Value name="10">
<Value>RateUnits</Value>
</Value>
<Value name="11">
<Value>RateTimeUnit</Value>
</Value>
<Value name="12">
<Value>DoseQuantity</Value>
</Value>
<Value name="13">
<Value>MaxDoseQuantity</Value>
</Value>
<Value name="14">
<Value>NumberOfRefills</Value>
</Value>
<Value name="15">
<Value>DoseUoM</Value>
</Value>
<Value name="16">
<Value>DosageForm</Value>
</Value>
<Value name="17">
<Value>Route</Value>
</Value>
<Value name="18">
<Value>Indication</Value>
</Value>
<Value name="19">
<Value>PharmacyStatus</Value>
</Value>
<Value name="20">
<Value>PrescriptionNumber</Value>
</Value>
<Value name="21">
<Value>RefillNumber</Value>
</Value>
<Value name="22">
<Value>RefillDescription</Value>
</Value>
<Value name="23">
<Value>SumDoseQuantity</Value>
</Value>
<Value name="24">
<Value>DrugGroupNumber</Value>
</Value>
<Value name="25">
<Value>PrescriptionValidDays</Value>
</Value>
<Value name="26">
<Value>PrescriptionMemo</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.MedicationRequest">
<Description>
对应于fhir的medicationrequest, 里面包含的fhir medication也包含在里面了
fhir的medicationrequest是一个医嘱，而medication只是药物的成分和包装等等。原来medication作为一个ORDER，没法表示一个ORDER里面多个药品，
虽然可以用placeId关联，但象处方天数，备注信息等等放在多个medication里面不合适。</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Order</Super>
<TimeChanged>64670,47795.756083</TimeChanged>
<TimeCreated>63417,58639.847513</TimeCreated>

<Property name="Identifier">
<Type>%String</Type>
</Property>

<Property name="Status">
<Type>%String</Type>
<Required>1</Required>
<Parameter name="VALUELIST" value=",active,on-hold,completed,stopped"/>
</Property>

<Property name="Subject">
<Description>
Give patient ID</Description>
<Type>%String</Type>
</Property>

<Property name="Requester">
<Type>CDR.Practitioner</Type>
</Property>

<Property name="ReasonCode">
<Type>%String</Type>
</Property>

<Property name="Note">
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// for new medication class, only drug information

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Relationship Medication As CDR.Medication[ Cardinality = children, Inverse = Medication ];

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Relationship DispenseReqeust As CDR.MedicationDispense[ Cardinality = children, Inverse = Medication ];

]]></Content>
</UDLText>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DefaultData>MedicationRequestDefaultData</DefaultData>
<Data name="MedicationRequestDefaultData">
<Subscript>"MedicationRequest"</Subscript>
<Value name="1">
<Value>Identifier</Value>
</Value>
<Value name="2">
<Value>Subject</Value>
</Value>
<Value name="3">
<Value>Requester</Value>
</Value>
<Value name="4">
<Value>ReasonCode</Value>
</Value>
<Value name="5">
<Value>Note</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Observation.ReferenceRange">
<Description>
参考范围</Description>
<Super>%SerialObject,%XML.Adaptor</Super>
<TimeChanged>63427,60099.98944</TimeChanged>
<TimeCreated>63427,59716.457562</TimeCreated>

<Property name="Units">
<Type>%String</Type>
</Property>

<Property name="Low">
<Type>%String</Type>
</Property>

<Property name="High">
<Type>%String</Type>
</Property>

<Property name="Meaning">
<Description>
explain about this reference range, like gender, age range and is pregnant</Description>
<Type>%String</Type>
</Property>

<Property name="Description">
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>ReferenceRangeState</State>
<StreamLocation>^CDR.ObservaE21B.ReferenceRangeS</StreamLocation>
<Data name="ReferenceRangeState">
<Value name="1">
<Value>Units</Value>
</Value>
<Value name="2">
<Value>Low</Value>
</Value>
<Value name="3">
<Value>High</Value>
</Value>
<Value name="4">
<Value>Meaning</Value>
</Value>
<Value name="5">
<Value>Description</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Observation">
<Description>
体征</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64495,41863.1346</TimeChanged>
<TimeCreated>63417,49496.035316</TimeCreated>

<Index name="ukObsNo">
<Properties>ObsId</Properties>
<Unique>1</Unique>
</Index>

<Property name="ObsId">
<Description>
体征序号</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterId">
<Description>
就诊ID</Description>
<Type>%String</Type>
</Property>

<Property name="ObservationTime">
<Description><![CDATA[
体征时间 - 时间戳格式
Time of observation<br>
HL7:  OBX-14 : DateTimeoftheObservation<br>
HSDB: User.HS.MRObservations(OBSDate) + User.HS.MRObservations(OBSDate)<br>
Default EnteredOn then 'today,0']]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ObservationGroup">
<Description>
体征组：化验,镜检,体征,B超,影像...</Description>
<Type>%String</Type>
</Property>

<Property name="ObservationCode">
<Description><![CDATA[
体征编码
Observation code<br>
SDATableName=Observation, HSDBClass=User.HS.MRCObservationItem<br>
HL7:  OBX-3  : ObservationIdentifier<br>
HSDB: User.HS.MRObservations(OBSItemDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="ObservationDesc">
<Description>
体征描述</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="999"/>
</Property>

<Property name="ResultInterpretation">
<Description><![CDATA[
体征结果描述
HL7:  OBX-8 : AbnormalFlags<br>
HSDB: User.HS.OEOrdItem(OEORIAbnormal)<br>
For a text result (all instances of OBX-2 = TX or FT), this is set to "A" for "Abnormal"<br>
if any of the OBX Abnormal Flags (OBX-8) = "A".  Any other values of OBX-8 are ignored.<br>
This property is not used in a LabResult with atomic results.]]></Description>
<Type>%String</Type>
</Property>

<Property name="BodySite">
<Description>
身体部位</Description>
<Type>CDR.Code.BodySite</Type>
</Property>

<Property name="ResultType">
<Description>
结果类型:数值型(NM)、文本型(FT)、链接型(RP)、字符串(ST)</Description>
<Type>%String</Type>
<InitialExpression>"NM"</InitialExpression>
</Property>

<Property name="Value">
<Description><![CDATA[
体征值
Value of observation<br>
HL7:  OBX-5  : ObservationValue<br>
HSDB: User.HS.MRObservations(OBSValue)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="999"/>
</Property>

<Property name="ValueUnits">
<Description><![CDATA[
体征值单位
Units of result value<br>
HL7:  OBX-6 : Units<br>
HSDB: User.HS.CTTestCode(CTTCUnits)<br>
Not stored for Antibiotic Sensitivities<br>
$c(16) is stripped out]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="30"/>
</Property>

<Property name="SubId">
<Description><![CDATA[
子项序号
An id that ties together different parts of a result<br> 
(e.g. multiple organisms in a culture battery, multiple diagnostic impressions of a chest x-ray)<br>
HL7:  OBX-4 : SubId<br>
HSDB: lab.HS.EPVisitTestSetData(VISTDMachineDR)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="30"/>
</Property>

<Property name="Comments">
<Description><![CDATA[
说明
Comments on observation<br>
HL7:  NTE-3  : Comment<br>
HSDB: User.HS.MRObservations(OBSShortDesc)<br>
No delimiters]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="999"/>
</Property>

<Property name="Clinician">
<Description><![CDATA[
记录医生
Clinician who made the observation<br>
SDATableName=CareProvider, HSDBClass=User.HS.CTCareProv<br>
HSDB: User.HS.MRObservations(OBSCTCPDR)<br>
.Name<br>
.Address<br>
.ContactInfo<br>
.CareProviderType<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="PerformedAt">
<Description><![CDATA[
执行人
PerformedAt / ProducersID<br>
SDATableName=Organization, HSDBClass=User.HS.CTHospital<br>
HL7:  OBX-15 : ProducersID<br>
HSDB: lab.HS.EPVisitTestSetData(VISTDPerformedAtDR)<br>
This can be used to specify the external organization that actually did the test.]]></Description>
<Type>%String</Type>
</Property>

<Property name="Status">
<Description><![CDATA[
状态
HL7:  OBX-11 : ObservationResultStatus<br>
HSDB: lab.HS.EPVisitTestSetData(VISTDResultStatus)<br>
Values as defined for HL7, with descriptions in StandardType "TestItemStatusHealthShare"<br>
C is converted to K<br>
User-defined values are possible if defined in StandardType "TestItemStatusHealthShare"<br>
If "" on update, value unchanged (except for corrections - see below)<br>
If "" on add, value is defaulted according to ResultStatus P->P, F->F, X->X, else->R<br>
If ResultValue or Range is changed, and previous TestItemStatus is F or K then status="K"
 and ResultStatus is updated to K.<br>
Except into Access Gateway, when the TestItemStatus is stored unchanged]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="100"/>
</Property>

<Property name="ReferenceRange">
<Description>
参考范围</Description>
<Type>CDR.Observation.ReferenceRange</Type>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>Observations</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="Result">
<Type>CDR.Result</Type>
<Cardinality>one</Cardinality>
<Inverse>ResultItems</Inverse>
<Relationship>1</Relationship>
</Property>

<Index name="ResultIndex">
<Properties>Result</Properties>
</Index>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..Encounter.Patient.Display_"的检验/检查项目: "_..ObservationDesc_" 结果是 "_..Value_" "_..ResultInterpretation
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ObservationD</DataLocation>
<DefaultData>ObservationDefaultData</DefaultData>
<IdLocation>^CDR.ObservationD</IdLocation>
<IndexLocation>^CDR.ObservationI</IndexLocation>
<StreamLocation>^CDR.ObservationS</StreamLocation>
<ExtentSize>13509</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="ObservationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>EncounterId</Value>
</Value>
<Value name="3">
<Value>ObservationTime</Value>
</Value>
<Value name="4">
<Value>ObservationCode</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>BodySite</Value>
</Value>
<Value name="8">
<Value>ResultType</Value>
</Value>
<Value name="9">
<Value>Value</Value>
</Value>
<Value name="10">
<Value>ValueUnits</Value>
</Value>
<Value name="11">
<Value>SubId</Value>
</Value>
<Value name="12">
<Value>Comments</Value>
</Value>
<Value name="13">
<Value>Clinician</Value>
</Value>
<Value name="14">
<Value>PerformedAt</Value>
</Value>
<Value name="15">
<Value>Status</Value>
</Value>
<Value name="16">
<Value>ReferenceRange</Value>
</Value>
<Value name="17">
<Value>Encounter</Value>
</Value>
<Value name="18">
<Value>Result</Value>
</Value>
<Value name="19">
<Value>ID</Value>
</Value>
<Value name="20">
<Value>ObservationDesc</Value>
</Value>
<Value name="21">
<Value>ResultInterpretation</Value>
</Value>
<Value name="22">
<Value>Version</Value>
</Value>
<Value name="23">
<Value>ObservationGroup</Value>
</Value>
<Value name="24">
<Value>ObsId</Value>
</Value>
<Value name="25">
<Value>CreationTime</Value>
</Value>
<Value name="26">
<Value>Creator</Value>
</Value>
<Value name="27">
<Value>%Process</Value>
</Value>
<Value name="28">
<Value>%LastError</Value>
</Value>
<Value name="29">
<Value>%LastFault</Value>
</Value>
<Value name="30">
<Value>Author</Value>
</Value>
</Data>
<Property name="%%CLASSNAME">
<Selectivity>0.0201%</Selectivity>
<OutlierSelectivity>.997994:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="%%ID">
<Selectivity>1</Selectivity>
<AverageFieldSize>4.13</AverageFieldSize>
</Property>
<Property name="BodySite">
<Selectivity>2.0393%</Selectivity>
<AverageFieldSize>1.79</AverageFieldSize>
</Property>
<Property name="Clinician">
<Selectivity>0.0083%</Selectivity>
<AverageFieldSize>3.05</AverageFieldSize>
</Property>
<Property name="Comments">
<Selectivity>0.0074%</Selectivity>
<AverageFieldSize>46.17</AverageFieldSize>
</Property>
<Property name="CreationTime">
<Selectivity>1.2501%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="Creator">
<Selectivity>0.0201%</Selectivity>
<OutlierSelectivity>.997994:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="Encounter">
<Selectivity>0.0657%</Selectivity>
<AverageFieldSize>8.44</AverageFieldSize>
</Property>
<Property name="EncounterId">
<Selectivity>0.0657%</Selectivity>
<AverageFieldSize>13.89</AverageFieldSize>
</Property>
<Property name="LastModified">
<Selectivity>1.2501%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="LastModifiedBy">
<Selectivity>0.0201%</Selectivity>
<OutlierSelectivity>.997994:"_SYSTEM"</OutlierSelectivity>
<AverageFieldSize>7</AverageFieldSize>
</Property>
<Property name="ObsId">
<Selectivity>1</Selectivity>
<AverageFieldSize>15.9</AverageFieldSize>
</Property>
<Property name="ObservationCode">
<Selectivity>4.3478%</Selectivity>
<AverageFieldSize>6</AverageFieldSize>
</Property>
<Property name="ObservationDesc">
<Selectivity>4.3478%</Selectivity>
<AverageFieldSize>11.47</AverageFieldSize>
</Property>
<Property name="ObservationGroup">
<Selectivity>20.0000%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="ObservationTime">
<Selectivity>0.0074%</Selectivity>
<AverageFieldSize>19</AverageFieldSize>
</Property>
<Property name="PerformedAt">
<Selectivity>0.1520%</Selectivity>
<AverageFieldSize>8.25</AverageFieldSize>
</Property>
<Property name="ReferenceRange">
<Selectivity>0.0074%,Description:1.2844%,High:0.0092%,Low:0.0092%,Meaning:1.2174%,Units:16.6667%</Selectivity>
<AverageFieldSize>71.55,Description:13.4,High:5.55,Low:5.14,Meaning:13.36,Units:2</AverageFieldSize>
</Property>
<Property name="Result">
<Selectivity>0.0201%</Selectivity>
<OutlierSelectivity>.997994:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="ResultInterpretation">
<Selectivity>1.2336%</Selectivity>
<AverageFieldSize>13.28</AverageFieldSize>
</Property>
<Property name="ResultType">
<Selectivity>25.0000%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="Status">
<Selectivity>0.0201%</Selectivity>
<OutlierSelectivity>.997994:"F"</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="SubId">
<Selectivity>0.0074%</Selectivity>
<AverageFieldSize>17.9</AverageFieldSize>
</Property>
<Property name="Value">
<Selectivity>0.0160%</Selectivity>
<AverageFieldSize>5.43</AverageFieldSize>
</Property>
<Property name="ValueUnits">
<Selectivity>16.6667%</Selectivity>
<AverageFieldSize>2</AverageFieldSize>
</Property>
<Property name="Version">
<Selectivity>0.0201%</Selectivity>
<OutlierSelectivity>.997994:</OutlierSelectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<SQLMap name="EncounterIndex">
<BlockCount>-80</BlockCount>
</SQLMap>
<SQLMap name="IDKEY">
<BlockCount>-4212</BlockCount>
</SQLMap>
<SQLMap name="ResultIndex">
<BlockCount>-76</BlockCount>
</SQLMap>
<SQLMap name="ukObsNo">
<BlockCount>-216</BlockCount>
</SQLMap>
</Storage>
</Class>


<Class name="CDR.Order">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64719,59142.853435</TimeChanged>
<TimeCreated>63417,61131.309748</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
/*
Added by Louis@2014.09.09-End
*/
]]></Content>
</UDLText>

<Index name="ukOrderId">
<Properties>OrderId</Properties>
<Unique>1</Unique>
</Index>

<Index name="categoryIDX">
<Properties>OrderCategory</Properties>
</Index>

<Property name="OrderId">
<Description>
医嘱序号</Description>
<Type>%String</Type>
</Property>

<Property name="OrderUnits">
<Description>
医嘱单位</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterId">
<Description>
就诊ID</Description>
<Type>%String</Type>
</Property>

<Parameter name="ORDERITEMTYPE">
<Description>
参数：医嘱类型
Must be filled in on descendent class
This will determine the order type of the order item</Description>
</Parameter>

<Property name="PlacerId">
<Description><![CDATA[
下达系统ID
The ID assigned to the order when it was placed<br>
HL7:  ORC-2 : PlacerOrderNumber<br>
HSDB: User.HS.OEOrdItem(OEORILabEpisodeNo)<br>
Defaults to ExternalId (if present, else to FillerId)<br>
Required (except for Medications) - There must be a PlacerId, ExternalId or FillerId.<br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="FillerId">
<Description><![CDATA[
返回系统ID
The ID assigned to the order when it was filled<br>
HL7:  ORC-3 : FillerOrderNumber<br>
HSDB: User.HS.OEOrdItem(OEORIFillerNo)<br>
Defaults to the value of Result ExternalId (if present)<br>
Cannot contain an ampersand ("&") character.<br>.]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="OrderItemCode">
<Description><![CDATA[
医嘱编码
What was ordered<br>
SDATableName=Order, HSDBClass=User.HS.ARCItmMast<br>
HL7: OBR-4 : UniversalServiceIdentifier<br>
HSDB: User.HS.OEOrdItem(OEORIItmMastDR)<br>
HSDB: User.HS.OETextResult(TRName)<br>
Required, except for Medications.<br>
A Medication can have just a DrugProduct, a DrugProduct and an
  OrderItem, or just an OrderItem.<br>
User.HS.OETextResult is only updated for Text Results<br>
.OrderType<br>
HL7:  ORC-29 : OrderType<br>
HSDB: User.HS.OEOrdItem(OEORIInfoType)<br>
For a Laboratory order, the value must be "LAB" (HL7 input will take this value from ORC:29)<br>
For a Radiology order, the value must be "RAD" (HL7 input will take this value from ORC:29)<br>
For other orders, the value must be "OTH" (HL7 input will default this value for 
  any (non-MED, non-VXU) Orders where ORC:29 is not "RAD" or "LAB")<br>
Required for new Order Items.<br>
For HL7 input, OrderType is also used when determing whether a result is atomic or text.<br>
If OrderType=LAB and not all instances of OBX-2 are FT or TX, the result is atomic.  Otherwise it is text.<br>
.OrderCategory<br>
HL7:  OBR-24 : DiagnosticServSectID<br>
HSDB: User.HS.ARCItmMast(ARCIMItemCatDR)<br>
HSDB: User.HS.OEOrdItem(OEORIInfoSubType)<br>
.OrderCategory.OrderType<br>
HL7:  ORC-29 : OrderType<br>
HSDB: Not stored<br>
We need to duplicate this in the OrderCategory as it is required when we build
 that code table at the moment.<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="OrderItemDesc">
<Description>
医嘱名称\说明</Description>
<Type>%String</Type>
</Property>

<Property name="OrderCategory">
<Description><![CDATA[
医嘱大类
This is used when you want a specific Order Category in order to group items in the viewer.<br>
SDATableName=OrderCategory, HSDBClass=User.HS.OECOrderCategory + User.HS.ARCItemCat<br>
HL7:  OBR-24 : DiagnosticServSectID<br>
HSDB: User.HS.ARCItmMast(ARCIMItemCatDR)<br>
HSDB: User.HS.OEOrdItem(OEORIInfoSubType)<br>
When using this you will need to configure the Viewer to show these Orders and Results.<br>
An initial set of values can be found in the file HS-Default-OrderCategory, and the user
 can add other initial values in the file SITE-Default-OrderCategory, or use new ones
 in an input message]]></Description>
<Type>%String</Type>
</Property>

<Property name="OrderQuantity">
<Description><![CDATA[
医嘱数量
Number of items ordered<br>
HL7:  ORC-7.1 : QuantityTimingQuantity<br>
HL7:  TQ1-2   : Quantity<br>
HL7:  RXE-1.1 : QuantityTimingQuantity
HSDB: User.HS.OEOrdItem(OEORIQty)<br>
RXE-1.1 overrides ORC-7.1.<br>
TQ1-2 overrides RXE-1.1 and ORC-7.1.<br>]]></Description>
<Type>%String</Type>
</Property>

<Property name="OrderedBy">
<Description><![CDATA[
医嘱下达者
Who ordered it (CareProvider)<br>
SDATableName=CareProvider, HSDBClass=User.HS.CTCareProv<br>
HL7:  OBR-16 : OrderingProvider<br>
HL7:  ORC-12 : OrderingProvider<br>
HL7:  ORC-24 : OrderingProviderAddress<br>
HL7:  RXO-14 : OrderingProvidersDEANumber<br>
HL7:  RXE-13 : OrderingProvidersDEANumber<br>
HSDB: User.HS.OEOrdItem(OEORIDoctorDR)<br>
RXO-14 overrides OBR-16 and (ORC-12 + ORC-24)<br>
OBR-16 overrides (ORC-12 + ORC-24)<br>
RXE-13 overrides (ORC-12 + ORC-24)<br>
.Name.FamilyName<br>
HL7:  OBR-16.2.1 : FamilyNameSurname<br>
HL7:  ORC-12.2.1 : FamilyNameSurname<br>
HL7:  RXO-14.2.1 : FamilyNameSurname<br>
HL7:  RXE-13.2.1 : FamilyNameSurname<br>
.Name.GivenName<br>
HL7:  OBR-16.3 : GivenName<br>
HL7:  ORC-12.3 : GivenName<br>
HL7:  RXO-14.3 : GivenName<br>
HL7:  RXE-13.3 : GivenName<br>
.Name.MiddleName<br>
HL7:  OBR-16.4 : MiddleName<br>
HL7:  ORC-12.4 : MiddleName<br>
HL7:  RXO-14.4 : MiddleName<br>
HL7:  RXE-13.4 : MiddleName<br>
.Name.NamePrefix<br>
HL7:  OBR-16.6 : NamePrefix<br>
HL7:  ORC-12.6 : NamePrefix<br>
HL7:  RXO-14.6 : NamePrefix<br>
HL7:  RXE-13.6 : NamePrefix<br>
.Address.Street<br>
HL7:  ORC-24.1.1 : StreetAddressStreetorMailingAddress<br>
HL7:  ORC-24.2 : OtherDesignation<br>
Stored as StreetAddressStreetorMailingAddress[, OtherDesignation]<br>
.Address.City<br>
HL7:  ORC-24.3 : AddressCity<br>
.Address.State<br>
HL7:  ORC-24.4 : AddressStateorProvince<br>
HSDB: Not stored<br>
.Address.Zip<br>
HL7:  ORC-24.5 : AddressZiporPostalCode<br>
.Address.Country<br>
HL7:  ORC-24.6 : AddressCountry<br>
HSDB: Not stored<br>
.ContactInfo<br>
.CareProviderType<br>]]></Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="EnteringOrganization">
<Description><![CDATA[
输入机构
Entering Facility (Location)<br>
SDATableName=HealthCareFacility, HSDBClass=User.HS.CTLoc<br>
HL7:  ORC-13 : EnterersLocation<br>
HSDB: User.HS.OEOrdItem(OEORIOrdDeptDR)<br>
.Organization<br>
SDATableName=Organization, HSDBClass=User.HS.CTHospital<br>
HL7:  MSH-4 : SendingFacility<br>
HSDB: User.HS.CTLoc(CTLOCHospitalDR)<br>
If the Organization is not supplied for the Facility, the SendingFacility will be used.]]></Description>
<Type>%String</Type>
</Property>

<Property name="VerifiedBy">
<Description><![CDATA[
确认者
VerifiedBy (CareProvider)<br>
SDATableName=CareProvider, HSDBClass=User.HS.CTCareProv<br>
HL7:  ORC-11 : VerifiedBy<br> 
HSDB: User.HS.OEOrdItem(OEORIAuthoriseClinicianDR)<br>
HSDB: lab.HS.EPVisitTestSet(VISTSPathologistIDDR)<br>
VISTSPathologistIDDR is for Atomic LabResult only<br>
.Name.FamilyName<br>
HL7:  ORC-11.2.1 : FamilyNameSurname<br>
.Name.GivenName<br>
HL7:  ORC-11.3 : GivenName<br>
.Name.MiddleName<br>
HL7:  ORC-11.4 : MiddleName<br>
.Name.NamePrefix<br>
HL7:  ORC-11.6 : NamePrefix<br>
.Address<br>
.ContactInfo<br>
.CareProviderType<br>]]></Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="VerifyDateTime">
<Type>%TimeStamp</Type>
</Property>

<Property name="CallbackNumber">
<Description><![CDATA[
召回号码
Callback number (who to contact with questions, etc)<br>
HL7:  ORC-14 : CallBackPhoneNumber<br>
HSDB: User.HS.OEOrdItem(OEORINotify)]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="CallbackDateTime">
<Type>%TimeStamp</Type>
</Property>

<Property name="CallbackedBy">
<Type>CDR.Practitioner</Type>
</Property>

<Property name="StartDateTime">
<Description>
开始时间</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="EndDateTime">
<Description>
结束时间</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Specimen">
<Description>
样本</Description>
<Type>CDR.Specimen</Type>
</Property>

<Property name="ReassessmentTime">
<Description><![CDATA[
再评估时间- 时间戳格式
HSDB: User.HS.OEOrdItem(OEORIReassessmentDate) + User.HS.OEOrdItem(OEORIReassessmentTime)<br>
If the order is not final, this is the date/time when it<br>
 should be reviewed and perhaps finalized</Description>]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Frequency">
<Description><![CDATA[
执行频率
Frequency<br>
SDATableName=Frequency, HSDBClass=User.HS.PHCFreq<br>
HL7:  TQ1-3 : RepeatPattern<br>
HSDB: User.HS.OEOrdItem(OEORIPHFreqDR)<br>
How often (e.g. Code=QID, Desc=QID, Factor=4)<br>
QID is Latin, meaning 4x a day.  BID means 2x day, etc<br>
See also HS.SDA3.DosageStep.Frequency<br>
.Factor<br>
HL7:  TQ1-3.5 : PeriodQuantity]]></Description>
<Type>%String</Type>
</Property>

<Property name="Duration">
<Description><![CDATA[
执行间隔
Duration<br>
SDATableName=Duration, HSDBClass=User.HS.PHCDuration<br>
HL7:  ORC-7.3 : QuantityTimingDuration<br>
HL7:  TQ1-6   : ServiceDuration<br>
HL7:  RXE-1.3 : QuantityTimingDuration<br>
HSDB: User.HS.OEOrdItem(OEORIDuratDR)<br>
RXE-1.3 overrides ORC-7.3.<br>
TQ1-6 overrides RXE-1.3 and ORC-7.3.<br>
.Factor<br>
HL7:  TQ1-6   : ServiceDuration]]></Description>
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Property Status As %String(MAXLEN = 32000);

]]></Content>
</UDLText>

<Property name="Status">
<Description><![CDATA[
状态
The current status of the order<br>
HL7:  ORC-5 : OrderStatus<br>
HSDB: User.HS.OEOrdItem(OEORIItemStatDR)<br>
From HL7 to SDA - DC->D, CA->C, RP->R, HD->H, IP,SC->IP, CM->E, <other> unchanged<br>
On store to HSDB - Validate against User.HS.OEC_OrderStatus<br>
  and default to V (new orders with no results and status="" or invalid).<br>
  An order with results will default the status to Executed unless the<br>
  inbound (or existing if inbound="") status is Discontinued, Cancelled, Replaced or On Hold.<br>
On export from HSDB - unchanged<br>]]></Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Status

]]></Content>
</UDLText>

<Property name="Priority">
<Description><![CDATA[
医嘱优先级
The Priority of the Order<br>
SDATableName = Priority, HSDBClass=User.HS.OECPriority<br>
HL7:  ORC-7.6 : QuantityTimingPriority<br>
HL7:  TQ1-9   : Priority<br>
HL7:  RXE-1.6 : QuantityTimingPriority<br>
HSDB: User.HS.OEOrdItem(OEORIPriorityDR)<br>
Default "N"<br>
RXE-1.6 overrides ORC-7.6.<br>
TQ1-9 overrides RXE-1.6 and ORC-7.6.]]></Description>
<Type>%String</Type>
</Property>

<Property name="ConfidentialityCode">
<Description><![CDATA[
保密代码，例如VIP
Confidentiality code (e.g. VIP etc).<br>
SDATableName=Confidentiality, HSDBClass=User.HS.OECOverReasonNonConsent<br>
HL7:  ORC-28 : QuantityTimingPriority<br>
HSDB: User.HS.OEOrdItem(OEORINoConsentOverrideReasDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="Condition">
<Description><![CDATA[
执行条件。例如血压低于110是否才执行
Condition<br>
HL7:  ORC-7.7 : QuantityTimingCondition<br>
HL7:  TQ1-10  : Conditiontext<br>
HL7:  RXE-1.7 : QuantityTimingCondition<br>
HSDB: User.HS.OEOrdItem(OEORILtClinicalCondition)<br>
E.g. keep BP below 110<br>
RXE-1.7 overrides ORC-7.7.<br>
TQ1-10 overrides RXE-1.7 and ORC-7.7.]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="TextInstruction">
<Description><![CDATA[
医嘱指导
Text instructions/directions<br>
HL7:  ORC-7.8 : QuantityTimingText<br>
HL7:  TQ1-11  : Textinstruction<br>
HL7:  RXE-1.8 : QuantityTimingText<br>
HSDB: User.HS.OEOrdItem(OEORIDepProcNotes)<br>
We only use the first item in the list<br>
Not delimited<br>
E.g. After food, or if duration etc. isn't coded "Take 3 twice a day"<br>
Can be up to about 3.6Mb (long-string limit)<br>
No delimiters<br>
RXE-1.8 overrides ORC-7.8.<br>
TQ1-11 overrides RXE1.8 and ORC-7.8.<br>
See also HS.SDA3.DosageStep.TextInstruction]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="OrderGroup">
<Description><![CDATA[
医嘱分类
HSDB: User.HS.OEOrdItem(OEORIItemGroup)<br>
This is a way to group related Orders together,
 such as a Prescription chain]]></Description>
<Type>%String</Type>
</Property>

<Property name="Comments">
<Description><![CDATA[
说明
Order Comments and notes.<br>
HL7:  NTE-3 : Comment<br>
HSDB: User.HS.OEOrdItem(OEORIRemarks)<br>
We only use the first item in the list<br>
Can be up to about 3.6Mb (long-string limit)<br>
Not delimited]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="ConsultationDepartment">
<Description><![CDATA[
下达科室
Department or Facility that Consulted<br>
SDATableName=HealthCareFacility, HSDBClass=User.HS.CTLoc<br>
HSDB: User.HS.OEOrdItem(OEORIConsultDepDR)<br>
.Organization<br>
SDATableName=Organization, HSDBClass=User.HS.CTHospital<br>
HSDB: User.HS.CTLoc(CTLOCHospitalDR)<br>
If the Organization is not supplied for the Facility, the SendingFacility will be used.]]></Description>
<Type>%String</Type>
</Property>

<Property name="AuthorizationTime">
<Description><![CDATA[
确认时间- 时间戳格式
Date/Time the Order was Authorized<br>
HSDB: User.HS.OEOrdItem(OEORIAuthorisedDate) + User.HS.OEOrdItem(OEORIAuthorisedTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ReceivingLocation">
<Description><![CDATA[
接收医嘱的科室
Location or Facility receiving/performing the order.<br>
SDATableName=HealthCareFacility, HSDBClass=User.HS.CTLoc<br>
HSDB: User.HS.OEOrdItem(OEORIRecDepDR)<br>
.Organization<br>
SDATableName=Organization, HSDBClass=User.HS.CTHospital<br>
HSDB: User.HS.CTLoc(CTLOCHospitalDR)<br>
If the Organization is not supplied for the Facility, the SendingFacility will be used.]]></Description>
<Type>%String</Type>
</Property>

<Property name="VerifiedComments">
<Description><![CDATA[
验证说明
Verified Order Comments and notes.<br>
HSDB: User.HS.OEOrdItem(OEORIAuthComments)<br>
We only use the first item in the list<br>
Can be up to about 3.6Mb (long-string limit)<br>
Not delimited]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Payment">
<Type>CDR.Payment</Type>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>Orders</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Results">
<Description>
检验检查结果</Description>
<Type>CDR.Result</Type>
<Cardinality>many</Cardinality>
<Inverse>COrder</Inverse>
<Relationship>1</Relationship>
</Property>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..Encounter.Patient.Display_"的医嘱: "_..OrderItemDesc
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.OrderD</DataLocation>
<DefaultData>OrderDefaultData</DefaultData>
<IdLocation>^CDR.OrderD</IdLocation>
<IndexLocation>^CDR.OrderI</IndexLocation>
<StreamLocation>^CDR.OrderS</StreamLocation>
<Data name="OrderDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>OrderId</Value>
</Value>
<Value name="3">
<Value>OrderUnits</Value>
</Value>
<Value name="4">
<Value>EncounterId</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>CreationTime</Value>
</Value>
<Value name="8">
<Value>Creator</Value>
</Value>
<Value name="9">
<Value>OrderItemDesc</Value>
</Value>
<Value name="10">
<Value>OrderCategory</Value>
</Value>
<Value name="11">
<Value>OrderQuantity</Value>
</Value>
<Value name="12">
<Value>OrderedBy</Value>
</Value>
<Value name="13">
<Value>EnteringOrganization</Value>
</Value>
<Value name="14">
<Value>VerifiedBy</Value>
</Value>
<Value name="15">
<Value>CallbackNumber</Value>
</Value>
<Value name="16">
<Value>StartDateTime</Value>
</Value>
<Value name="17">
<Value>EndDateTime</Value>
</Value>
<Value name="18">
<Value>Specimen</Value>
</Value>
<Value name="19">
<Value>SpecimenCollectedTime</Value>
</Value>
<Value name="20">
<Value>SpecimenReceivedTime</Value>
</Value>
<Value name="21">
<Value>ReassessmentTime</Value>
</Value>
<Value name="22">
<Value>Frequency</Value>
</Value>
<Value name="23">
<Value>Duration</Value>
</Value>
<Value name="24">
<Value>Status</Value>
</Value>
<Value name="25">
<Value>Priority</Value>
</Value>
<Value name="26">
<Value>ConfidentialityCode</Value>
</Value>
<Value name="27">
<Value>Condition</Value>
</Value>
<Value name="28">
<Value>TextInstruction</Value>
</Value>
<Value name="29">
<Value>OrderGroup</Value>
</Value>
<Value name="30">
<Value>Comments</Value>
</Value>
<Value name="31">
<Value>ConsultationDepartment</Value>
</Value>
<Value name="32">
<Value>AuthorizationTime</Value>
</Value>
<Value name="33">
<Value>ReceivingLocation</Value>
</Value>
<Value name="34">
<Value>VerifiedComments</Value>
</Value>
<Value name="35">
<Value>Payment</Value>
</Value>
<Value name="36">
<Value>Encounter</Value>
</Value>
<Value name="37">
<Value>FillerId</Value>
</Value>
<Value name="38">
<Value>OrderItemCode</Value>
</Value>
<Value name="39">
<Value>PlacerId</Value>
</Value>
<Value name="40">
<Value>Version</Value>
</Value>
<Value name="41">
<Value>CallbackDateTime</Value>
</Value>
<Value name="42">
<Value>CallbackedBy</Value>
</Value>
<Value name="43">
<Value>VerifyDateTime</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Organization">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64713,45165.20402</TimeChanged>
<TimeCreated>63417,37694.995595</TimeCreated>

<Property name="identifier">
<Type>%String</Type>
</Property>

<Index name="ukOrganizationID">
<Properties>identifier</Properties>
<Unique>1</Unique>
</Index>

<Property name="OrganizationType">
<Description>
Kind of Organization, for example: http://hl7.org/fhir/organization-type</Description>
<Type>%String</Type>
</Property>

<Property name="Telecom">
<Type>%String</Type>
</Property>

<Property name="Name">
<Type>%String</Type>
</Property>

<Property name="address">
<Type>CDR.Address</Type>
</Property>

<Property name="contact">
<Description>
should be a complex with contact name, address, telecom, purpose</Description>
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.OrganizationD</DataLocation>
<DefaultData>OrganizationDefaultData</DefaultData>
<IdLocation>^CDR.OrganizationD</IdLocation>
<IndexLocation>^CDR.OrganizationI</IndexLocation>
<StreamLocation>^CDR.OrganizationS</StreamLocation>
<Data name="OrganizationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>identifier</Value>
</Value>
<Value name="3">
<Value>type</Value>
</Value>
<Value name="4">
<Value>telecom</Value>
</Value>
<Value name="5">
<Value>name</Value>
</Value>
<Value name="6">
<Value>address</Value>
</Value>
<Value name="7">
<Value>Version</Value>
</Value>
<Value name="8">
<Value>LastModified</Value>
</Value>
<Value name="9">
<Value>LastModifiedBy</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>contact</Value>
</Value>
<Value name="13">
<Value>OrganizationType</Value>
</Value>
<Value name="14">
<Value>Telecom</Value>
</Value>
<Value name="15">
<Value>Name</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.OtherOrder">
<Description>
例如心电检查，肺功能检查等等</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Order</Super>
<TimeChanged>64672,59555.761009</TimeChanged>
<TimeCreated>63418,52167.389606</TimeCreated>

<Parameter name="ORDERITEMTYPE">
<Default>Other</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
</Storage>
</Class>


<Class name="CDR.Patient">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64919,53145.048439</TimeChanged>
<TimeCreated>63417,37694.995595</TimeCreated>

<Property name="MPIID">
<Description>
城乡居民健康档案编号</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Index name="ukMPIID">
<Properties>MPIID</Properties>
<Unique>1</Unique>
</Index>

<Property name="HealthCardNumber">
<Description>
居民健康卡号</Description>
<Type>%String</Type>
</Property>

<Index name="ukHCN">
<Properties>HealthCardNumber</Properties>
<Unique>1</Unique>
</Index>

<Property name="PatientInsurances">
<Description>
患者保险信息</Description>
<Type>CDR.PatientInsurance</Type>
</Property>

<Property name="PatientNumber">
<Description>
患者PID</Description>
<Type>%String</Type>
</Property>

<Index name="ukPatientNumber">
<Properties>PatientNumber</Properties>
<Unique>1</Unique>
</Index>

<Property name="OutpatientNumber">
<Description>
患者门诊ID</Description>
<Type>%String</Type>
</Property>

<Property name="InpatientNumber">
<Description>
患者住院ID</Description>
<Type>%String</Type>
</Property>

<Property name="NationalIDNumber">
<Description>
患者身份证号码</Description>
<Type>%String</Type>
</Property>

<Property name="Name">
<Description>
姓名</Description>
<Type>%String</Type>
</Property>

<Property name="PrimaryLanguage">
<Description>
主要语言</Description>
<Type>%String</Type>
</Property>

<Property name="Religion">
<Description>
宗教</Description>
<Type>%String</Type>
</Property>

<Property name="MaritalStatus">
<Description>
婚姻状态</Description>
<Type>CDR.Code.MaritalStatus</Type>
</Property>

<Property name="Gender">
<Description>
性别</Description>
<Type>CDR.Code.Gender</Type>
</Property>

<Property name="EthnicGroup">
<Description>
民族</Description>
<Type>CDR.Code.EthnicGroup</Type>
</Property>

<Property name="BirthTime">
<Description>
出生日期</Description>
<Type>%Date</Type>
</Property>

<Property name="Age">
<Description>
年龄</Description>
<Type>%String</Type>
</Property>

<Property name="DeceasedDateTime">
<Description>
死亡时间-时间戳类型</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="IsDeceased">
<Description>
是否死亡</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="DeathReason">
<Description>
死亡原因</Description>
<Type>CDR.Code.DeathReason</Type>
</Property>

<Property name="DeathLocation">
<Description>
死亡地点</Description>
<Type>CDR.Code.DeathLocation</Type>
</Property>

<Property name="DeathDeclaredBy">
<Description>
死亡声明人</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="BloodABO">
<Description>
ABO血型代码1,2,3,4,5 display=A型,B型,O型,AB型,不详</Description>
<Type>%String</Type>
<Parameter name="VALUELIST" value=",1,2,3,4,5"/>
</Property>

<Property name="BloodRH">
<Description>
RH血型, 1 阴性</Description>
<Type>%String</Type>
</Property>

<Property name="Citizenship">
<Description>
国籍</Description>
<Type>%String</Type>
</Property>

<Property name="Address">
<Description>
住址</Description>
<Type>CDR.Address</Type>
</Property>

<Property name="Hukou">
<Description>
户口信息</Description>
<Type>CDR.Address</Type>
</Property>

<Property name="Jiguan">
<Description>
籍贯</Description>
<Type>CDR.Address</Type>
</Property>

<Property name="PhoneNumber">
<Description>
电话</Description>
<Type>%String</Type>
</Property>

<Property name="SupportContacts">
<Description>
联系人, 因为DT从V3里面拿东西出来有问题， 先把list去掉， 只用一个supportContact</Description>
<Type>CDR.SupportContact</Type>
<Collection>list</Collection>
</Property>

<Property name="Employer">
<Description>
工作单位</Description>
<Type>CDR.Organization</Type>
</Property>

<Property name="Occupation">
<Description>
职业</Description>
<Type>CDR.Code.Occupation</Type>
</Property>

<Property name="Active">
<Description>
是否激活</Description>
<Type>%Boolean</Type>
<InitialExpression>1</InitialExpression>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Property Age As %Integer [ Calculated, SqlComputeCode = { Set {Age}=##class(CDR.Tools.Tools).AgeFromTimes({BirthTime}, $S({DeceasedDateTime}="":$zdt($H,3),1:{DeceasedDateTime}))

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// }, SqlComputed, SqlComputeOnChange = BirthTime ];

]]></Content>
</UDLText>

<Property name="Encounters">
<Description>
就诊集</Description>
<Type>CDR.Encounter</Type>
<Cardinality>children</Cardinality>
<Inverse>Patient</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLPROJECTION" value="none"/>
</Property>

<Property name="Appointments">
<Description>
预约集</Description>
<Type>CDR.Appointment</Type>
<Cardinality>children</Cardinality>
<Inverse>Patient</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="SocialHistories">
<Description>
个人史集</Description>
<Type>CDR.SocialHistory</Type>
<Cardinality>many</Cardinality>
<Inverse>Patient</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Allergies">
<Description>
过敏集</Description>
<Type>CDR.Allergy</Type>
<Cardinality>many</Cardinality>
<Inverse>Patient</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="FamilyHistories">
<Description>
家族史集</Description>
<Type>CDR.FamilyHistory</Type>
<Cardinality>many</Cardinality>
<Inverse>Patient</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="IllnessHistories">
<Description>
既往史</Description>
<Type>CDR.IllnessHistory</Type>
<Collection>list</Collection>
</Property>

<Property name="BloodTransfusionHistory">
<Description>
输血史</Description>
<Type>%String</Type>
</Property>

<Property name="Immunizations">
<Description>
预防接种史</Description>
<Type>CDR.Immunization</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.PatientD</DataLocation>
<DefaultData>PatientDefaultData</DefaultData>
<IdLocation>^CDR.PatientD</IdLocation>
<IndexLocation>^CDR.PatientI</IndexLocation>
<StreamLocation>^CDR.PatientS</StreamLocation>
<Data name="PatientDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>MPIID</Value>
</Value>
<Value name="3">
<Value>HealthCardNumber</Value>
</Value>
<Value name="4">
<Value>PatientInsurances</Value>
</Value>
<Value name="5">
<Value>PatientNumber</Value>
</Value>
<Value name="6">
<Value>LastModified</Value>
</Value>
<Value name="7">
<Value>LastModifiedBy</Value>
</Value>
<Value name="8">
<Value>CreationTime</Value>
</Value>
<Value name="9">
<Value>Creator</Value>
</Value>
<Value name="10">
<Value>Name</Value>
</Value>
<Value name="11">
<Value>PrimaryLanguage</Value>
</Value>
<Value name="12">
<Value>Religion</Value>
</Value>
<Value name="13">
<Value>MaritalStatus</Value>
</Value>
<Value name="14">
<Value>Gender</Value>
</Value>
<Value name="15">
<Value>EthnicGroup</Value>
</Value>
<Value name="16">
<Value>BirthTime</Value>
</Value>
<Value name="17">
<Value>Age</Value>
</Value>
<Value name="18">
<Value>DeceasedDateTime</Value>
</Value>
<Value name="19">
<Value>IsDeceased</Value>
</Value>
<Value name="20">
<Value>DeathReason</Value>
</Value>
<Value name="21">
<Value>DeathLocation</Value>
</Value>
<Value name="22">
<Value>DeathDeclaredBy</Value>
</Value>
<Value name="23">
<Value>BloodABO</Value>
</Value>
<Value name="24">
<Value>BloodRH</Value>
</Value>
<Value name="25">
<Value>Citizenship</Value>
</Value>
<Value name="26">
<Value>Address</Value>
</Value>
<Value name="27">
<Value>Hukou</Value>
</Value>
<Value name="28">
<Value>Jiguan</Value>
</Value>
<Value name="29">
<Value>PhoneNumber</Value>
</Value>
<Value name="30">
<Value>SupportContacts</Value>
</Value>
<Value name="31">
<Value>Employer</Value>
</Value>
<Value name="32">
<Value>Occupation</Value>
</Value>
<Value name="33">
<Value>Active</Value>
</Value>
<Value name="34">
<Value>IllnessHistories</Value>
</Value>
<Value name="35">
<Value>BloodTransfusionHistory</Value>
</Value>
<Value name="36">
<Value>Immunizations</Value>
</Value>
<Value name="37">
<Value>InpatientNumber</Value>
</Value>
<Value name="38">
<Value>NationalIDNumber</Value>
</Value>
<Value name="39">
<Value>OutpatientNumber</Value>
</Value>
<Value name="40">
<Value>Version</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.PatientInsurance">
<Super>%SerialObject,CDR.Base</Super>
<TimeChanged>64919,52794.313597</TimeChanged>
<TimeCreated>64414,84609.730521</TimeCreated>

<Property name="InsuranceType">
<Description>
医疗保险类别代码</Description>
<Type>%String</Type>
</Property>

<Property name="InsuranceNumber">
<Description>
医疗保险号码</Description>
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<DefaultData>PatientInsuranceDefaultData</DefaultData>
<State>PatientInsuranceState</State>
<StreamLocation>^CDR.PatientInsuranceS</StreamLocation>
<Data name="PatientInsuranceDefaultData">
<Subscript>"PatientInsurance"</Subscript>
<Value name="1">
<Value>InsuranceType</Value>
</Value>
<Value name="2">
<Value>InsuranceNumber</Value>
</Value>
</Data>
<Data name="PatientInsuranceState">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>InsuranceType</Value>
</Value>
<Value name="2">
<Value>InsuranceNumber</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>CreationTime</Value>
</Value>
<Value name="7">
<Value>Creator</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Payment">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64500,34580.20422</TimeChanged>
<TimeCreated>63417,49340.19064</TimeCreated>

<Property name="InsuranceType">
<Description>
医疗保险类别</Description>
<Type>CDR.Code.InsuranceType</Type>
</Property>

<Property name="PaymentType">
<Description>
医疗付费类别</Description>
<Type>CDR.Code.PaymentType</Type>
</Property>

<Property name="BillCatagory">
<Description>
费用类别，门诊/住院</Description>
<Type>%String</Type>
</Property>

<Property name="TotalAmount">
<Description>
费用值</Description>
<Type>%Numeric</Type>
</Property>

<Property name="PayByPatient">
<Description>
个人承担费用值</Description>
<Type>%Numeric</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.PaymentD</DataLocation>
<DefaultData>PaymentDefaultData</DefaultData>
<IdLocation>^CDR.PaymentD</IdLocation>
<IndexLocation>^CDR.PaymentI</IndexLocation>
<StreamLocation>^CDR.PaymentS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="PaymentDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>CreationTime</Value>
</Value>
<Value name="7">
<Value>Creator</Value>
</Value>
<Value name="8">
<Value>%Process</Value>
</Value>
<Value name="9">
<Value>%LastError</Value>
</Value>
<Value name="10">
<Value>%LastFault</Value>
</Value>
<Value name="11">
<Value>Author</Value>
</Value>
<Value name="12">
<Value>InsuranceType</Value>
</Value>
<Value name="13">
<Value>PaymentType</Value>
</Value>
<Value name="14">
<Value>BillCatagory</Value>
</Value>
<Value name="15">
<Value>Bill</Value>
</Value>
<Value name="16">
<Value>PayByPatient</Value>
</Value>
<Value name="17">
<Value>TotalAmount</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.PhotoID">
<Description>
name: 居民身份证,居民户口簿,护照,军官证,驾驶证,港澳居民来往内地通行证,台湾居民来往内地通行证,其他法定有效证件
code: 01,02,03,04,05,06,07,99", </Description>
<Super>CDR.Base</Super>
<TimeChanged>64679,59064.957491</TimeChanged>
<TimeCreated>64414,83747.719305</TimeCreated>

<Property name="Type">
<Type>CDR.Code.PersonalIdentificationType</Type>
</Property>

<Property name="Number">
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DefaultData>PhotoIDDefaultData</DefaultData>
<Data name="PhotoIDDefaultData">
<Subscript>"PhotoID"</Subscript>
<Value name="1">
<Value>Type</Value>
</Value>
<Value name="2">
<Value>Number</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.PhysicalExam">
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64672,59536.299634</TimeChanged>
<TimeCreated>64672,48720.914239</TimeCreated>

<Property name="PhysExamTime">
<Description><![CDATA[
检查执行时间<br><br>]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="PhysExamObs">
<Description><![CDATA[
Code for observation<br><br>]]></Description>
<Type>CDR.Code.PhysicalExamItem</Type>
</Property>

<Property name="PhysExamObsValue">
<Description>
结果值</Description>
<Type>%String</Type>
</Property>

<Property name="NoteText">
<Description><![CDATA[
Length subject to the total streamlet size limit - 3,000,000<br><br>]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="EnteredBy">
<Description>
检查执行人</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="EnteredAt">
<Description>
检查执行机构</Description>
<Type>CDR.Organization</Type>
</Property>

<Property name="EnteredOn">
<Description>
结果录入</Description>
<Type>%TimeStamp</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.PhysicalExamD</DataLocation>
<DefaultData>PhysicalExamDefaultData</DefaultData>
<IdLocation>^CDR.PhysicalExamD</IdLocation>
<IndexLocation>^CDR.PhysicalExamI</IndexLocation>
<StreamLocation>^CDR.PhysicalExamS</StreamLocation>
<Data name="PhysicalExamDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>PhysExamTime</Value>
</Value>
<Value name="3">
<Value>PhysExamObs</Value>
</Value>
<Value name="4">
<Value>PhysExamObsValue</Value>
</Value>
<Value name="5">
<Value>NoteText</Value>
</Value>
<Value name="6">
<Value>EnteredBy</Value>
</Value>
<Value name="7">
<Value>EnteredAt</Value>
</Value>
<Value name="8">
<Value>EnteredOn</Value>
</Value>
<Value name="9">
<Value>LastModifiedBy</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>LastModified</Value>
</Value>
<Value name="13">
<Value>Version</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Practitioner">
<Description>
Practitioner covers all individuals who are engaged in the healthcare process and healthcare-related services as part of their formal responsibilities and this Resource is used for attribution of activities and responsibilities to these individuals. Practitioners include (but are not limited to):

physicians, dentists, pharmacists
physician assistants, nurses, scribes
midwives, dietitians, therapists, optometrists, paramedics
medical technicians, laboratory scientists, prosthetic technicians, radiographers
social workers, professional home carers, official volunteers
receptionists handling patient registration
IT personnel merging or unmerging patient records
Service animal (e.g., ward assigned dog capable of detecting cancer in patients)

FHIR resource link: http://build.fhir.org/practitioner.html
修改了Fhir的结构，把Practitioner和PractionerRole放在一起了，假设他们不能多点执业。</Description>
<Super>CDR.Base</Super>
<TimeChanged>64708,38240.217636</TimeChanged>
<TimeCreated>64623,1185.700122</TimeCreated>

<Property name="Identifier">
<Type>%String</Type>
</Property>

<Index name="ukPractitionerID">
<Properties>Identifier</Properties>
<Unique>1</Unique>
</Index>

<Property name="Name">
<Type>%String</Type>
</Property>

<Property name="Telecom">
<Type>%String</Type>
</Property>

<Property name="Gender">
<Type>CDR.Code.Gender</Type>
</Property>

<Property name="PractitionerRole">
<Type>%String</Type>
</Property>

<Property name="Organization">
<Type>CDR.Organization</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DefaultData>PractitionerDefaultData</DefaultData>
<Data name="PractitionerDefaultData">
<Subscript>"Practitioner"</Subscript>
<Value name="1">
<Value>identifier</Value>
</Value>
<Value name="2">
<Value>Name</Value>
</Value>
<Value name="3">
<Value>telecom</Value>
</Value>
<Value name="4">
<Value>gender</Value>
</Value>
<Value name="5">
<Value>PractitionerRole</Value>
</Value>
<Value name="6">
<Value>Organization</Value>
</Value>
<Value name="7">
<Value>Identifier</Value>
</Value>
<Value name="8">
<Value>Telecom</Value>
</Value>
<Value name="9">
<Value>Gender</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Procedure">
<Description>
手术和处置</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64911,39158.601049</TimeChanged>
<TimeCreated>63417,49620.0662</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
/*
Added by Louis@2014.09.09-End
*/
]]></Content>
</UDLText>

<Index name="ukOrderId">
<Properties>OrderId</Properties>
<Unique>1</Unique>
</Index>

<Property name="OrderId">
<Description>
医嘱ID</Description>
<Type>%String</Type>
</Property>

<Property name="EncounterId">
<Description>
就诊ID</Description>
<Type>%String</Type>
</Property>

<Property name="ProcedureCode">
<Description><![CDATA[
手术代码<br>
SDATableName=Procedure, HSDBClass=User.HS.ORCOperation<br>
HL7:  PR1-3 : ProcedureCode<br>
HL7:  PR1-4 : ProcedureDescription<br>
HSDB: User.HS.MRProcedures(PROCOperationDR)]]></Description>
<Type>CDR.Code.Procedure</Type>
</Property>

<Property name="ProcedureDesc">
<Description>
手术描述 - 手术代码表名称之外的描述</Description>
<Type>%String</Type>
</Property>

<Property name="Performer">
<Description><![CDATA[
手术医生
Clinician who performed procedure<br>
SDATableName=CareProvider, HSDBClass=User.HS.CTCareProv<br>
HL7:  PR1-11 : Surgeon<br>
HSDB: User.HS.MRProcedures(PROCCTCPDR)<br>
.Name.FamilyName<br>
HL7:  PR1-11.2.1 : FamilyNameSurname<br>
.Name.GivenName<br>
HL7:  PR1-11.3 : GivenName<br>
.Name.MiddleName<br>
HL7:  PR1-11.4 : MiddleName<br>
.Name.NamePrefix<br>
HL7:  PR1-11.6 : NamePrefix<br>
.Address<br>
.ContactInfo<br>
.CareProviderType<br>]]></Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="ProcedureTime">
<Description><![CDATA[
手术时间- 时间戳格式
Time of procedure<br>
HL7:  PR1-5 : ProcedureDateTime<br>
HSDB: User.HS.MRProcedures(PROCProcDate) + User.HS.MRProcedures(PROCTimeStart)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Anesthesia">
<Description>
麻醉方式</Description>
<Type>%String</Type>
</Property>

<Property name="Anesthesiologist">
<Description>
麻醉师</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="OTnurse">
<Description>
器械护士</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="Babysitter">
<Description>
护婴者</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="Recorder">
<Description>
记录人</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="bodySite">
<Description>
手术身体部位</Description>
<Type>CDR.Code.BodySite</Type>
<Collection>list</Collection>
</Property>

<Property name="outcome">
<Description>
手术结果</Description>
<Type>%String</Type>
</Property>

<Property name="Complication">
<Description>
手术并发症</Description>
<Type>CDR.Code.Diagnosis</Type>
<Collection>list</Collection>
</Property>

<Property name="Notes">
<Description>
手术记录</Description>
<Type>%String</Type>
</Property>

<Property name="Reports">
<Description>
手术报告</Description>
<Type>%String</Type>
<Collection>list</Collection>
</Property>

<Property name="Indication">
<Description>
手术原因</Description>
<Type>CDR.Code.Diagnosis</Type>
<Collection>list</Collection>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Relationship Encounter As CDR.Encounter [ Cardinality = one, Inverse = Procedures ];

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Index EncounterIndex On Encounter;

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Method DisplayGet() As %String [ ServerOnly = 1 ]

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// {

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// 	Quit ..Encounter.Patient.Display_"于: "_..ProcedureTime_"执行手术:"_..ProcedureDesc

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// }

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// 

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// Method GetMRN() As %String

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// {

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// 	Quit ..Encounter.GetMRN()

]]></Content>
</UDLText>

<UDLText name="T">
<Content><![CDATA[
// }

]]></Content>
</UDLText>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ProcedureD</DataLocation>
<DefaultData>ProcedureDefaultData</DefaultData>
<IdLocation>^CDR.ProcedureD</IdLocation>
<IndexLocation>^CDR.ProcedureI</IndexLocation>
<StreamLocation>^CDR.ProcedureS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="ProcedureDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>EncounterId</Value>
</Value>
<Value name="3">
<Value>ProcedureCode</Value>
</Value>
<Value name="4">
<Value>ProcedureDesc</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Anesthesia</Value>
</Value>
<Value name="8">
<Value>Anesthesiologist</Value>
</Value>
<Value name="9">
<Value>bodySite</Value>
</Value>
<Value name="10">
<Value>outcome</Value>
</Value>
<Value name="11">
<Value>Complication</Value>
</Value>
<Value name="12">
<Value>Notes</Value>
</Value>
<Value name="13">
<Value>Reports</Value>
</Value>
<Value name="14">
<Value>Indication</Value>
</Value>
<Value name="15">
<Value>ID</Value>
</Value>
<Value name="16">
<Value>Performer</Value>
</Value>
<Value name="17">
<Value>ProcedureTime</Value>
</Value>
<Value name="18">
<Value>Version</Value>
</Value>
<Value name="19">
<Value>Encounter</Value>
</Value>
<Value name="20">
<Value>OrderId</Value>
</Value>
<Value name="21">
<Value>CreationTime</Value>
</Value>
<Value name="22">
<Value>Creator</Value>
</Value>
<Value name="23">
<Value>%Process</Value>
</Value>
<Value name="24">
<Value>%LastError</Value>
</Value>
<Value name="25">
<Value>%LastFault</Value>
</Value>
<Value name="26">
<Value>Author</Value>
</Value>
<Value name="27">
<Value>QXnursy</Value>
</Value>
<Value name="28">
<Value>Babysitter</Value>
</Value>
<Value name="29">
<Value>Recorder</Value>
</Value>
<Value name="30">
<Value>OTnurse</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.RadOrder">
<CompileAfter>CDR.Base</CompileAfter>
<Super>CDR.Order</Super>
<TimeChanged>64326,78741.20838</TimeChanged>
<TimeCreated>63418,52167.389606</TimeCreated>

<Parameter name="ORDERITEMTYPE">
<Default>RAD</Default>
</Parameter>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
</Storage>
</Class>


<Class name="CDR.Recommendation">
<Description>
医学建议.与医嘱不同,它不一定要执行.例如疫苗注射建议
参考FHIR的ImmunizationRecommendation	</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.692961</TimeChanged>
<TimeCreated>64188,49741.517655</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.RecommendationD</DataLocation>
<DefaultData>RecommendationDefaultData</DefaultData>
<IdLocation>^CDR.RecommendationD</IdLocation>
<IndexLocation>^CDR.RecommendationI</IndexLocation>
<StreamLocation>^CDR.RecommendationS</StreamLocation>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="RecommendationDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>%Process</Value>
</Value>
<Value name="3">
<Value>%LastError</Value>
</Value>
<Value name="4">
<Value>%LastFault</Value>
</Value>
<Value name="5">
<Value>Version</Value>
</Value>
<Value name="6">
<Value>LastModified</Value>
</Value>
<Value name="7">
<Value>LastModifiedBy</Value>
</Value>
<Value name="8">
<Value>CreationTime</Value>
</Value>
<Value name="9">
<Value>Creator</Value>
</Value>
<Value name="10">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Regist">
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.7353</TimeChanged>
<TimeCreated>64125,71476.865629</TimeCreated>

<Property name="SBXH">
<Type>%String</Type>
</Property>

<Property name="BRID">
<Type>%String</Type>
</Property>

<Property name="RegistTime">
<Type>%TimeStamp</Type>
</Property>

<Property name="YSDM">
<Type>%String</Type>
</Property>

<Property name="KSDM">
<Type>%String</Type>
</Property>

<Index name="ukSBXH">
<Properties>SBXH</Properties>
<Unique>1</Unique>
</Index>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit "挂号 "_..SBXH
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.RegistD</DataLocation>
<DefaultData>RegistDefaultData</DefaultData>
<IdLocation>^CDR.RegistD</IdLocation>
<IndexLocation>^CDR.RegistI</IndexLocation>
<StreamLocation>^CDR.RegistS</StreamLocation>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="RegistDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>SBXH</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>BRID</Value>
</Value>
<Value name="7">
<Value>RegistTime</Value>
</Value>
<Value name="8">
<Value>YSDM</Value>
</Value>
<Value name="9">
<Value>KSDM</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>%Process</Value>
</Value>
<Value name="13">
<Value>%LastError</Value>
</Value>
<Value name="14">
<Value>%LastFault</Value>
</Value>
<Value name="15">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Resource">
<Description>
医疗相关的资源，如病床、科室、车位等</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.70852</TimeChanged>
<TimeCreated>63418,53707.295691</TimeCreated>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ResourceD</DataLocation>
<DefaultData>ResourceDefaultData</DefaultData>
<IdLocation>^CDR.ResourceD</IdLocation>
<IndexLocation>^CDR.ResourceI</IndexLocation>
<StreamLocation>^CDR.ResourceS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="ResourceDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Version</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>CreationTime</Value>
</Value>
<Value name="7">
<Value>Creator</Value>
</Value>
<Value name="8">
<Value>%Process</Value>
</Value>
<Value name="9">
<Value>%LastError</Value>
</Value>
<Value name="10">
<Value>%LastFault</Value>
</Value>
<Value name="11">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Result">
<Description>
检验结果</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64672,45984.436202</TimeChanged>
<TimeCreated>62726,39524.755827</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
// ++

]]></Content>
</UDLText>

<Property name="ResultID">
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// ++

]]></Content>
</UDLText>

<Index name="ukResultID">
<Properties>ResultID</Properties>
<Unique>1</Unique>
</Index>

<Property name="ResultType">
<Description>
结果类型，和以前CDR和SDA3的定义不一样，现在是CDA里面的检验结果代码</Description>
<Type>CDR.Code.ResultType</Type>
</Property>

<Property name="ResultItems">
<Description><![CDATA[
具体项目结果集
A list of the lab result's items, used for atomic results<br>
HL7:  ORU<br>
HSDB: see HS.SDA3.LabResultItem<br>
When the Message Type is "ORU_R01" and not all OBX-2 are "TX" or "FT"]]></Description>
<Type>CDR.Observation</Type>
<Cardinality>many</Cardinality>
<Inverse>Result</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="VerifiedBy">
<Description><![CDATA[
验证人
Care provider who verified result<br>
SDATableName=CareProvider, HSDBClass=User.HS.CTCareProv<br>
HL7:  ORC-11 : VerifiedBy<br>
HSDB: User.HS.OETextResult(TRCTCPDR)<br>
.Name<br>
.Address<br>
.ContactInfo<br>
.CareProviderType<br>
Text Results only]]></Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="EnteredBy">
<Description>
医嘱执行人</Description>
<Type>CDR.Practitioner</Type>
</Property>

<Property name="EnteredAt">
<Description>
结果出具机构</Description>
<Type>CDR.Organization</Type>
</Property>

<Property name="ResultTime">
<Description><![CDATA[
结果出具时间 - 时间戳格式
Time of result<br>
HL7:  OBR-22 : ResultsRptStatusChngDateTime<br>
HSDB: User.HS.OEOrdItem(OEORIHL7ResultDate) + User.HS.OEOrdItem(OEORIHL7ResultTime)<br>
HSDB: lab.HS.EPVisitTestSet(VISTSDateOfAuthorisation) + lab.HS.EPVisitTestSet(VISTSDateOfAuthorisation)<br>
HSDB: User.HS.OETextResult(TRDateUpdated) + User.HS.OETextResult(TRTimeUpdated)<br>
HSDB: User.HS.OETextResult(TRDateVerified) + User.HS.OETextResult(TRTimeVerified)<br>
VISTSDateOfAuthorisation is only for Atomic Lab Results, time in minutes<br>
TRDateUpdated, TRTimeUpdated, TRDateVerified, TRTimeVerified are all only for Text Results]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ResultStatus">
<Description><![CDATA[
结果状态
Result status<br>
HL7:  OBR-25 : ResultStatus<br>
HSDB: lab.HS.EPVisitTestSet(VISTSStatusResult)<br>
HSDB: User.HS.OETextResult(TRExternalResultStatus)<br>
HSDB: User.HS.OETextResult(TRResStatDR)<br>
HSDB: User.HS.OEOrdItem(OEORIResultFlag)<br>
Must be a value in OECOrderStatus [^OEC("RESST")]<br>
Values FIN(Final), COR(Corrected) and ENT(Entered) are also supported
  for backwards compatibility, but are deprecated (use F, C or R instead).<br>
VISTSStatusResult is for Atomic Lab Result only, and is converted C->K<br>
TRExternalResultStatus is for Text Result only<br>
TRResStatDR is for Text Result only, and is a reference to User.HS.OECResultStatus<br>
OEORIResultFlag is for Text and Atomic Result, and is converted C->C, other->A<br>
ResultStatus can also be changed to K as the result of a TestItemStatus with value K]]></Description>
<Type>%String</Type>
</Property>

<Property name="ResultText">
<Description><![CDATA[
结果文本
The actual text of the result.<br>
HL7:  OBX-5 : ObservationValue<br>
HL7:  NTE-3 : Comment<br>
HSDB: User.HS.OETextResultSection(SECText)<br>
CRLF-delimited<br>
The text can be up to about 3.6Mb (long-string limit).<br>
ResultText is used for text results only.<br>
NTE-3 values contribute to the ResultText in the same way that OBX-5
values do.  There is no distinction between the two.  Any NTE that is
interspersed among or following the OBXs will be parsed this way.]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="FileType">
<Description><![CDATA[
文件类型
The type of data e.g PDF, DOC, RTF, TXT<br>
HL7:  OBX-5.3 : ObservationValueEDDataSubType<br>
HSDB: websys.Document(docType)<br>
HSDB: User.HS.OETextResult(TRDocumentName)<br>
Used to determine the xxx for Stream<br>
For Text Result only]]></Description>
<Type>%String</Type>
</Property>

<Property name="DocumentName">
<Description><![CDATA[
文件名称
This is the name of the document.<br>
HL7:  TXA-16 : UniqueDocumentFileName<br>
HSDB: User.HS.OETextResult(TRDocumentName)<br>
It is used as the text of the link that the HS User will click on to view the document.<br>
Defaults to FileType (for Stream) or DocumentURL (for URL)<br>
For Text Result only]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="Stream">
<Description><![CDATA[
报告文件流
This property contains the (text) result, which can be lines of text (if FileType="TXT")<br>
 or binary data, e.g DOC, PDF, JPG<br>
HL7:  OBX-5 : ObservationValue<br>
HL7:  NTE-3 : Comments<br>
HSDB: websys.Document(docData)<br>
HSDB: User.HS.OETextResult(TRDocumentDR)<br>
The base64 encoded data is stored in websys.Documentxxx.docData (where xxx is type)<br>
For FileType="TXT" text is converted using ^SSHL7("HS-IN","TEXT-FORMAT-CODE","SDA",code)=to<br>
For Text Result only<br>
Note: Stream is NOT stored in websys.Document]]></Description>
<Type>%GlobalBinaryStream</Type>
<Transient>1</Transient>
</Property>

<Property name="DocumentURL">
<Description><![CDATA[
报告文件连接
The full URL where the document can be accessed<br>
HL7:  OBX-5.2 : OBXObservationValue<br>
HSDB: User.HS.OETextResult(TRDocumentURL)<br>
HSDB: User.HS.OETextResult(TRDocumentName)<br>
In cases where HS references the document as a URL.<br>
For Text Result only]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="32000"/>
</Property>

<Property name="DocumentNumber">
<Description><![CDATA[
报告数量
Used as an external reference Id.<br>
HL7:  TXA-12 : UniqueDocumentNumber<br>
HSDB: User.HS.OETextResult(TRDocumentExtId)<br>
For Text Results only]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="Comments">
<Description><![CDATA[
说明
HL7:  NTE-3 : Comment<br>
HSDB: User.HS.OEOrdItem(OEORITestSetComments)<br>
HSDB: User.HS.OETextResult(TRTestSetComments)<br>
From HL7, Comments (atomic result) is populated by the NTE segments following the OBR.<br>
Comments (text result) is direct-SDA only.<br>
For Text Result only, Perform character mapping as defined in ^SSHL7("HS-IN","TEXT-FORMAT-CODE","SDA",from)=to,
and perform delimiter mapping \F\->|, \S\->^, \R\->~ ,\E\->\ ,\T\->&, \H\->"", \N\->"",
then convert ^ to $c(16), \ to $c(17), | to $c(18).<br>
Comments can be up to about 3.6Mb (long-string limit)<br>
No delimiters]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="AuthorizationTime">
<Description><![CDATA[
确认时间 - 时间戳格式
Time result was authenticated/verified<br>
HL7:  OBR-22 : ResultsRptStatusChngDateTime<br>
HSDB: User.HS.OETextResult(TRDateVerified) + User.HS.OETextResult(TRTimeVerified)
For Text Results only]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="PerformedAt">
<Description><![CDATA[
执行机构/科室
PerformedAt / ProducersID<br>
SDATableName=Organization, HSDBClass=User.HS.CTHospital<br>
HL7:  OBX-15 : ProducersID<br>
HSDB: User.HS.OETextResult(TRPerformedAtDR)<br>
This can be used to specify the external organization that actually did the test.]]></Description>
<Type>%String</Type>
</Property>

<Property name="ResultInterpretation">
<Description><![CDATA[
结果解释
HL7:  OBX-8 : AbnormalFlags<br>
HSDB: User.HS.OEOrdItem(OEORIAbnormal)<br>
For a text result (all instances of OBX-2 = TX or FT), this is set to "A" for "Abnormal"<br>
if any of the OBX Abnormal Flags (OBX-8) = "A".  Any other values of OBX-8 are ignored.<br>
This property is not used in a LabResult with atomic results.]]></Description>
<Type>%String</Type>
</Property>

<Property name="FromTime">
<Description>
开始时间 - 时间戳格式
start of time range.
If used on a class, it is documented in the "superclass" comments</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ToTime">
<Description>
结束时间- 时间戳格式
End of time range
If used on a class, it is documented in the "superclass" comments</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ExternalId">
<Description><![CDATA[
外部ID
Identifier used by systems outside HealthShare.<br>
Case sensitive.]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<Property name="EncounterNumber">
<Description><![CDATA[
就诊号
EncounterNumber - used to find the (or create a new) Encounter<br>
HL7:  PV1-19 : VisitNumber<br>
HSDB: User.HS.PAAdm(PAADMADMNo)<br>
Defaults to ExternalId, then to (MRN + Current DateTime)
Required on Encounter class.  Not used on Patient class.  Optional on other classes.]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
</Property>

<UDLText name="T">
<Content><![CDATA[/*QP added for demo purpose*/
]]></Content>
</UDLText>

<Property name="PatientId">
<Type>%String</Type>
</Property>

<Property name="Specimen">
<Description>
得出结果的样本</Description>
<Type>CDR.Specimen</Type>
</Property>

<Property name="COrder">
<Type>CDR.Order</Type>
<Cardinality>one</Cardinality>
<Inverse>Results</Inverse>
<Relationship>1</Relationship>
</Property>

<Index name="COrderIndex">
<Properties>COrder</Properties>
</Index>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..COrder.Display_"的结果是: "_..ResultText
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..COrder.GetMRN()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.ResultD</DataLocation>
<DefaultData>ResultDefaultData</DefaultData>
<IdLocation>^CDR.ResultD</IdLocation>
<IndexLocation>^CDR.ResultI</IndexLocation>
<StreamLocation>^CDR.ResultS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="ResultDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>VerifiedBy</Value>
</Value>
<Value name="4">
<Value>LastModified</Value>
</Value>
<Value name="5">
<Value>LastModifiedBy</Value>
</Value>
<Value name="6">
<Value>ResultText</Value>
</Value>
<Value name="7">
<Value>FileType</Value>
</Value>
<Value name="8">
<Value>DocumentName</Value>
</Value>
<Value name="9">
<Value>DocumentURL</Value>
</Value>
<Value name="10">
<Value>DocumentNumber</Value>
</Value>
<Value name="11">
<Value>Comments</Value>
</Value>
<Value name="12">
<Value>AuthorizationTime</Value>
</Value>
<Value name="13">
<Value>PerformedAt</Value>
</Value>
<Value name="14">
<Value>ResultInterpretation</Value>
</Value>
<Value name="15">
<Value>FromTime</Value>
</Value>
<Value name="16">
<Value>ToTime</Value>
</Value>
<Value name="17">
<Value>ExternalId</Value>
</Value>
<Value name="18">
<Value>EncounterNumber</Value>
</Value>
<Value name="19">
<Value>PatientId</Value>
</Value>
<Value name="20">
<Value>Specimen</Value>
</Value>
<Value name="21">
<Value>LabOrder</Value>
</Value>
<Value name="22">
<Value>ResultStatus</Value>
</Value>
<Value name="23">
<Value>ResultTime</Value>
</Value>
<Value name="24">
<Value>ResultType</Value>
</Value>
<Value name="25">
<Value>Version</Value>
</Value>
<Value name="26">
<Value>CreationTime</Value>
</Value>
<Value name="27">
<Value>Creator</Value>
</Value>
<Value name="28">
<Value>ResultID</Value>
</Value>
<Value name="29">
<Value>COrder</Value>
</Value>
<Value name="30">
<Value>%Process</Value>
</Value>
<Value name="31">
<Value>%LastError</Value>
</Value>
<Value name="32">
<Value>%LastFault</Value>
</Value>
<Value name="33">
<Value>Author</Value>
</Value>
<Value name="34">
<Value>EnteredBy</Value>
</Value>
<Value name="35">
<Value>EnteredAt</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.RiskAssessment.Prediction">
<Description>
风险评估预测</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.932139</TimeChanged>
<TimeCreated>63419,64703.999223</TimeCreated>

<Property name="Outcome">
<Description>
Possible outcome for the subject</Description>
<Type>%String</Type>
</Property>

<Property name="Probility">
<Description><![CDATA[
Likelihood of specified outcome. RiskAssessmentProbability (Example)Must be <= 100low and high must be percentages, if present]]></Description>
<Type>%Float</Type>
</Property>

<Property name="Timeframe">
<Type>%TimeStamp</Type>
</Property>

<Property name="Rationale">
<Description>
Explanation of prediction</Description>
<Type>%String</Type>
</Property>

<Property name="RiskAssessment">
<Type>CDR.RiskAssessment</Type>
<Cardinality>parent</Cardinality>
<Inverse>Predictions</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("Predictions")</DataLocation>
<DefaultData>PredictionDefaultData</DefaultData>
<IdLocation>^CDR.RiskAssessmentC("Predictions")</IdLocation>
<IndexLocation>^CDR.RiskAssessment.PredictionI</IndexLocation>
<StreamLocation>^CDR.RiskAssessment.PredictionS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="PredictionDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Probility</Value>
</Value>
<Value name="4">
<Value>Timeframe</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Outcome</Value>
</Value>
<Value name="8">
<Value>Rationale</Value>
</Value>
<Value name="9">
<Value>Version</Value>
</Value>
<Value name="10">
<Value>CreationTime</Value>
</Value>
<Value name="11">
<Value>Creator</Value>
</Value>
<Value name="12">
<Value>%Process</Value>
</Value>
<Value name="13">
<Value>%LastError</Value>
</Value>
<Value name="14">
<Value>%LastFault</Value>
</Value>
<Value name="15">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.RiskAssessment">
<Description>
风险评估</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.790252</TimeChanged>
<TimeCreated>63419,63982.199415</TimeCreated>

<Property name="Date">
<Description>
风险评估日期
When was assessment made?</Description>
<Type>%Date</Type>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>RiskAssessments</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="Mitigation">
<Description>
如何降低风险
How to reduce risk</Description>
<Type>%String</Type>
</Property>

<Property name="Performer">
<Description>
风险评估人
Who did assessment?</Description>
<Type>%String</Type>
</Property>

<Property name="Method">
<Description>
评估机制/方法
Evaluation mechanism</Description>
<Type>%String</Type>
</Property>

<Property name="Condition">
<Description>
是否要基于condition做风险评估？是否可以基于其它，例如院感危险因素
Condition assessed</Description>
<Type>CDR.Condition</Type>
</Property>

<Property name="Predictions">
<Type>CDR.RiskAssessment.Prediction</Type>
<Cardinality>children</Cardinality>
<Inverse>RiskAssessment</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.RiskAssessmentD</DataLocation>
<DefaultData>RiskAssessmentDefaultData</DefaultData>
<IdLocation>^CDR.RiskAssessmentD</IdLocation>
<IndexLocation>^CDR.RiskAssessmentI</IndexLocation>
<StreamLocation>^CDR.RiskAssessmentS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="RiskAssessmentDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Date</Value>
</Value>
<Value name="3">
<Value>Encounter</Value>
</Value>
<Value name="4">
<Value>Version</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Method</Value>
</Value>
<Value name="8">
<Value>Condition</Value>
</Value>
<Value name="9">
<Value>ID</Value>
</Value>
<Value name="10">
<Value>Mitigation</Value>
</Value>
<Value name="11">
<Value>Performer</Value>
</Value>
<Value name="12">
<Value>CreationTime</Value>
</Value>
<Value name="13">
<Value>Creator</Value>
</Value>
<Value name="14">
<Value>%Process</Value>
</Value>
<Value name="15">
<Value>%LastError</Value>
</Value>
<Value name="16">
<Value>%LastFault</Value>
</Value>
<Value name="17">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.SocialHistory">
<Description>
社会史</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.782609</TimeChanged>
<TimeCreated>63427,36736.931056</TimeCreated>

<Property name="FromTime">
<Description><![CDATA[
开始时间
Beginning of period covered<br>
HSDB: User.HS.PASocHist(SCHOnsetDate)<br>
SCHOnsetDate is date only]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ToTime">
<Description><![CDATA[
结束时间
End of period covered<br>
HSDB: User.HS.PASocHist(SCHDate) + User.HS.PASocHist(SCHTime)]]></Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="SocialHabitCategory">
<Description><![CDATA[
社会史大类
Social habit category<br>
HSAA only]]></Description>
<Type>%String</Type>
</Property>

<Property name="SocialHabit">
<Description><![CDATA[
社会史
Social habit code<br>
SDATableName=SocialHabit, HSDBClass=User.HS.MRCHabits<br>
HSDB: User.HS.PASocHist(SCHHabitsDR)
HITSP/C80 2.2.2.4]]></Description>
<Type>%String</Type>
</Property>

<Property name="SocialHabitQty">
<Description><![CDATA[
社会史数量
Quantity associated with social habit<br>
SDATableName=SocialHabitQty, HSDBClass=User.HS.MRCHabitsQuantity<br>
HSDB: User.HS.PASocHist(SCHHabitsQtyDR)]]></Description>
<Type>%String</Type>
</Property>

<Property name="SocialHabitComments">
<Description><![CDATA[
社会史说明
HSDB: User.HS.PASocHist(SCHDesc)<br>
Comments can be up to about 3.6Mb (long-string limit)<br>
Not delimited<br>
First line only]]></Description>
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<UDLText name="T">
<Content><![CDATA[
/*
/// HSDB: User.HS.PASocHist(SCHInActive)<br>
/// I=Inactive, any other value=Active
Property Status As %String;
*/
]]></Content>
</UDLText>

<Property name="Status">
<Description>
社会史状态</Description>
<Type>%String</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// a negative POPORDER skips the setting of this property

]]></Content>
</UDLText>

<Property name="Patient">
<Type>CDR.Patient</Type>
<Cardinality>one</Cardinality>
<Inverse>SocialHistories</Inverse>
<Relationship>1</Relationship>
</Property>

<Index name="PatientIndex">
<Properties>Patient</Properties>
</Index>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Patient.MPIID
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.SocialHistoryD</DataLocation>
<DefaultData>SocialHistoryDefaultData</DefaultData>
<IdLocation>^CDR.SocialHistoryD</IdLocation>
<IndexLocation>^CDR.SocialHistoryI</IndexLocation>
<StreamLocation>^CDR.SocialHistoryS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="SocialHistoryDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>FromTime</Value>
</Value>
<Value name="3">
<Value>ToTime</Value>
</Value>
<Value name="4">
<Value>SocialHabitCategory</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>SocialHabitComments</Value>
</Value>
<Value name="8">
<Value>Status</Value>
</Value>
<Value name="9">
<Value>Patient</Value>
</Value>
<Value name="10">
<Value>ID</Value>
</Value>
<Value name="11">
<Value>SocialHabit</Value>
</Value>
<Value name="12">
<Value>SocialHabitQty</Value>
</Value>
<Value name="13">
<Value>Version</Value>
</Value>
<Value name="14">
<Value>CreationTime</Value>
</Value>
<Value name="15">
<Value>Creator</Value>
</Value>
<Value name="16">
<Value>%Process</Value>
</Value>
<Value name="17">
<Value>%LastError</Value>
</Value>
<Value name="18">
<Value>%LastFault</Value>
</Value>
<Value name="19">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Specimen.Collection">
<Description>
样本采集类</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.838043</TimeChanged>
<TimeCreated>63418,37356.864006</TimeCreated>

<Property name="Collector">
<Description>
Person who collected the specimen.</Description>
<Type>%String</Type>
</Property>

<Property name="Comment">
<Description>
To communicate any details or issues encountered during the specimen collection procedure.</Description>
<Type>%String</Type>
</Property>

<Property name="CollectedDateTime">
<Type>%TimeStamp</Type>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Property collectedPeriod As FHIR.Period(XMLNAME = "collectedPeriod");

]]></Content>
</UDLText>

<Property name="Quantity">
<Description>
The quantity of specimen collected; for instance the volume of a blood sample, or the physical measurement of an anatomic pathology sample.</Description>
<Type>%Numeric</Type>
</Property>

<Property name="Method">
<Description>
A coded value specifying the technique that is used to perform the procedure.</Description>
<Type>%String</Type>
</Property>

<Property name="SourceSite">
<Description>
Anatomical location from which the specimen should be collected (if subject is a patient). This element is not used for environmental specimens.</Description>
<Type>CDR.Code.BodySite</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.Specimen.CollectionD</DataLocation>
<DefaultData>CollectionDefaultData</DefaultData>
<IdLocation>^CDR.Specimen.CollectionD</IdLocation>
<IndexLocation>^CDR.Specimen.CollectionI</IndexLocation>
<StreamLocation>^CDR.Specimen.CollectionS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="CollectionDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Collector</Value>
</Value>
<Value name="3">
<Value>Comment</Value>
</Value>
<Value name="4">
<Value>CollectedDateTime</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Method</Value>
</Value>
<Value name="8">
<Value>SourceSite</Value>
</Value>
<Value name="9">
<Value>ID</Value>
</Value>
<Value name="10">
<Value>Quantity</Value>
</Value>
<Value name="11">
<Value>Version</Value>
</Value>
<Value name="12">
<Value>CreationTime</Value>
</Value>
<Value name="13">
<Value>Creator</Value>
</Value>
<Value name="14">
<Value>%Process</Value>
</Value>
<Value name="15">
<Value>%LastError</Value>
</Value>
<Value name="16">
<Value>%LastFault</Value>
</Value>
<Value name="17">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Specimen.Container">
<Description>
样本容器类</Description>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64457,52898.929044</TimeChanged>
<TimeCreated>63418,43515.637339</TimeCreated>

<Property name="Identifier">
<Description>
Id for container. There may be multiple; a manufacturer's bar code, lab assigned identifier, etc. The container ID may differ from the specimen id in some circumstances.</Description>
<Type>%String</Type>
</Property>

<Property name="Description">
<Description>
Textual description of the container.</Description>
<Type>%String</Type>
<Parameter name="XMLNAME" value="description"/>
</Property>

<Property name="Type">
<Description>
The type of container associated with the specimen (e.g. slide, aliquot, etc).</Description>
<Type>%String</Type>
</Property>

<Property name="Capacity">
<Description>
The capacity (volume or other measure) the container may contain.</Description>
<Type>%Numeric</Type>
</Property>

<Property name="SpecimenQuantity">
<Description>
The quantity of specimen in the container; may be volume, dimensions, or other appropriate measurements, depending on the specimen type.</Description>
<Type>%Numeric</Type>
</Property>

<Property name="Specimen">
<Type>CDR.Specimen</Type>
<Cardinality>parent</Cardinality>
<Inverse>Containers</Inverse>
<Relationship>1</Relationship>
</Property>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>{%%PARENT}("Containers")</DataLocation>
<DefaultData>ContainerDefaultData</DefaultData>
<IdLocation>^CDR.SpecimenC("Containers")</IdLocation>
<IndexLocation>^CDR.Specimen.ContainerI</IndexLocation>
<StreamLocation>^CDR.Specimen.ContainerS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="ContainerDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Description</Value>
</Value>
<Value name="4">
<Value>Type</Value>
</Value>
<Value name="5">
<Value>Capacity</Value>
</Value>
<Value name="6">
<Value>LastModifiedBy</Value>
</Value>
<Value name="7">
<Value>Identifier</Value>
</Value>
<Value name="8">
<Value>LastModified</Value>
</Value>
<Value name="9">
<Value>SpecimenQuantity</Value>
</Value>
<Value name="10">
<Value>Version</Value>
</Value>
<Value name="11">
<Value>CreationTime</Value>
</Value>
<Value name="12">
<Value>Creator</Value>
</Value>
<Value name="13">
<Value>%Process</Value>
</Value>
<Value name="14">
<Value>%LastError</Value>
</Value>
<Value name="15">
<Value>%LastFault</Value>
</Value>
<Value name="16">
<Value>Author</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Specimen">
<Description>
样本</Description>
<CompileAfter>CDR.Base</CompileAfter>
<Super>%Persistent,CDR.Base</Super>
<TimeChanged>64672,44962.190512</TimeChanged>
<TimeCreated>63418,37045.637012</TimeCreated>

<Property name="Identifier">
<Description>
样本标签号码
outside Id for specimen.</Description>
<Type>%String</Type>
<Collection>list</Collection>
</Property>

<Property name="Type">
<Description>
样本类型: 血液、体液
Kind of material that forms the specimen. QP:like full blood, Saliva, Serum...</Description>
<Type>%String</Type>
</Property>

<Property name="Subject">
<Description>
样本采自谁,可能不是患者本人
Where the specimen came from. This may be the patient(s) or from the environment or a device.</Description>
<Type>%String</Type>
</Property>

<Property name="ReceivedTime">
<Description>
接收样本的时间 - 时间戳格式
Time when specimen was received for processing or testing.</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="FromTime">
<Description>
Start of the time range over which the sample was collected, as opposed to the time the sample collection device was recovered. </Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="ToTime">
<Description>
End of the time range over which the sample was collected</Description>
<Type>%TimeStamp</Type>
</Property>

<Property name="Collection">
<Description>
样本采集信息
Details concerning the specimen collection.</Description>
<Type>CDR.Specimen.Collection</Type>
<Required>1</Required>
</Property>

<UDLText name="T">
<Content><![CDATA[
// Relationship treatment As FHIR.Specimen.Treatment(XMLNAME = "treatment", XMLPROJECTION = "ELEMENT") [ Cardinality = many, Inverse = Specimen2 ];

]]></Content>
</UDLText>

<Property name="Containers">
<Description>
Details concerning treatment and processing steps for the specimen.
The container holding the specimen.  The recursive nature of containers; i.e. blood in tube in tray in rack is not addressed here.</Description>
<Type>CDR.Specimen.Container</Type>
<Cardinality>children</Cardinality>
<Inverse>Specimen</Inverse>
<Relationship>1</Relationship>
</Property>

<Property name="Encounter">
<Type>CDR.Encounter</Type>
<Cardinality>one</Cardinality>
<Inverse>Specimens</Inverse>
<Relationship>1</Relationship>
<Parameter name="XMLREFERENCE" value="ID"/>
</Property>

<Index name="EncounterIndex">
<Properties>Encounter</Properties>
</Index>

<Property name="Status">
<Type>%String</Type>
</Property>

<Method name="DisplayGet">
<ReturnType>%String</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ..Encounter.Patient.Display_"采集样本"_..Type
]]></Implementation>
</Method>

<Method name="GetMRN">
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ..Encounter.MPIID
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^CDR.SpecimenD</DataLocation>
<DefaultData>SpecimenDefaultData</DefaultData>
<IdLocation>^CDR.SpecimenD</IdLocation>
<IndexLocation>^CDR.SpecimenI</IndexLocation>
<StreamLocation>^CDR.SpecimenS</StreamLocation>
<ExtentSize>100000</ExtentSize>
<Data name="%ResponseHandlers">
<Attribute>%ResponseHandlers</Attribute>
<Structure>subnode</Structure>
<Subscript>"%ResponseHandlers"</Subscript>
</Data>
<Data name="SpecimenDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>ID</Value>
</Value>
<Value name="3">
<Value>Type</Value>
</Value>
<Value name="4">
<Value>Subject</Value>
</Value>
<Value name="5">
<Value>LastModified</Value>
</Value>
<Value name="6">
<Value>Collection</Value>
</Value>
<Value name="7">
<Value>Encounter</Value>
</Value>
<Value name="8">
<Value>Identifier</Value>
</Value>
<Value name="9">
<Value>LastModifiedBy</Value>
</Value>
<Value name="10">
<Value>ReceivedTime</Value>
</Value>
<Value name="11">
<Value>Version</Value>
</Value>
<Value name="12">
<Value>CreationTime</Value>
</Value>
<Value name="13">
<Value>Creator</Value>
</Value>
<Value name="14">
<Value>%Process</Value>
</Value>
<Value name="15">
<Value>%LastError</Value>
</Value>
<Value name="16">
<Value>%LastFault</Value>
</Value>
<Value name="17">
<Value>Author</Value>
</Value>
<Value name="18">
<Value>Status</Value>
</Value>
<Value name="19">
<Value>FromTime</Value>
</Value>
<Value name="20">
<Value>ToTime</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.SupportContact">
<Super>%SerialObject,CDR.Base</Super>
<TimeChanged>64919,52856.257694</TimeChanged>
<TimeCreated>64456,63666.708709</TimeCreated>

<Property name="Name">
<Type>%String</Type>
</Property>

<Property name="PhoneNumber">
<Type>%String</Type>
</Property>

<Property name="Address">
<Type>CDR.Address</Type>
</Property>

<Property name="PrimaryContact">
<Type>%Boolean</Type>
</Property>

<Property name="Gender">
<Type>%String</Type>
</Property>

<Property name="PrimaryLanguage">
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Library.CacheSerialState</Type>
<State>SupportContactState</State>
<StreamLocation>^CDR.SupportContactS</StreamLocation>
<Data name="SupportContactState">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>Name</Value>
</Value>
<Value name="2">
<Value>PhoneNumber</Value>
</Value>
<Value name="3">
<Value>Address</Value>
</Value>
<Value name="4">
<Value>PrimaryContact</Value>
</Value>
<Value name="5">
<Value>Gender</Value>
</Value>
<Value name="6">
<Value>PrimaryLanguage</Value>
</Value>
<Value name="7">
<Value>LastModified</Value>
</Value>
<Value name="8">
<Value>LastModifiedBy</Value>
</Value>
<Value name="9">
<Value>CreationTime</Value>
</Value>
<Value name="10">
<Value>Creator</Value>
</Value>
<Value name="11">
<Value>Version</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="CDR.Tools.BITool">
<Description>
不知道什么东西，原来的名字是CDR.BI.Tools</Description>
<Super>%RegisteredObject</Super>
<TimeChanged>64679,62129.302842</TimeChanged>
<TimeCreated>63439,43241.191789</TimeCreated>

<Method name="GetVisitAge">
<ClassMethod>1</ClassMethod>
<FormalSpec>DOB:%Date,AdmitDate:%Date</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[	Quit (AdmitDate-DOB)\365.25
]]></Implementation>
</Method>

<Method name="GetEncounterCount">
<Description>
得到患者就诊数</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pPatiendId,pClass</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[
	Set tCount=0
	if pClass
	{
		&sql(select count(*) into :tCount from CDR.Encounter where patient=:pPatiendId and class=:pClass)
	}
	else
	{
		&sql(select count(*) into :tCount from CDR.Encounter where patient=:pPatiendId)
	}
	Quit tCount
]]></Implementation>
</Method>

<Method name="GetEncounterDiagnoses">
<ClassMethod>1</ClassMethod>
<FormalSpec>ID:%String</FormalSpec>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
    Set Diagnoses=##class(CDR.Encounter).%OpenId(ID,0).Diagnoses
    If (Diagnoses.Count()=0) {Quit $LISTFROMSTRING("")}
    Set list=""
    For i=1:1:Diagnoses.Count() 
    {
        Set $LI(list,i)=Diagnoses.GetAt(i).DiagnosisDesc
    }
    Quit list
]]></Implementation>
</Method>

<Method name="GetEncounterProcedures">
<ClassMethod>1</ClassMethod>
<FormalSpec>ID:%String</FormalSpec>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
    Set Procedures=##class(CDR.Encounter).%OpenId(ID,0).Procedures
    If (Procedures.Count()=0) {Quit $LISTFROMSTRING("")}
    Set list=""
    For i=1:1:Procedures.Count() 
    {
        Set $LI(list,i)=Procedures.GetAt(i).ProcedureDesc
    }
    Quit list
]]></Implementation>
</Method>

<Method name="GetProcedureBobySites">
<ClassMethod>1</ClassMethod>
<FormalSpec>ID:%String</FormalSpec>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
	Set BodySites=##class(CDR.Procedure).%OpenId(ID,0).BodySites
    If (BodySites.Count()=0) {Quit $LISTFROMSTRING("")}
    Set list=""
    For i=1:1:BodySites.Count() 
    {
        Set $LI(list,i)=BodySites.GetAt(i).Name
    }
    Quit list
]]></Implementation>
</Method>

<Method name="GetProcedureComplications">
<ClassMethod>1</ClassMethod>
<FormalSpec>ID:%String</FormalSpec>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
	Set Complications=##class(CDR.Procedure).%OpenId(ID,0).Complications
    If (Complications.Count()=0) {Quit $LISTFROMSTRING("")}
    Set list=""
    For i=1:1:Complications.Count() 
    {
        Set $LI(list,i)=Complications.GetAt(i).CName
    }
    Quit list
]]></Implementation>
</Method>

<Method name="GetProcedureIndications">
<ClassMethod>1</ClassMethod>
<FormalSpec>ID:%String</FormalSpec>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
	Set Indications=##class(CDR.Procedure).%OpenId(ID,0).Indications
    If (Indications.Count()=0) {Quit $LISTFROMSTRING("")}
    Set list=""
    For i=1:1:Indications.Count() 
    {
        Set $LI(list,i)=Indications.GetAt(i).CName
    }
    Quit list
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Tools.DataGenerator">
<Description>
测试生成数据时的过程数据, 可能有些指令已经不能执行
测试生成的object包括：Patient, Encount, Organization, order, Diagnosis, medication....</Description>
<Super>%RegisteredObject</Super>
<TimeChanged>64949,52587.346107</TimeChanged>
<TimeCreated>64713,44132.225779</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
// Patient has been already created: ID=1; InpatientID=I1000; OutpatientId=O1000; PatientNumber=1000;

]]></Content>
</UDLText>

<Method name="Medication">
<ClassMethod>1</ClassMethod>
</Method>

<Method name="Patient">
<Description>
生成CDR.Patient记录</Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
  	set p=##class(CDR.Patient).%OpenId("1")
	set p.MaritalStatus=##class(CDR.Code.MaritalStatus).%OpenId(2)
	set p.Gender=##class(CDR.Code.Gender).%OpenId(3)
	set p.Occupation=##class(CDR.Code.Occupation).%OpenId(4)
	do p.%Save()
	set s=##class(CDR.SocialHistory).%OpenId(1)
	set s.SocialHabitComments=" Smoking 20 cigs/day for many years多年每天抽烟20支。Alcohol: 24 units per week饮酒：每周24个单位."
	do s.%Save()
	set h=##class(CDR.IllnessHistory).%OpenId(4)
	set h.NoteText="患者既往有高血压病史10余年，痛风，输尿管结石多年，患者有长期门诊口服降压药。）（既往“高血压病”病史近5年，血压最高可达180/110mmHg，平素口服“依那普利片”降压，血压控制在150/80mmHg左右；"
	do h.%Save()
		set h=##class(CDR.IllnessHistory).%OpenId(5)
		set h.NoteText="1982年:阑尾切除手术 ，完全恢复，无随访"
		do h.%Save()
		set h=##class(CDR.IllnessHistory).%OpenId(6)
		set h.NoteText="已婚已育，儿女均体健"
		do h.%Save()
		set h=##class(CDR.IllnessHistory).%OpenId(7)
		set h.NoteText="初潮年龄X岁，月经周期X天，经期X天"
		do h.%Save()
		set f=##class(CDR.FamilyHistory).%New()
		set f.NoteText="父亲53岁死于“心脏病”. 母亲于76岁去世。"
		do f.%Save()
]]></Implementation>
</Method>

<Method name="encounter">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set e=##class(CDR.Encounter).%New()
	set e.AdmissionLocation="内分泌科"
	set e.AdmissionLocationNo=51
	set e.AdmissionType=##class(CDR.Code.AdmissionType).%OpenId(1)
	set e.Class="门诊"
	set e.Status="完成"
#;	set e.PatientId=1000
#;	set e.PatientNo="O1000"
	set e.EncounterNumber="OP98168"

	//set e.AdmittingClinician=##class(CDR.Practitioner).%OpenId(48)
#;	set e.AttendingClinicians=##class(CDR.Practitioner).%OpenId(49)
#;	set e.AccountNumber="DL3355814398"
	
	set e.HealthCareFacility=##class(CDR.Organization).%OpenId(10)
	set e.AdmissionTime=##class(%TimeStamp).DisplayToLogical("2017-12-06 14:00:00")
	set p=##class(CDR.Patient).%OpenId(1)
	set e.Patient=p
	do e.%Save()
	do p.Encounters.Insert(e)
	do p.%Save()
	q 1
]]></Implementation>
</Method>

<Method name="Document">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	set d=##class(CDR.Document).%New()
	set e=##class(CDR.Encounter).%OpenId("1||4")
	set d.Encounter=e
	do e.Documents.Insert(d)
]]></Implementation>
</Method>

<Method name="Order">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set o=##class(CDR.LabOrder).%New()
	set o.PlacerId="HbA1c103180464013"
	set o.FillerId="HbA1c103180464013"
	set o.OrderId="HbA1c103180464013"
	set o.OrderedBy=##class(CDR.Practitioner).%OpenId(49)
	set o.OrderItemCode="BS036"
	set o.OrderItemDesc="HbA1c"
	set o.StartDateTime=##class(%TimeStamp).DisplayToLogical("2017-03-08  08:09:00.001")
	set o.EnteringOrganization=##class(CDR.Organization).%OpenId(9)
	//set o.Specimen="blood"
	set o.EncounterId="2082803"
	set o.Status="V"
	
	set e=##class(CDR.Encounter).%OpenId("1||4")
	set o.Encounter=e
	do o.%Save()
	do e.Orders.Insert(o)
	do e.%Save()
	
	q 1
]]></Implementation>
</Method>

<Method name="obs">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set obs=##class(CDR.Observation).%New()
	set obs.ObsId="HbA1c103180464013"
	set obs.ObservationCode="HbA1c"
	set obs.ObservationDesc="Hemoglobin A1c"
	set obs.ResultType="NM"
	set obs.Value="8.1"
	set r=##class(CDR.Observation.ReferenceRange).%New()
	set r.High=7
	set r.Low=3
	set obs.ReferenceRange=r
	do obs.%Save()
	set res=##class(CDR.Result).%New()
	set res.ResultID="HbA1c103180464013"
	set obs.Result=res
	do obs.%Save()
	do res.ResultItems.Insert(obs)

	set res.COrder=o
		do res.%Save()

	do o.Results.Insert(res)
	do o.%Save()
	q 1
]]></Implementation>
</Method>

<Method name="createOrganization">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	set o=##class(CDR.Organization).%New()
	set o.Name="xx老年病医院"
	set o.identifier="h003"
	set o.OrganizationType="公立二级"
	set o.Telecom="022-48928391"
	do o.%Save()
]]></Implementation>
</Method>

<Method name="createPractitioner">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	s p=##class(CDR.Practitioner).%New()
	set p.Name="赵大明"
	set p.Identifier="H001"
	set p.PractitionerRole="处方审核药剂师"
	do p.%Save()
	kill p
	
	s p=##class(CDR.Practitioner).%New()
	set p.Name="张国清"
	set p.Identifier="H002"
	set p.PractitionerRole="处方调配药剂师"
	do p.%Save()
	kill p
	s p=##class(CDR.Practitioner).%New()
	set p.Name="苑广睿"
	set p.Identifier="H003"
	set p.PractitionerRole="处方核对药剂师"
	do p.%Save()
	kill p
	s p=##class(CDR.Practitioner).%New()
	set p.Name="温 娟"
	set p.Identifier="H004"
	set p.PractitionerRole="处方发药药剂师"
	do p.%Save()
	kill p
	s p=##class(CDR.Practitioner).%New()
	set p.Name="张医生"
	set p.Identifier="Dr007"
	set p.PractitionerRole="医生"
	do p.%Save()
	kill p
	s p=##class(CDR.Practitioner).%New()
	set p.Name="王医生"
	set p.Identifier="Dr011"
	set p.PractitionerRole="住院医生"
	do p.%Save()
	kill p
	q 1
]]></Implementation>
</Method>

<Method name="createDiag">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
   	set d=##class(CDR.Diagnosis).%New()
	set d.DiagnosingClinician=##class(CDR.Practitioner).%OpenId(48)
	set d.DiagnosisId="1234"
	set d.DiagnosisCode=##class(CDR.Code.Diagnosis).%OpenId(4943)
	set d.Outcome=##class(CDR.Code.DiagnosisStatusCode).%OpenId(1)
	set d.DiagnosisType="初步诊断"
	set d.IsPrimary=1
	set d.EncounterId=4000
	set e=##class(CDR.Encounter).%OpenId("1||4")
	set d.Encounter=e
	set d.DiagnosisDesc="糖尿病初期"
	set d.Status="活动"
	do d.%Save()
	do e.Diagnoses.Insert(d)
	set stc=e.%Save()
	q stc
]]></Implementation>
</Method>

<Method name="payment">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	set payment=##class(CDR.Payment).%New()
 	set payment.InsuranceType=##class(CDR.Code.InsuranceType).%OpenId(1)
	 set payment.PaymentType=##class(CDR.Code.PaymentType).%OpenId(1)
	set payment.BillCatagory="门诊"
	set payment.TotalAmount=2347
	set payment.PayByPatient=924
	set e=##class(CDR.Encounter).%OpenId("1||2")
	set e.EncounterBill=payment
]]></Implementation>
</Method>

<Method name="createDiag2">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
   	set d=##class(CDR.Diagnosis).%New()
	set d.DiagnosingClinician=##class(CDR.Practitioner).%OpenId(47)
	set d.DiagnosisId="Diag002"
	set d.DiagnosisCode=##class(CDR.Code.Diagnosis).%OpenId(22)
	set d.Outcome=##class(CDR.Code.DiagnosisStatusCode).%OpenId(2)
	set d.DiagnosisType="初步诊断"
	set d.IsPrimary=1
	set d.EncounterId=3000
	set e=##class(CDR.Encounter).%OpenId("1||1")
	set d.Encounter=e
	set d.DiagnosisDesc="护士不认为患者的病情已痊愈."
	set d.Status="活动"
	do d.%Save()
	do e.Diagnoses.Insert(d)
	do e.%Save()
	q 1
]]></Implementation>
</Method>

<Method name="createMedication">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set m=##class(CDR.Medication).%New()
	
	set m.EncounterId=3000
	set m.OrderId="med001"
	set m.PlacerId="HOS100319001"
	set m.FillerId="HOS100319001"
	set m.Status="V"
	set m.Route=##class(CDR.Code.Route).%OpenId(1)
	set m.prescription="xx101"
	set m.DrugProduct=##class(CDR.Code.Medication).%OpenId(3)
	set m.EnteringOrganization=##class(CDR.Organization).%OpenId(2)
	set m.DoseUoM=20
	set m.Frequency="QID"
	set m.DosageForm="片剂"
	set m.OrderedBy=##class(CDR.Practitioner).%OpenId(48)
	set m.Duration="8天"
	set m.TextInstruction="饭前服用"
	set m.DoseQuantity="50"
	
	set e=##class(CDR.Encounter).%OpenId("1||1")
	set m.Encounter=e
	do m.%Save()
	do e.Orders.Insert(m)
	do e.%Save()
	q 1
]]></Implementation>
</Method>

<Method name="CreateMedicationDispense">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
  set md=##class(CDR.Medication.Dispense).%New()
	set md.PrepareBy=##class(CDR.Practitioner).%OpenId()
	set md.Auditor=##class(CDR.Practitioner).%OpenId()
	set md.Reviewer=##class(CDR.Practitioner).%OpenId()
	set md.Dispenser=##class(CDR.Practitioner).%OpenId()
	set m=##class(CDR.Medication).%OpenId(1)
	set md.Medication=m
	do md.%Save()
	do m.Dispenses.Insert(md)
	do m.%Save()
	q 1
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Tools.RuleFunction">
<Description>
added by QP. </Description>
<Super>Ens.Rule.FunctionSet</Super>
<TimeChanged>64126,61847.883492</TimeChanged>
<TimeCreated>63425,35439.323611</TimeCreated>

<Method name="ListExist">
<Description><![CDATA[
to evaluate list/relationship members including criteria
input parameter - pList: is the relationship or listofoject property
input parameter - pCondition: is the logic expression, for example: "(..Dept.Code=102)&&(..Dept.Name=""test"")"
and the property of children/many relationship or listofobject should be start with ".."]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pList,pCondition:%String</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Set ret=0
	Set key=""
	Do 
	{
		set tempObj=pList.GetNext(.key)
		Q:(key="")
		;s ret=ret_","_$ZOBJPROPERTY(tempObj,PropName).Name
		Set pCondition = ..replace(pCondition,"..","tempObj.")
		set command = "(tempObj,x)  Set x=("_pCondition_")"
		X (command, tempObj,.x)
		if (x=1) {set ret=1  Q}
	} 
	while key'=""
	
	Q ret
]]></Implementation>
</Method>

<Method name="ListNotExist">
<Description><![CDATA[
to evaluate list/relationship members excluding criteria
input parameter - pList: is the relationship or listofoject property
input parameter - pCondition: is the logic expression, for example: "(..Dept.Code=102)&&(..Dept.Name=""test"")"
and the property of children/many relationship or listofobject should be start with ".."]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pList,pCondition:%String</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Set ret=0
	Set key=""
	Do 
	{
		set tempObj=pList.GetNext(.key)
		Q:(key="")
		;s ret=ret_","_$ZOBJPROPERTY(tempObj,PropName).Name
		Set pCondition = ..replace(pCondition,"..","tempObj.")
		set command = "(tempObj,x)  Set x=("_pCondition_")"
		X (command, tempObj,.x)
		if (x=0) {set ret=1  Q}
		else {set ret=0}
	} 
	while key'=""
	
	Q ret
]]></Implementation>
</Method>

<Method name="ListAllExist">
<Description><![CDATA[
to evaluate all list/relationship members including criteria
input parameter - pList: is the relationship or listofoject property
input parameter - pCondition: is the logic expression, for example: "(..Dept.Code=102)&&(..Dept.Name=""test"")"
and the property of children/many relationship or listofobject should be start with ".."]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pList,pCondition:%String</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Set ret=0
	Set key=""
	Do 
	{
		set tempObj=pList.GetNext(.key)
		Q:(key="")
		;s ret=ret_","_$ZOBJPROPERTY(tempObj,PropName).Name
		Set pCondition = ..replace(pCondition,"..","tempObj.")
		set command = "(tempObj,x)  Set x=("_pCondition_")"
		X (command, tempObj,.x)
		if (x=0) {set ret=0  Q}
		else {set ret=1}
	} 
	while key'=""
	
	Q ret
]]></Implementation>
</Method>

<Method name="ListAllNotExist">
<Description><![CDATA[
to evaluate all list/relationship members excluding criteria
input parameter - pList: is the relationship or listofoject property
input parameter - pCondition: is the logic expression, for example: "(..Dept.Code=102)&&(..Dept.Name=""test"")"
and the property of children/many relationship or listofobject should be start with ".."]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pList,pCondition:%String</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Set ret=0
	Set key=""
	Do 
	{
		set tempObj=pList.GetNext(.key)
		Q:(key="")
		;s ret=ret_","_$ZOBJPROPERTY(tempObj,PropName).Name
		Set pCondition = ..replace(pCondition,"..","tempObj.")
		set command = "(tempObj,x)  Set x=("_pCondition_")"
		X (command, tempObj,.x)
		if (x=1) {set ret=0  Q}
		else {set ret=1}
	} 
	while key'=""
	
	Q ret
]]></Implementation>
</Method>

<Method name="DT2STR">
<Description>
STR format is YYYYMMDDhhmmss</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pDate:%Date</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Q:(pDate="") ""
	s tStr=$ZD(pDate,8)
	Quit tStr
]]></Implementation>
</Method>

<Method name="TS2STR">
<Description>
STR format is YYYYMMDDhhmmss</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pTimeStamp:%TimeStamp</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Q:(pTimeStamp="") ""
	#define replace(%1,%2,%3) $listtostring($listfromstring(%1,%2),%3)
	s tTimeStamp=$ZDTH(pTimeStamp,3)
	s tDate=$ZD(tTimeStamp,8)
	s tTime=$$$replace($ZT($P(tTimeStamp,",",2)),":","")
	Quit tDate_tTime
]]></Implementation>
</Method>

<Method name="STR2TS">
<Description>
STR format is YYYYMMDDhhmmss</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pStr:%String</FormalSpec>
<ReturnType>%TimeStamp</ReturnType>
<Implementation><![CDATA[
	Q:(pStr="") ""
	Set tStrDate=$E(pStr,1,8),tStrTime=$E(pStr,9,14)
	Set tDate=$ZD($ZDH(tStrDate,8),3)
	if tStrTime=""
	{
		Set tTime="00:00:00"
	}
	else
	{
		Set tTime=$E(tStrTime,1,2)_":"_$Case($E(tStrTime,3,4),"":"00",:$E(tStrTime,3,4))_":"_$Case($E(tStrTime,5,6),"":"00",:$E(tStrTime,5,6))
	}
	Quit tDate_" "_tTime
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Tools.Tools">
<Super>%RegisteredObject</Super>
<TimeChanged>64415,518.076419</TimeChanged>
<TimeCreated>63428,40790.824975</TimeCreated>

<Method name="ClearData">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Do ##class(CDR.Patient).%KillExtent()
	Do ##class(CDR.Appointment).%KillExtent()
	Do ##class(CDR.Encounter).%KillExtent()
	Do ##class(CDR.Procedure).%KillExtent()
	Do ##class(CDR.Diagnosis).%KillExtent()
	Do ##class(CDR.Document).%KillExtent()
	Do ##class(CDR.Order).%KillExtent()
	Do ##class(CDR.Result).%KillExtent()
	Do ##class(CDR.Observation).%KillExtent()
	Do ##class(CDR.Allergy).%KillExtent()
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="ClearAdapterData">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.AppointmentEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.IPDiagnosisEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.OPDiagnosisEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.IPDocumentEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.OPDocumentEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.IPEncounterEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.OPEncounterEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.IPLabOrderEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.OPLabOrderEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.ObservationEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.IPOrderEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.OPOrderEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.ProcedureEvent")
	Do ##class(EnsLib.SQL.InboundAdapter).ClearAllAppData("HIP.BS.ResultEvent")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="Base64RemoveReturnChar">
<Description>
将文本base64加密，并清除0d0a</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pStr:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	#define replace(%1,%2,%3) $listtostring($listfromstring(%1,%2),%3)
	Q $$$replace($SYSTEM.Encryption.Base64Encode(pStr),$c(13)_$c(10),"")
]]></Implementation>
</Method>

<Method name="ReturnChar2HL7">
<Description>
将文本的回车符换为"\.br\",以允许保存到HL7 V2 的OBX字段</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pString</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	#define replace(%1,%2,%3) $listtostring($listfromstring(%1,%2),%3)
	q $$$replace(pString,$c(13)_$c(10),"\.br\")
]]></Implementation>
</Method>

<Method name="TS2STR">
<Description>
%TimeStamp to YYYY-MM-DD HH24:mm:ss string</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pTS:%TimeStamp</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
		Quit:(pTS="") ""
		Quit $ZDT(pTS,3)
]]></Implementation>
</Method>

<Method name="STR2TS">
<Description>
YYYY-MM-DD HH24:mm:ss string to %TimeStamp</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pStr:%String</FormalSpec>
<ReturnType>%TimeStamp</ReturnType>
<Implementation><![CDATA[
		Quit:(pStr="") ""
		Quit $ZDTH(pStr,3)
]]></Implementation>
</Method>

<Method name="DT2STR">
<Description>
%Date to YYYY-MM-DD HH24:mm:ss string</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pDT:%Date</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
		Quit:(pDT="") ""
		Quit $ZDT(pDT,3)
]]></Implementation>
</Method>

<Method name="STR2DT">
<Description>
YYYY-MM-DD HH24:mm:ss string to %Date</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pStr:%String</FormalSpec>
<ReturnType>%Date</ReturnType>
<Implementation><![CDATA[
		Quit:(pStr="") ""
		Quit $ZDTH(pStr,3)
]]></Implementation>
</Method>

<Method name="TS2HL7STR">
<Description>
STR format is YYYYMMDDhhmmss</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pTimeStamp:%TimeStamp</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Q:(pTimeStamp="") ""
	#define replace(%1,%2,%3) $listtostring($listfromstring(%1,%2),%3)
	s tTimeStamp=$ZDTH(pTimeStamp,3)
	s tDate=$ZD(tTimeStamp,8)
	s tTime=$$$replace($ZT($P(tTimeStamp,",",2)),":","")
	Quit tDate_tTime
]]></Implementation>
</Method>

<Method name="HL7STR2TS">
<Description>
STR format is YYYYMMDDhhmmss</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pStr:%String</FormalSpec>
<ReturnType>%TimeStamp</ReturnType>
<Implementation><![CDATA[
	Q:(pStr="") ""
	Set tStrDate=$E(pStr,1,8),tStrTime=$E(pStr,9,14)
	Set tDate=$ZD($ZDH(tStrDate,8),3)
	if tStrTime=""
	{
		Set tTime="00:00:00"
	}
	else
	{
		Set tTime=$E(tStrTime,1,2)_":"_$Case($E(tStrTime,3,4),"":"00",:$E(tStrTime,3,4))_":"_$Case($E(tStrTime,5,6),"":"00",:$E(tStrTime,5,6))
	}
	Quit tDate_" "_tTime
]]></Implementation>
</Method>

<Method name="Polling">
<Description>
已作废,由CDS.BS.Polling实现
遍历^CDROBJLog, 应启动后台进程处理，而且只有一个进程</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	For 
	{
		/// Set ^PauseCDRProcess to pause the process for bebug 
		Q:($G(^PauseCDRProcess)=1)
		Set tProcessed = $G(^CDROBJLogProcessed)
		Set tNext = $O(^CDROBJLog(tProcessed))
		While tNext '=""
		{
			Set ^CDROBJLogProcessed=tNext
			
			Set tOBJId = $G(^CDROBJLog(tNext)), tTS = $O(^CDROBJLog(tNext,""))
			Set tInsert = $G(^CDROBJLog(tNext,tTS)), tOBJClass = $lg(tOBJId,2)
			// check if there is a rule for this class
			If $D(^RuleList(tOBJClass))=1
			{
				Try
				{
					Set tRuleName = $O(^RuleList(tOBJClass),""), tOBJ = ##class(CDR.Base).%Open(tOBJId)
					Set tStatus = ##class(Ens.Rule.Definition).EvaluateRules(tRuleName,1,tOBJ,,.tRet,.tReason)
					Set ^CDROBJLogProcessed(tNext,tOBJId)= $lb($ZTIMESTAMP,"Rule:"_tRuleName_" return: "_tRet_" because of "_tReason)
					// if there is something, publish it
					If (tRet'="")
					{
						
						Set tSC = ##class(Ens.Director).CreateBusinessService("CDS.BS.AlertPublish",.tService)
						If ($IsObject(tService)) 
						{
							Set tMsg = ##class(CDS.MSG.reqPublishAlert).%New()
							Set tMsg.Topic = tRet
							Set tMsg.Content = tOBJ.Display_". "_tReason
							Set tMsg.MRN = tOBJ.GetMRN()
							Set tMsg.OID = tOBJId
						  	Set tSC = tService.ProcessInput(tMsg,.output)
						}
					}
				}
				Catch exp
				{
					Set ^CDROBJLogProcessed(tNext,tOBJId)= $lb($ZTIMESTAMP,"Error:"_exp.Name)
				}
			}
			Else
			{
				Set ^CDROBJLogProcessed(tNext,tOBJId)= $lb($ZTIMESTAMP,"No Rule for this class")
			}
			
			k ^CDROBJLog(tNext)
			Set tNext = $O(^CDROBJLog(tNext))
		}
	}
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="UpdateRuleList">
<Description>
更新Rule列表-global: ^RuleList(ContextClass,RuleClass)=RuleDescription，后台进程(或由Rule类编译时调用)</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	k ^||RuleList
	Set rs=##class(%Library.ResultSet).%New("%ClassDefinition.SubclassOf")
    Do rs.Execute("Ens.Rule.Definition")
    For 
    { 
        Quit:'rs.Next()
        Set tRuleName = rs.Get("Name")
        if ##class(%Library.CompiledClass).%ExistsId(tRuleName)
        {
	        Set tRuleClass = ##class(%Dictionary.CompiledClass).%OpenId(tRuleName)
	        Set tXDataName = tRuleName_"||RuleDefinition"
	        Set tXData =##class(%Dictionary.CompiledXData).%OpenId(tXDataName).Data
	        Set tSC=##class(%XML.XPATH.Document).CreateFromStream(tXData,.tDocument)
			Quit:$$$ISERR(tSC) 
			//在ruleDefinition路径下,查询context属性
			Set tSC=tDocument.EvaluateExpression("/ruleDefinition","@context",.tResults)   
			Quit:$$$ISERR(tSC)
			if (tResults.Count()>0)
			{
				Set tContext = tResults.GetAt(1).Value
				// only record context class which name starts with "CDR"
				Set:($E(tContext,1,3)="CDR") ^||RuleList(tContext,tRuleName)=tRuleClass.Description
			}
        }
	}
	K ^RuleList
	Merge ^RuleList = ^||RuleList
	Quit $System.Status.OK()
]]></Implementation>
</Method>

<Method name="CreateRule">
<Description>
创建rule(未完成)</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tClassDefinition = ##class(Ens.Rule.Model.ruleDefinition).%New()
	Set:pAlias'="" tClassDefinition.alias = pAlias
	Set tClassDefinition.assistClass = pAssistClass
	Set tClassDefinition.context = pContextClass
	Set tClassDefinition.description = pDescription

	Set tRuleSet = ##class(Ens.Rule.Model.ruleSet).%New()
	Do tClassDefinition.ruleSets.Insert(tRuleSet)
	
	Set tSC = tClassDefinition.SaveAs(pClassName)
]]></Implementation>
</Method>

<Method name="GetBusinessHostClassName">
<Description>
通过Business Host 名称找到其对应的类名</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pBusinessHost:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Quit:(pBusinessHost="") ""
	
	//get production name
	Set tProductionName=""
	Do ##class(Ens.Director).ParseConfigItemName(pBusinessHost, .tProductionName)
	
	//get host class name
	Set tClassName=""
	&sql(select ClassName into :tClassName from Ens_Config.Item where Name=:pBusinessHost and Production=:tProductionName)
	Quit tClassName
	
	Q ""
]]></Implementation>
</Method>

<Method name="AgeFromTimes">
<Description>
创建一个用户自定义任务列表，其中标记任务计划执行时间，用户可以选择多久之前应该提示（加入WF）.
Compute an age in years from a start and end time in YYYY-MM-DD format
start - start time
end - end time</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>start:%String,end:%String</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[
	//w !, "start: |", start, "| end: ", end 

	// no start or no end -> no age
	if ((start = "") || (end = "")) {
		quit "" }
		
	set stime = $zdth(start, 3)
	set etime = $zdth(end, 3)
		
	// error case
	if (etime < stime) {
		set status = $$$ERROR($$$GeneralError, "End '"_end_"' must be after start '"_start_"'")
		do $system.OBJ.DisplayError(status)
		w ! // need to do this to display the error for some reason
		quit "" }
	
	// first, get the age from a year differential
	set startyear = $P(start, "-")
	set endyear = $P(end, "-")
	set age = endyear - startyear
	
	// now check their months and, if necessary, day of month to see
	// if the age needs adjusting down because the end is earlier in 
	// the year than the start
	set startmonth = $P(start, "-", 2)
	set endmonth = $P(end, "-", 2)
	if (endmonth < startmonth) {
		set age = age - 1 }
	elseif (endmonth = startmonth) {
		set startday = $P(start, "-", 3)
		set endday = $P(end, "-", 3)
		
		if (endday < startday) {
			set age = age - 1 } }
	
	// return the (adjusted) age
	quit age
]]></Implementation>
</Method>

<Method name="DaysDiff">
<Description>
Compute the number of days between a start and end time in YYYY-MM-DD format
start - start time
end - end time</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>start:%String,end:%String</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[
	set stime = $zdh(start, 3)
	set etime = $zdh(end, 3)
	
	quit end - start
]]></Implementation>
</Method>

<Method name="MinutesDiff">
<Description>
Compute the number of hours between a start date/time and end date/time
start date - starting date
start time - starting time of day
end date - ending date
end time - ending time of day</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>startdate:%String,starttime:%String,enddate:%String,endtime:%String</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[	quit (((enddate-startdate)*86400) + (endtime-starttime))/60
]]></Implementation>
</Method>

<Method name="ExportSchema">
<ClassMethod>1</ClassMethod>
<FormalSpec>pName:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set schemawriter=##class(%XML.Schema).%New()
	set schemawriter.IncludeDocumentation = 0
 	set namespace="http://tempuri.org/ISC/Samples"
  	set schemawriter.DefaultNamespace=namespace
 	//add class and package (for example)
	 Set status=schemawriter.AddSchemaType(pName)

 	//retrieve schema by its URI
 	//which is null in this example
 	Set schema=schemawriter.GetSchema("namespace")
 
 	//create writer
 	Set writer=##class(%XML.Writer).%New()
 	Set writer.Indent=1
 	set writer.Charset="UTF-8"
 	set filename="XXXOutput.xsd"
 
 	//use writer
 	set status=writer.OutputToFile(filename)
 	if $$$ISERR(status) { do $System.Status.DisplayError(status) quit  }
 	Do writer.DocumentNode(schema)
]]></Implementation>
</Method>

<Method name="ExportSchema2">
<ClassMethod>1</ClassMethod>
<FormalSpec>pName:%String,*pfileName:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
  set schema=##class(%XML.Schema).%New()
  set schema.IncludeDocumentation = 0
  set namespace="http://extension-functions.intersystems.com"
  set schema.DefaultNamespace=namespace
  //Get %XML.Writer instance.
  set writer=##class(%XML.Writer).%New()
  set writer.Indent=1
  do writer.AddSchemaNamespace()
  do writer.AddNamespace(namespace,"isc")
  //Add Company.  Note that referenced types are also added.
  set status=schema.AddSchemaType(pName)
  if $system.Status.IsError(status) do $system.Status.DisplayError(status) quit
  
  //Verify that we have just our expected namespace.
  //This is included for just for illustration.
  if (schema.Namespaces.Count()'=1) || (schema.Namespaces.GetAt(1)'=namespace) {
   write !,"Unexpected namespace found",!
   write !,"List Of Namespace: ",!
   for i=1:1:schema.Namespaces.Count() {
    write "    ",schema.Namespaces.GetAt(i),!
   }
   write !
   quit
  }
  ; Output the schema.
  //set filename = "XXXOutput2.xsd"
  set st = writer.OutputToFile(.pfileName)
  zw st
  set st =writer.DocumentNode(schema.GetSchema(namespace))
  zw st
  do writer.Reset()

  quit st
]]></Implementation>
</Method>

<Method name="ExportSchemaOriginal">
<ClassMethod>1</ClassMethod>
<FormalSpec>pName:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set schemawriter=##class(%XML.Schema).%New()
	set schemawriter.IncludeDocumentation = 0
 
 	//add class and package (for example)
	 Set status=schemawriter.AddSchemaType(pName)

 	//retrieve schema by its URI
 	//which is null in this example
 	Set schema=schemawriter.GetSchema("")
 
 	//create writer
 	Set writer=##class(%XML.Writer).%New()
 	Set writer.Indent=1
 	set writer.Charset="UTF-8"
 	set filename="XXXOutput.xml"
 
 	//use writer
 	set status=writer.OutputToFile(filename)
 	if $$$ISERR(status) { do $System.Status.DisplayError(status) quit  }
 	Do writer.DocumentNode(schema)
]]></Implementation>
</Method>

<Method name="mytransform">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set in="d:\working\hipSample.xml"
	set xsl="d:\working\HIP\HIP-to-C32v25.xsl"
	set out="d:\working\HIPSampleOut.xml"
	set tSc=##class(%XML.XSLT.Transformer).TransformFile(in,xsl,out)
	w tSc
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Tools.Tools2">
<Description>
不知道什么东西，原来的名字是CDR.Site.Code</Description>
<Super>%RegisteredObject</Super>
<TimeChanged>64679,62156.662684</TimeChanged>
<TimeCreated>63428,40790.824975</TimeCreated>

<Method name="CreateLabOrderbySampleNo">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pSampleNo:%String,pEncounterId:%String,&pLabOrder:CDR.LabOrder]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//根据样本号创建OrderNo,规则是"LABS"_pSampleNo
	Set tOrderNo = "LABS"_pSampleNo
	Set tLabOrder = ##class(CDR.LabOrder).ukOrderIdOpen(tOrderNo)
	Quit:$ISOBJECT(tLabOrder) $$$ERROR(-50000,"LabOrder with OrderNo :"_tOrderNo_"exist already")
	
	Set pLabOrder = ##class(CDR.LabOrder).%New()
	Set pLabOrder.OrderId = tOrderNo
	Set pLabOrder.OrderCategory = "LAB"
	Set pLabOrder.OrderQuantity=1
	Set pLabOrder.Status = "CM"
	Set pLabOrder.PlacerId=tOrderNo
	Set pLabOrder.FillerId = pSampleNo
    Do pLabOrder.EncounterSetObjectId(pEncounterId)
	Quit pLabOrder.%Save()
]]></Implementation>
</Method>
</Class>


<Class name="CDR.Tools.hma">
<Description>
不知道什么东西，原来的名字是CDR.Site.Code</Description>
<Super>%RegisteredObject</Super>
<TimeChanged>64679,64134.492558</TimeChanged>
<TimeCreated>63428,40790.824975</TimeCreated>

<Method name="importPatient">
<ClassMethod>1</ClassMethod>
<FormalSpec>filename:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Set reader = ##class(%XML.Reader).%New()
	quit:reader.OpenFile(filename)
	do reader.Correlate("Patient","CDR.Patient")
	do reader.Next(.object,.status)
	if status'=1 set err=$system.OBJ.DisplayError(%objlasterror)
	else 
	do object.%Save()
	quit object.PatientNumber
]]></Implementation>
</Method>
</Class>


<Package name="CDR" sqlname="CDR"/>
</Export>
